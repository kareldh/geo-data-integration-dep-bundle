!function(e){var t={};function r(n){if(t[n])return t[n].exports;var i=t[n]={i:n,l:!1,exports:{}};return e[n].call(i.exports,i,i.exports,r),i.l=!0,i.exports}r.m=e,r.c=t,r.d=function(e,t,n){r.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:n})},r.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},r.t=function(e,t){if(1&t&&(e=r(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var n=Object.create(null);if(r.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var i in e)r.d(n,i,function(t){return e[t]}.bind(null,i));return n},r.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return r.d(t,"a",t),t},r.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},r.p="",r(r.s=57)}([function(e,t){var r;r=function(){return this}();try{r=r||new Function("return this")()}catch(e){"object"==typeof window&&(r=window)}e.exports=r},function(e,t,r){"use strict";(function(t,n){const i=r(4),o=r(3),a=r(27).IdentifierIssuer,s=r(5),u=/(?:<[^>]*?>|"[^"]*?"|[^,])+/g,c=/\s*<([^>]*?)>\s*(?:;\s*(.*))?/,l=/(.*?)=(?:(?:"([^"]*?)")|([^"]*?))\s*(?:(?:;\s*)|$)/g,h={accept:"application/ld+json, application/json"},f={};e.exports=f,f.IdentifierIssuer=a;const d="function"==typeof t&&t,p=d?e=>d(e):e=>setTimeout(e,0);function g(e,t,r){f.nextTick(()=>e(t,r))}"object"==typeof n&&"function"==typeof n.nextTick?f.nextTick=n.nextTick:f.nextTick=p,f.setImmediate=d?p:f.nextTick,f.clone=function(e){if(e&&"object"==typeof e){let t;if(o.isArray(e)){t=[];for(let r=0;r<e.length;++r)t[r]=f.clone(e[r])}else if(e instanceof Map){t=new Map;for(const[r,n]of e)t.set(r,f.clone(n))}else if(e instanceof Set){t=new Set;for(const r of e)t.add(f.clone(r))}else if(o.isObject(e)){t={};for(const r in e)t[r]=f.clone(e[r])}else t=e.toString();return t}return e},f.asArray=function(e){return Array.isArray(e)?e:[e]},f.buildHeaders=(e={})=>{if(Object.keys(e).some(e=>"accept"===e.toLowerCase()))throw new RangeError('Accept header may not be specified; only "'+h.accept+'" is supported.');return Object.assign({Accept:h.accept},e)},f.parseLinkHeader=e=>{const t={},r=e.match(u);for(let e=0;e<r.length;++e){let n=r[e].match(c);if(!n)continue;const i={target:n[1]},o=n[2];for(;n=l.exec(o);)i[n[1]]=void 0===n[2]?n[3]:n[2];const a=i.rel||"";Array.isArray(t[a])?t[a].push(i):t.hasOwnProperty(a)?t[a]=[t[a],i]:t[a]=i}return t},f.validateTypeValue=e=>{if(o.isString(e)||o.isEmptyObject(e))return;let t=!1;if(o.isArray(e)){t=!0;for(let r=0;r<e.length;++r)if(!o.isString(e[r])){t=!1;break}}if(!t)throw new s('Invalid JSON-LD syntax; "@type" value must a string, an array of strings, or an empty object.',"jsonld.SyntaxError",{code:"invalid type value",value:e})},f.hasProperty=(e,t)=>{if(e.hasOwnProperty(t)){const r=e[t];return!o.isArray(r)||r.length>0}return!1},f.hasValue=(e,t,r)=>{if(f.hasProperty(e,t)){let n=e[t];const a=i.isList(n);if(o.isArray(n)||a){a&&(n=n["@list"]);for(let e=0;e<n.length;++e)if(f.compareValues(r,n[e]))return!0}else if(!o.isArray(r))return f.compareValues(r,n)}return!1},f.addValue=(e,t,r,n)=>{if("propertyIsArray"in(n=n||{})||(n.propertyIsArray=!1),"allowDuplicate"in n||(n.allowDuplicate=!0),o.isArray(r)){0===r.length&&n.propertyIsArray&&!e.hasOwnProperty(t)&&(e[t]=[]);for(let i=0;i<r.length;++i)f.addValue(e,t,r[i],n)}else if(e.hasOwnProperty(t)){const i=!n.allowDuplicate&&f.hasValue(e,t,r);o.isArray(e[t])||i&&!n.propertyIsArray||(e[t]=[e[t]]),i||e[t].push(r)}else e[t]=n.propertyIsArray?[r]:r},f.getValues=(e,t)=>[].concat(e[t]||[]),f.removeProperty=(e,t)=>{delete e[t]},f.removeValue=(e,t,r,n)=>{"propertyIsArray"in(n=n||{})||(n.propertyIsArray=!1);const i=f.getValues(e,t).filter(e=>!f.compareValues(e,r));0===i.length?f.removeProperty(e,t):1!==i.length||n.propertyIsArray?e[t]=i:e[t]=i[0]},f.relabelBlankNodes=(e,t)=>{return function e(t,r){if(o.isArray(r))for(let n=0;n<r.length;++n)r[n]=e(t,r[n]);else if(i.isList(r))r["@list"]=e(t,r["@list"]);else if(o.isObject(r)){i.isBlankNode(r)&&(r["@id"]=t.getId(r["@id"]));const n=Object.keys(r).sort();for(let i=0;i<n.length;++i){const o=n[i];"@id"!==o&&(r[o]=e(t,r[o]))}}return r}((t=t||{}).issuer||new a("_:b"),e)},f.compareValues=(e,t)=>e===t||(!(!i.isValue(e)||!i.isValue(t)||e["@value"]!==t["@value"]||e["@type"]!==t["@type"]||e["@language"]!==t["@language"]||e["@index"]!==t["@index"])||!!(o.isObject(e)&&"@id"in e&&o.isObject(t)&&"@id"in t)&&e["@id"]===t["@id"]),f.compareShortestLeast=(e,t)=>e.length<t.length?-1:t.length<e.length?1:e===t?0:e<t?-1:1,f.normalizeDocumentLoader=e=>e.length<2?f.callbackify(e):async function(t){const r=arguments[1];return new Promise((n,i)=>{try{e(t,(e,t)=>{if("function"==typeof r)return g(r,e,t);e?i(e):n(t)})}catch(e){if("function"==typeof r)return g(r,e);i(e)}})},f.callbackify=e=>(async function(...t){const r=t[t.length-1];let n;"function"==typeof r&&t.pop();try{n=await e.apply(null,t)}catch(e){if("function"==typeof r)return g(r,e);throw e}return"function"==typeof r?g(r,null,n):n})}).call(this,r(11).setImmediate,r(2))},function(e,t){var r,n,i=e.exports={};function o(){throw new Error("setTimeout has not been defined")}function a(){throw new Error("clearTimeout has not been defined")}function s(e){if(r===setTimeout)return setTimeout(e,0);if((r===o||!r)&&setTimeout)return r=setTimeout,setTimeout(e,0);try{return r(e,0)}catch(t){try{return r.call(null,e,0)}catch(t){return r.call(this,e,0)}}}!function(){try{r="function"==typeof setTimeout?setTimeout:o}catch(e){r=o}try{n="function"==typeof clearTimeout?clearTimeout:a}catch(e){n=a}}();var u,c=[],l=!1,h=-1;function f(){l&&u&&(l=!1,u.length?c=u.concat(c):h=-1,c.length&&d())}function d(){if(!l){var e=s(f);l=!0;for(var t=c.length;t;){for(u=c,c=[];++h<t;)u&&u[h].run();h=-1,t=c.length}u=null,l=!1,function(e){if(n===clearTimeout)return clearTimeout(e);if((n===a||!n)&&clearTimeout)return n=clearTimeout,clearTimeout(e);try{n(e)}catch(t){try{return n.call(null,e)}catch(t){return n.call(this,e)}}}(e)}}function p(e,t){this.fun=e,this.array=t}function g(){}i.nextTick=function(e){var t=new Array(arguments.length-1);if(arguments.length>1)for(var r=1;r<arguments.length;r++)t[r-1]=arguments[r];c.push(new p(e,t)),1!==c.length||l||s(d)},p.prototype.run=function(){this.fun.apply(null,this.array)},i.title="browser",i.browser=!0,i.env={},i.argv=[],i.version="",i.versions={},i.on=g,i.addListener=g,i.once=g,i.off=g,i.removeListener=g,i.removeAllListeners=g,i.emit=g,i.prependListener=g,i.prependOnceListener=g,i.listeners=function(e){return[]},i.binding=function(e){throw new Error("process.binding is not supported")},i.cwd=function(){return"/"},i.chdir=function(e){throw new Error("process.chdir is not supported")},i.umask=function(){return 0}},function(e,t,r){"use strict";const n={};e.exports=n,n.isArray=Array.isArray,n.isBoolean=e=>"boolean"==typeof e||"[object Boolean]"===Object.prototype.toString.call(e),n.isDouble=e=>n.isNumber(e)&&-1!==String(e).indexOf("."),n.isEmptyObject=e=>n.isObject(e)&&0===Object.keys(e).length,n.isNumber=e=>"number"==typeof e||"[object Number]"===Object.prototype.toString.call(e),n.isNumeric=e=>!isNaN(parseFloat(e))&&isFinite(e),n.isObject=e=>"[object Object]"===Object.prototype.toString.call(e),n.isString=e=>"string"==typeof e||"[object String]"===Object.prototype.toString.call(e),n.isUndefined=e=>void 0===e},function(e,t,r){"use strict";const n=r(3),i={};e.exports=i,i.isSubject=e=>{if(n.isObject(e)&&!("@value"in e||"@set"in e||"@list"in e)){return Object.keys(e).length>1||!("@id"in e)}return!1},i.isSubjectReference=e=>n.isObject(e)&&1===Object.keys(e).length&&"@id"in e,i.isValue=e=>n.isObject(e)&&"@value"in e,i.isList=e=>n.isObject(e)&&"@list"in e,i.isGraph=e=>n.isObject(e)&&"@graph"in e&&1===Object.keys(e).filter(e=>"@id"!==e&&"@index"!==e).length,i.isSimpleGraph=e=>i.isGraph(e)&&!("@id"in e),i.isBlankNode=e=>!!n.isObject(e)&&("@id"in e?0===e["@id"].indexOf("_:"):0===Object.keys(e).length||!("@value"in e||"@set"in e||"@list"in e))},function(e,t,r){"use strict";e.exports=class extends Error{constructor(e="An unspecified JSON-LD error occurred.",t="jsonld.Error",r={}){super(e),this.name=t,this.message=e,this.details=r}}},function(e,t,r){"use strict";(function(e){
/*!
 * The buffer module from node.js, for the browser.
 *
 * @author   Feross Aboukhadijeh <feross@feross.org> <http://feross.org>
 * @license  MIT
 */
var n=r(64),i=r(65),o=r(36);function a(){return u.TYPED_ARRAY_SUPPORT?2147483647:1073741823}function s(e,t){if(a()<t)throw new RangeError("Invalid typed array length");return u.TYPED_ARRAY_SUPPORT?(e=new Uint8Array(t)).__proto__=u.prototype:(null===e&&(e=new u(t)),e.length=t),e}function u(e,t,r){if(!(u.TYPED_ARRAY_SUPPORT||this instanceof u))return new u(e,t,r);if("number"==typeof e){if("string"==typeof t)throw new Error("If encoding is specified then the first argument must be a string");return h(this,e)}return c(this,e,t,r)}function c(e,t,r,n){if("number"==typeof t)throw new TypeError('"value" argument must not be a number');return"undefined"!=typeof ArrayBuffer&&t instanceof ArrayBuffer?function(e,t,r,n){if(t.byteLength,r<0||t.byteLength<r)throw new RangeError("'offset' is out of bounds");if(t.byteLength<r+(n||0))throw new RangeError("'length' is out of bounds");t=void 0===r&&void 0===n?new Uint8Array(t):void 0===n?new Uint8Array(t,r):new Uint8Array(t,r,n);u.TYPED_ARRAY_SUPPORT?(e=t).__proto__=u.prototype:e=f(e,t);return e}(e,t,r,n):"string"==typeof t?function(e,t,r){"string"==typeof r&&""!==r||(r="utf8");if(!u.isEncoding(r))throw new TypeError('"encoding" must be a valid string encoding');var n=0|p(t,r),i=(e=s(e,n)).write(t,r);i!==n&&(e=e.slice(0,i));return e}(e,t,r):function(e,t){if(u.isBuffer(t)){var r=0|d(t.length);return 0===(e=s(e,r)).length?e:(t.copy(e,0,0,r),e)}if(t){if("undefined"!=typeof ArrayBuffer&&t.buffer instanceof ArrayBuffer||"length"in t)return"number"!=typeof t.length||(n=t.length)!=n?s(e,0):f(e,t);if("Buffer"===t.type&&o(t.data))return f(e,t.data)}var n;throw new TypeError("First argument must be a string, Buffer, ArrayBuffer, Array, or array-like object.")}(e,t)}function l(e){if("number"!=typeof e)throw new TypeError('"size" argument must be a number');if(e<0)throw new RangeError('"size" argument must not be negative')}function h(e,t){if(l(t),e=s(e,t<0?0:0|d(t)),!u.TYPED_ARRAY_SUPPORT)for(var r=0;r<t;++r)e[r]=0;return e}function f(e,t){var r=t.length<0?0:0|d(t.length);e=s(e,r);for(var n=0;n<r;n+=1)e[n]=255&t[n];return e}function d(e){if(e>=a())throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+a().toString(16)+" bytes");return 0|e}function p(e,t){if(u.isBuffer(e))return e.length;if("undefined"!=typeof ArrayBuffer&&"function"==typeof ArrayBuffer.isView&&(ArrayBuffer.isView(e)||e instanceof ArrayBuffer))return e.byteLength;"string"!=typeof e&&(e=""+e);var r=e.length;if(0===r)return 0;for(var n=!1;;)switch(t){case"ascii":case"latin1":case"binary":return r;case"utf8":case"utf-8":case void 0:return q(e).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return 2*r;case"hex":return r>>>1;case"base64":return z(e).length;default:if(n)return q(e).length;t=(""+t).toLowerCase(),n=!0}}function g(e,t,r){var n=!1;if((void 0===t||t<0)&&(t=0),t>this.length)return"";if((void 0===r||r>this.length)&&(r=this.length),r<=0)return"";if((r>>>=0)<=(t>>>=0))return"";for(e||(e="utf8");;)switch(e){case"hex":return C(this,t,r);case"utf8":case"utf-8":return S(this,t,r);case"ascii":return E(this,t,r);case"latin1":case"binary":return R(this,t,r);case"base64":return T(this,t,r);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return A(this,t,r);default:if(n)throw new TypeError("Unknown encoding: "+e);e=(e+"").toLowerCase(),n=!0}}function y(e,t,r){var n=e[t];e[t]=e[r],e[r]=n}function m(e,t,r,n,i){if(0===e.length)return-1;if("string"==typeof r?(n=r,r=0):r>2147483647?r=2147483647:r<-2147483648&&(r=-2147483648),r=+r,isNaN(r)&&(r=i?0:e.length-1),r<0&&(r=e.length+r),r>=e.length){if(i)return-1;r=e.length-1}else if(r<0){if(!i)return-1;r=0}if("string"==typeof t&&(t=u.from(t,n)),u.isBuffer(t))return 0===t.length?-1:v(e,t,r,n,i);if("number"==typeof t)return t&=255,u.TYPED_ARRAY_SUPPORT&&"function"==typeof Uint8Array.prototype.indexOf?i?Uint8Array.prototype.indexOf.call(e,t,r):Uint8Array.prototype.lastIndexOf.call(e,t,r):v(e,[t],r,n,i);throw new TypeError("val must be string, number or Buffer")}function v(e,t,r,n,i){var o,a=1,s=e.length,u=t.length;if(void 0!==n&&("ucs2"===(n=String(n).toLowerCase())||"ucs-2"===n||"utf16le"===n||"utf-16le"===n)){if(e.length<2||t.length<2)return-1;a=2,s/=2,u/=2,r/=2}function c(e,t){return 1===a?e[t]:e.readUInt16BE(t*a)}if(i){var l=-1;for(o=r;o<s;o++)if(c(e,o)===c(t,-1===l?0:o-l)){if(-1===l&&(l=o),o-l+1===u)return l*a}else-1!==l&&(o-=o-l),l=-1}else for(r+u>s&&(r=s-u),o=r;o>=0;o--){for(var h=!0,f=0;f<u;f++)if(c(e,o+f)!==c(t,f)){h=!1;break}if(h)return o}return-1}function b(e,t,r,n){r=Number(r)||0;var i=e.length-r;n?(n=Number(n))>i&&(n=i):n=i;var o=t.length;if(o%2!=0)throw new TypeError("Invalid hex string");n>o/2&&(n=o/2);for(var a=0;a<n;++a){var s=parseInt(t.substr(2*a,2),16);if(isNaN(s))return a;e[r+a]=s}return a}function w(e,t,r,n){return H(q(t,e.length-r),e,r,n)}function x(e,t,r,n){return H(function(e){for(var t=[],r=0;r<e.length;++r)t.push(255&e.charCodeAt(r));return t}(t),e,r,n)}function _(e,t,r,n){return x(e,t,r,n)}function I(e,t,r,n){return H(z(t),e,r,n)}function N(e,t,r,n){return H(function(e,t){for(var r,n,i,o=[],a=0;a<e.length&&!((t-=2)<0);++a)r=e.charCodeAt(a),n=r>>8,i=r%256,o.push(i),o.push(n);return o}(t,e.length-r),e,r,n)}function T(e,t,r){return 0===t&&r===e.length?n.fromByteArray(e):n.fromByteArray(e.slice(t,r))}function S(e,t,r){r=Math.min(e.length,r);for(var n=[],i=t;i<r;){var o,a,s,u,c=e[i],l=null,h=c>239?4:c>223?3:c>191?2:1;if(i+h<=r)switch(h){case 1:c<128&&(l=c);break;case 2:128==(192&(o=e[i+1]))&&(u=(31&c)<<6|63&o)>127&&(l=u);break;case 3:o=e[i+1],a=e[i+2],128==(192&o)&&128==(192&a)&&(u=(15&c)<<12|(63&o)<<6|63&a)>2047&&(u<55296||u>57343)&&(l=u);break;case 4:o=e[i+1],a=e[i+2],s=e[i+3],128==(192&o)&&128==(192&a)&&128==(192&s)&&(u=(15&c)<<18|(63&o)<<12|(63&a)<<6|63&s)>65535&&u<1114112&&(l=u)}null===l?(l=65533,h=1):l>65535&&(l-=65536,n.push(l>>>10&1023|55296),l=56320|1023&l),n.push(l),i+=h}return function(e){var t=e.length;if(t<=j)return String.fromCharCode.apply(String,e);var r="",n=0;for(;n<t;)r+=String.fromCharCode.apply(String,e.slice(n,n+=j));return r}(n)}t.Buffer=u,t.SlowBuffer=function(e){+e!=e&&(e=0);return u.alloc(+e)},t.INSPECT_MAX_BYTES=50,u.TYPED_ARRAY_SUPPORT=void 0!==e.TYPED_ARRAY_SUPPORT?e.TYPED_ARRAY_SUPPORT:function(){try{var e=new Uint8Array(1);return e.__proto__={__proto__:Uint8Array.prototype,foo:function(){return 42}},42===e.foo()&&"function"==typeof e.subarray&&0===e.subarray(1,1).byteLength}catch(e){return!1}}(),t.kMaxLength=a(),u.poolSize=8192,u._augment=function(e){return e.__proto__=u.prototype,e},u.from=function(e,t,r){return c(null,e,t,r)},u.TYPED_ARRAY_SUPPORT&&(u.prototype.__proto__=Uint8Array.prototype,u.__proto__=Uint8Array,"undefined"!=typeof Symbol&&Symbol.species&&u[Symbol.species]===u&&Object.defineProperty(u,Symbol.species,{value:null,configurable:!0})),u.alloc=function(e,t,r){return function(e,t,r,n){return l(t),t<=0?s(e,t):void 0!==r?"string"==typeof n?s(e,t).fill(r,n):s(e,t).fill(r):s(e,t)}(null,e,t,r)},u.allocUnsafe=function(e){return h(null,e)},u.allocUnsafeSlow=function(e){return h(null,e)},u.isBuffer=function(e){return!(null==e||!e._isBuffer)},u.compare=function(e,t){if(!u.isBuffer(e)||!u.isBuffer(t))throw new TypeError("Arguments must be Buffers");if(e===t)return 0;for(var r=e.length,n=t.length,i=0,o=Math.min(r,n);i<o;++i)if(e[i]!==t[i]){r=e[i],n=t[i];break}return r<n?-1:n<r?1:0},u.isEncoding=function(e){switch(String(e).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},u.concat=function(e,t){if(!o(e))throw new TypeError('"list" argument must be an Array of Buffers');if(0===e.length)return u.alloc(0);var r;if(void 0===t)for(t=0,r=0;r<e.length;++r)t+=e[r].length;var n=u.allocUnsafe(t),i=0;for(r=0;r<e.length;++r){var a=e[r];if(!u.isBuffer(a))throw new TypeError('"list" argument must be an Array of Buffers');a.copy(n,i),i+=a.length}return n},u.byteLength=p,u.prototype._isBuffer=!0,u.prototype.swap16=function(){var e=this.length;if(e%2!=0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(var t=0;t<e;t+=2)y(this,t,t+1);return this},u.prototype.swap32=function(){var e=this.length;if(e%4!=0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(var t=0;t<e;t+=4)y(this,t,t+3),y(this,t+1,t+2);return this},u.prototype.swap64=function(){var e=this.length;if(e%8!=0)throw new RangeError("Buffer size must be a multiple of 64-bits");for(var t=0;t<e;t+=8)y(this,t,t+7),y(this,t+1,t+6),y(this,t+2,t+5),y(this,t+3,t+4);return this},u.prototype.toString=function(){var e=0|this.length;return 0===e?"":0===arguments.length?S(this,0,e):g.apply(this,arguments)},u.prototype.equals=function(e){if(!u.isBuffer(e))throw new TypeError("Argument must be a Buffer");return this===e||0===u.compare(this,e)},u.prototype.inspect=function(){var e="",r=t.INSPECT_MAX_BYTES;return this.length>0&&(e=this.toString("hex",0,r).match(/.{2}/g).join(" "),this.length>r&&(e+=" ... ")),"<Buffer "+e+">"},u.prototype.compare=function(e,t,r,n,i){if(!u.isBuffer(e))throw new TypeError("Argument must be a Buffer");if(void 0===t&&(t=0),void 0===r&&(r=e?e.length:0),void 0===n&&(n=0),void 0===i&&(i=this.length),t<0||r>e.length||n<0||i>this.length)throw new RangeError("out of range index");if(n>=i&&t>=r)return 0;if(n>=i)return-1;if(t>=r)return 1;if(this===e)return 0;for(var o=(i>>>=0)-(n>>>=0),a=(r>>>=0)-(t>>>=0),s=Math.min(o,a),c=this.slice(n,i),l=e.slice(t,r),h=0;h<s;++h)if(c[h]!==l[h]){o=c[h],a=l[h];break}return o<a?-1:a<o?1:0},u.prototype.includes=function(e,t,r){return-1!==this.indexOf(e,t,r)},u.prototype.indexOf=function(e,t,r){return m(this,e,t,r,!0)},u.prototype.lastIndexOf=function(e,t,r){return m(this,e,t,r,!1)},u.prototype.write=function(e,t,r,n){if(void 0===t)n="utf8",r=this.length,t=0;else if(void 0===r&&"string"==typeof t)n=t,r=this.length,t=0;else{if(!isFinite(t))throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");t|=0,isFinite(r)?(r|=0,void 0===n&&(n="utf8")):(n=r,r=void 0)}var i=this.length-t;if((void 0===r||r>i)&&(r=i),e.length>0&&(r<0||t<0)||t>this.length)throw new RangeError("Attempt to write outside buffer bounds");n||(n="utf8");for(var o=!1;;)switch(n){case"hex":return b(this,e,t,r);case"utf8":case"utf-8":return w(this,e,t,r);case"ascii":return x(this,e,t,r);case"latin1":case"binary":return _(this,e,t,r);case"base64":return I(this,e,t,r);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return N(this,e,t,r);default:if(o)throw new TypeError("Unknown encoding: "+n);n=(""+n).toLowerCase(),o=!0}},u.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};var j=4096;function E(e,t,r){var n="";r=Math.min(e.length,r);for(var i=t;i<r;++i)n+=String.fromCharCode(127&e[i]);return n}function R(e,t,r){var n="";r=Math.min(e.length,r);for(var i=t;i<r;++i)n+=String.fromCharCode(e[i]);return n}function C(e,t,r){var n=e.length;(!t||t<0)&&(t=0),(!r||r<0||r>n)&&(r=n);for(var i="",o=t;o<r;++o)i+=F(e[o]);return i}function A(e,t,r){for(var n=e.slice(t,r),i="",o=0;o<n.length;o+=2)i+=String.fromCharCode(n[o]+256*n[o+1]);return i}function k(e,t,r){if(e%1!=0||e<0)throw new RangeError("offset is not uint");if(e+t>r)throw new RangeError("Trying to access beyond buffer length")}function O(e,t,r,n,i,o){if(!u.isBuffer(e))throw new TypeError('"buffer" argument must be a Buffer instance');if(t>i||t<o)throw new RangeError('"value" argument is out of bounds');if(r+n>e.length)throw new RangeError("Index out of range")}function D(e,t,r,n){t<0&&(t=65535+t+1);for(var i=0,o=Math.min(e.length-r,2);i<o;++i)e[r+i]=(t&255<<8*(n?i:1-i))>>>8*(n?i:1-i)}function L(e,t,r,n){t<0&&(t=4294967295+t+1);for(var i=0,o=Math.min(e.length-r,4);i<o;++i)e[r+i]=t>>>8*(n?i:3-i)&255}function M(e,t,r,n,i,o){if(r+n>e.length)throw new RangeError("Index out of range");if(r<0)throw new RangeError("Index out of range")}function B(e,t,r,n,o){return o||M(e,0,r,4),i.write(e,t,r,n,23,4),r+4}function P(e,t,r,n,o){return o||M(e,0,r,8),i.write(e,t,r,n,52,8),r+8}u.prototype.slice=function(e,t){var r,n=this.length;if((e=~~e)<0?(e+=n)<0&&(e=0):e>n&&(e=n),(t=void 0===t?n:~~t)<0?(t+=n)<0&&(t=0):t>n&&(t=n),t<e&&(t=e),u.TYPED_ARRAY_SUPPORT)(r=this.subarray(e,t)).__proto__=u.prototype;else{var i=t-e;r=new u(i,void 0);for(var o=0;o<i;++o)r[o]=this[o+e]}return r},u.prototype.readUIntLE=function(e,t,r){e|=0,t|=0,r||k(e,t,this.length);for(var n=this[e],i=1,o=0;++o<t&&(i*=256);)n+=this[e+o]*i;return n},u.prototype.readUIntBE=function(e,t,r){e|=0,t|=0,r||k(e,t,this.length);for(var n=this[e+--t],i=1;t>0&&(i*=256);)n+=this[e+--t]*i;return n},u.prototype.readUInt8=function(e,t){return t||k(e,1,this.length),this[e]},u.prototype.readUInt16LE=function(e,t){return t||k(e,2,this.length),this[e]|this[e+1]<<8},u.prototype.readUInt16BE=function(e,t){return t||k(e,2,this.length),this[e]<<8|this[e+1]},u.prototype.readUInt32LE=function(e,t){return t||k(e,4,this.length),(this[e]|this[e+1]<<8|this[e+2]<<16)+16777216*this[e+3]},u.prototype.readUInt32BE=function(e,t){return t||k(e,4,this.length),16777216*this[e]+(this[e+1]<<16|this[e+2]<<8|this[e+3])},u.prototype.readIntLE=function(e,t,r){e|=0,t|=0,r||k(e,t,this.length);for(var n=this[e],i=1,o=0;++o<t&&(i*=256);)n+=this[e+o]*i;return n>=(i*=128)&&(n-=Math.pow(2,8*t)),n},u.prototype.readIntBE=function(e,t,r){e|=0,t|=0,r||k(e,t,this.length);for(var n=t,i=1,o=this[e+--n];n>0&&(i*=256);)o+=this[e+--n]*i;return o>=(i*=128)&&(o-=Math.pow(2,8*t)),o},u.prototype.readInt8=function(e,t){return t||k(e,1,this.length),128&this[e]?-1*(255-this[e]+1):this[e]},u.prototype.readInt16LE=function(e,t){t||k(e,2,this.length);var r=this[e]|this[e+1]<<8;return 32768&r?4294901760|r:r},u.prototype.readInt16BE=function(e,t){t||k(e,2,this.length);var r=this[e+1]|this[e]<<8;return 32768&r?4294901760|r:r},u.prototype.readInt32LE=function(e,t){return t||k(e,4,this.length),this[e]|this[e+1]<<8|this[e+2]<<16|this[e+3]<<24},u.prototype.readInt32BE=function(e,t){return t||k(e,4,this.length),this[e]<<24|this[e+1]<<16|this[e+2]<<8|this[e+3]},u.prototype.readFloatLE=function(e,t){return t||k(e,4,this.length),i.read(this,e,!0,23,4)},u.prototype.readFloatBE=function(e,t){return t||k(e,4,this.length),i.read(this,e,!1,23,4)},u.prototype.readDoubleLE=function(e,t){return t||k(e,8,this.length),i.read(this,e,!0,52,8)},u.prototype.readDoubleBE=function(e,t){return t||k(e,8,this.length),i.read(this,e,!1,52,8)},u.prototype.writeUIntLE=function(e,t,r,n){(e=+e,t|=0,r|=0,n)||O(this,e,t,r,Math.pow(2,8*r)-1,0);var i=1,o=0;for(this[t]=255&e;++o<r&&(i*=256);)this[t+o]=e/i&255;return t+r},u.prototype.writeUIntBE=function(e,t,r,n){(e=+e,t|=0,r|=0,n)||O(this,e,t,r,Math.pow(2,8*r)-1,0);var i=r-1,o=1;for(this[t+i]=255&e;--i>=0&&(o*=256);)this[t+i]=e/o&255;return t+r},u.prototype.writeUInt8=function(e,t,r){return e=+e,t|=0,r||O(this,e,t,1,255,0),u.TYPED_ARRAY_SUPPORT||(e=Math.floor(e)),this[t]=255&e,t+1},u.prototype.writeUInt16LE=function(e,t,r){return e=+e,t|=0,r||O(this,e,t,2,65535,0),u.TYPED_ARRAY_SUPPORT?(this[t]=255&e,this[t+1]=e>>>8):D(this,e,t,!0),t+2},u.prototype.writeUInt16BE=function(e,t,r){return e=+e,t|=0,r||O(this,e,t,2,65535,0),u.TYPED_ARRAY_SUPPORT?(this[t]=e>>>8,this[t+1]=255&e):D(this,e,t,!1),t+2},u.prototype.writeUInt32LE=function(e,t,r){return e=+e,t|=0,r||O(this,e,t,4,4294967295,0),u.TYPED_ARRAY_SUPPORT?(this[t+3]=e>>>24,this[t+2]=e>>>16,this[t+1]=e>>>8,this[t]=255&e):L(this,e,t,!0),t+4},u.prototype.writeUInt32BE=function(e,t,r){return e=+e,t|=0,r||O(this,e,t,4,4294967295,0),u.TYPED_ARRAY_SUPPORT?(this[t]=e>>>24,this[t+1]=e>>>16,this[t+2]=e>>>8,this[t+3]=255&e):L(this,e,t,!1),t+4},u.prototype.writeIntLE=function(e,t,r,n){if(e=+e,t|=0,!n){var i=Math.pow(2,8*r-1);O(this,e,t,r,i-1,-i)}var o=0,a=1,s=0;for(this[t]=255&e;++o<r&&(a*=256);)e<0&&0===s&&0!==this[t+o-1]&&(s=1),this[t+o]=(e/a>>0)-s&255;return t+r},u.prototype.writeIntBE=function(e,t,r,n){if(e=+e,t|=0,!n){var i=Math.pow(2,8*r-1);O(this,e,t,r,i-1,-i)}var o=r-1,a=1,s=0;for(this[t+o]=255&e;--o>=0&&(a*=256);)e<0&&0===s&&0!==this[t+o+1]&&(s=1),this[t+o]=(e/a>>0)-s&255;return t+r},u.prototype.writeInt8=function(e,t,r){return e=+e,t|=0,r||O(this,e,t,1,127,-128),u.TYPED_ARRAY_SUPPORT||(e=Math.floor(e)),e<0&&(e=255+e+1),this[t]=255&e,t+1},u.prototype.writeInt16LE=function(e,t,r){return e=+e,t|=0,r||O(this,e,t,2,32767,-32768),u.TYPED_ARRAY_SUPPORT?(this[t]=255&e,this[t+1]=e>>>8):D(this,e,t,!0),t+2},u.prototype.writeInt16BE=function(e,t,r){return e=+e,t|=0,r||O(this,e,t,2,32767,-32768),u.TYPED_ARRAY_SUPPORT?(this[t]=e>>>8,this[t+1]=255&e):D(this,e,t,!1),t+2},u.prototype.writeInt32LE=function(e,t,r){return e=+e,t|=0,r||O(this,e,t,4,2147483647,-2147483648),u.TYPED_ARRAY_SUPPORT?(this[t]=255&e,this[t+1]=e>>>8,this[t+2]=e>>>16,this[t+3]=e>>>24):L(this,e,t,!0),t+4},u.prototype.writeInt32BE=function(e,t,r){return e=+e,t|=0,r||O(this,e,t,4,2147483647,-2147483648),e<0&&(e=4294967295+e+1),u.TYPED_ARRAY_SUPPORT?(this[t]=e>>>24,this[t+1]=e>>>16,this[t+2]=e>>>8,this[t+3]=255&e):L(this,e,t,!1),t+4},u.prototype.writeFloatLE=function(e,t,r){return B(this,e,t,!0,r)},u.prototype.writeFloatBE=function(e,t,r){return B(this,e,t,!1,r)},u.prototype.writeDoubleLE=function(e,t,r){return P(this,e,t,!0,r)},u.prototype.writeDoubleBE=function(e,t,r){return P(this,e,t,!1,r)},u.prototype.copy=function(e,t,r,n){if(r||(r=0),n||0===n||(n=this.length),t>=e.length&&(t=e.length),t||(t=0),n>0&&n<r&&(n=r),n===r)return 0;if(0===e.length||0===this.length)return 0;if(t<0)throw new RangeError("targetStart out of bounds");if(r<0||r>=this.length)throw new RangeError("sourceStart out of bounds");if(n<0)throw new RangeError("sourceEnd out of bounds");n>this.length&&(n=this.length),e.length-t<n-r&&(n=e.length-t+r);var i,o=n-r;if(this===e&&r<t&&t<n)for(i=o-1;i>=0;--i)e[i+t]=this[i+r];else if(o<1e3||!u.TYPED_ARRAY_SUPPORT)for(i=0;i<o;++i)e[i+t]=this[i+r];else Uint8Array.prototype.set.call(e,this.subarray(r,r+o),t);return o},u.prototype.fill=function(e,t,r,n){if("string"==typeof e){if("string"==typeof t?(n=t,t=0,r=this.length):"string"==typeof r&&(n=r,r=this.length),1===e.length){var i=e.charCodeAt(0);i<256&&(e=i)}if(void 0!==n&&"string"!=typeof n)throw new TypeError("encoding must be a string");if("string"==typeof n&&!u.isEncoding(n))throw new TypeError("Unknown encoding: "+n)}else"number"==typeof e&&(e&=255);if(t<0||this.length<t||this.length<r)throw new RangeError("Out of range index");if(r<=t)return this;var o;if(t>>>=0,r=void 0===r?this.length:r>>>0,e||(e=0),"number"==typeof e)for(o=t;o<r;++o)this[o]=e;else{var a=u.isBuffer(e)?e:q(new u(e,n).toString()),s=a.length;for(o=0;o<r-t;++o)this[o+t]=a[o%s]}return this};var U=/[^+\/0-9A-Za-z-_]/g;function F(e){return e<16?"0"+e.toString(16):e.toString(16)}function q(e,t){var r;t=t||1/0;for(var n=e.length,i=null,o=[],a=0;a<n;++a){if((r=e.charCodeAt(a))>55295&&r<57344){if(!i){if(r>56319){(t-=3)>-1&&o.push(239,191,189);continue}if(a+1===n){(t-=3)>-1&&o.push(239,191,189);continue}i=r;continue}if(r<56320){(t-=3)>-1&&o.push(239,191,189),i=r;continue}r=65536+(i-55296<<10|r-56320)}else i&&(t-=3)>-1&&o.push(239,191,189);if(i=null,r<128){if((t-=1)<0)break;o.push(r)}else if(r<2048){if((t-=2)<0)break;o.push(r>>6|192,63&r|128)}else if(r<65536){if((t-=3)<0)break;o.push(r>>12|224,r>>6&63|128,63&r|128)}else{if(!(r<1114112))throw new Error("Invalid code point");if((t-=4)<0)break;o.push(r>>18|240,r>>12&63|128,r>>6&63|128,63&r|128)}}return o}function z(e){return n.toByteArray(function(e){if((e=function(e){return e.trim?e.trim():e.replace(/^\s+|\s+$/g,"")}(e).replace(U,"")).length<2)return"";for(;e.length%4!=0;)e+="=";return e}(e))}function H(e,t,r,n){for(var i=0;i<n&&!(i+r>=t.length||i>=e.length);++i)t[i+r]=e[i];return i}}).call(this,r(0))},function(e,t){"function"==typeof Object.create?e.exports=function(e,t){t&&(e.super_=t,e.prototype=Object.create(t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}))}:e.exports=function(e,t){if(t){e.super_=t;var r=function(){};r.prototype=t.prototype,e.prototype=new r,e.prototype.constructor=e}}},function(e,t,r){"use strict";var n=r(19),i=Object.keys||function(e){var t=[];for(var r in e)t.push(r);return t};e.exports=h;var o=r(14);o.inherits=r(7);var a=r(39),s=r(23);o.inherits(h,a);for(var u=i(s.prototype),c=0;c<u.length;c++){var l=u[c];h.prototype[l]||(h.prototype[l]=s.prototype[l])}function h(e){if(!(this instanceof h))return new h(e);a.call(this,e),s.call(this,e),e&&!1===e.readable&&(this.readable=!1),e&&!1===e.writable&&(this.writable=!1),this.allowHalfOpen=!0,e&&!1===e.allowHalfOpen&&(this.allowHalfOpen=!1),this.once("end",f)}function f(){this.allowHalfOpen||this._writableState.ended||n.nextTick(d,this)}function d(e){e.end()}Object.defineProperty(h.prototype,"writableHighWaterMark",{enumerable:!1,get:function(){return this._writableState.highWaterMark}}),Object.defineProperty(h.prototype,"destroyed",{get:function(){return void 0!==this._readableState&&void 0!==this._writableState&&(this._readableState.destroyed&&this._writableState.destroyed)},set:function(e){void 0!==this._readableState&&void 0!==this._writableState&&(this._readableState.destroyed=e,this._writableState.destroyed=e)}}),h.prototype._destroy=function(e,t){this.push(null),this.end(),n.nextTick(t,e)}},function(e,t,r){"use strict";(function(t,r){const n={};e.exports=n;const i="function"==typeof t&&t,o=i?e=>i(e):e=>setTimeout(e,0);function a(e,t,n){try{return e(t,n)}catch(e){r.nextTick(()=>{throw e})}}"object"==typeof r&&"function"==typeof r.nextTick?n.nextTick=r.nextTick:n.nextTick=o,n.setImmediate=i?o:n.nextTick,n.clone=function(e){if(e&&"object"==typeof e){let t;if(Array.isArray(e)){t=[];for(let r=0;r<e.length;++r)t[r]=n.clone(e[r])}else if(n.isObject(e)){t={};for(const r in e)t[r]=n.clone(e[r])}else t=e.toString();return t}return e},n.isObject=e=>"[object Object]"===Object.prototype.toString.call(e),n.isUndefined=e=>void 0===e,n.callbackify=e=>(async function(...t){const r=t[t.length-1];let n;"function"==typeof r&&t.pop();try{n=await e.apply(null,t)}catch(e){if("function"==typeof r)return a(r,e);throw e}return"function"==typeof r?a(r,null,n):n})}).call(this,r(11).setImmediate,r(2))},function(e,t,r){"use strict";const n=r(1),i=r(105),o=r(5),{isArray:a,isObject:s,isString:u,isUndefined:c}=r(3),{isAbsolute:l,isRelative:h,prependBase:f,parse:d}=r(18),{asArray:p,compareShortestLeast:g}=r(1),y=10,m=new Map,v={};function b(e,t,r,n,i,o){if(null===t||!u(t)||v.isKeyword(t))return t;if(n&&n.hasOwnProperty(t)&&!0!==i.get(t)&&v.createTermDefinition(e,n,t,i,o),e.isPropertyTermScoped&&e.previousContext&&(e=e.previousContext),(r=r||{}).vocab){const r=e.mappings.get(t);if(null===r)return null;if(r)return r["@id"]}const a=t.indexOf(":");if(-1!==a){const r=t.substr(0,a),s=t.substr(a+1);if("_"===r||0===s.indexOf("//"))return t;if(n&&n.hasOwnProperty(r)&&v.createTermDefinition(e,n,r,i,o),e.mappings.has(r)){return e.mappings.get(r)["@id"]+s}return t}return r.vocab&&"@vocab"in e?e["@vocab"]+t:r.base?f(e["@base"],t):t}function w(e,t,r,n){if(a(e))for(const i of e)w(i,t,r,n);else if(s(e))for(const i in e){if("@context"!==i){w(e[i],t,r,n);continue}const o=e[i];if(a(o)){let e=o.length;for(let i=0;i<e;++i){const c=o[i];if(u(c)){const s=f(n,c),u=t.get(s);r?a(u)?(Array.prototype.splice.apply(o,[i,1].concat(u)),i+=u.length-1,e=o.length):!1!==u&&(o[i]=u):void 0===u&&t.set(s,!1)}else for(const e in c)s(c[e])&&w(c[e],t,r,n)}}else if(u(o)){const a=f(n,o),s=t.get(a);r?!1!==s&&(e[i]=s):void 0===s&&t.set(a,!1)}else for(const e in o)s(o[e])&&w(o[e],t,r,n)}}e.exports=v,v.cache=new i,v.process=({activeCtx:e,localCtx:t,options:r,isPropertyTermScopedContext:i=!1,isTypeScopedContext:c=!1})=>{s(t)&&"@context"in t&&a(t["@context"])&&(t=t["@context"]);const g=p(t);if(0===g.length)return e;const y=e.previousContext||e;if(i&&e.previousContext)return(e=e.clone()).isPropertyTermScoped=!0,e.previousContext=v.process({activeCtx:e.previousContext,localCtx:g,options:r,isPropertyTermScopedContext:i}),e;let m=e;for(let a=0;a<g.length;++a){let p=g[a];if(e=m,null===p){if(!i&&0!==Object.keys(e.protected).length){const i=r&&r.protectedMode||"error";if("error"===i)throw new o("Tried to nullify a context with protected terms outside of a term definition.","jsonld.SyntaxError",{code:"invalid context nullification"});if("warn"===i){console.warn("WARNING: invalid context nullification");const t=e;m=e=v.getInitialContext(r).clone();for(const[r,i]of Object.entries(t.protected))i&&(e.mappings[r]=n.clone(t.mappings[r]));e.protected=n.clone(t.protected),v.cache&&v.cache.set(t,p,m);continue}throw new o("Invalid protectedMode.","jsonld.SyntaxError",{code:"invalid protected mode",context:t,protectedMode:i})}m=e=v.getInitialContext(r).clone(),c&&(m.previousContext=y.clone());continue}if(v.cache){const t=v.cache.get(e,p);if(t){m=e=t;continue}}if(s(p)&&"@context"in p&&(p=p["@context"]),!s(p))throw new o("Invalid JSON-LD syntax; @context must be an object.","jsonld.SyntaxError",{code:"invalid local context",context:p});m=m.clone();const b=new Map;if("@version"in p){if(1.1!==p["@version"])throw new o("Unsupported JSON-LD version: "+p["@version"],"jsonld.UnsupportedVersion",{code:"invalid @version value",context:p});if(e.processingMode&&"json-ld-1.0"===e.processingMode)throw new o("@version: "+p["@version"]+" not compatible with "+e.processingMode,"jsonld.ProcessingModeConflict",{code:"processing mode conflict",context:p});m.processingMode="json-ld-1.1",m["@version"]=p["@version"],b.set("@version",!0)}if(m.processingMode=m.processingMode||e.processingMode||"json-ld-1.0","@base"in p){let t=p["@base"];if(null===t);else if(l(t))t=d(t);else{if(!h(t))throw new o('Invalid JSON-LD syntax; the value of "@base" in a @context must be an absolute IRI, a relative IRI, or null.',"jsonld.SyntaxError",{code:"invalid base IRI",context:p});t=d(f(e["@base"].href,t))}m["@base"]=t,b.set("@base",!0)}if("@vocab"in p){const e=p["@vocab"];if(null===e)delete m["@vocab"];else{if(!u(e))throw new o('Invalid JSON-LD syntax; the value of "@vocab" in a @context must be a string or null.',"jsonld.SyntaxError",{code:"invalid vocab mapping",context:p});if(!l(e))throw new o('Invalid JSON-LD syntax; the value of "@vocab" in a @context must be an absolute IRI.',"jsonld.SyntaxError",{code:"invalid vocab mapping",context:p});m["@vocab"]=e}b.set("@vocab",!0)}if("@language"in p){const e=p["@language"];if(null===e)delete m["@language"];else{if(!u(e))throw new o('Invalid JSON-LD syntax; the value of "@language" in a @context must be a string or null.',"jsonld.SyntaxError",{code:"invalid default language",context:p});m["@language"]=e.toLowerCase()}b.set("@language",!0)}b.set("@protected",p["@protected"]||!1);for(const e in p)v.createTermDefinition(m,p,e,b,r,i);c&&!m.previousContext&&(m.previousContext=y.clone()),v.cache&&v.cache.set(e,p,m)}return m},v.createTermDefinition=(e,t,r,n,i,c=!1)=>{if(n.has(r)){if(n.get(r))return;throw new o("Cyclical context definition detected.","jsonld.CyclicalContext",{code:"cyclic IRI mapping",context:t,term:r})}if(n.set(r,!1),v.isKeyword(r))throw new o("Invalid JSON-LD syntax; keywords cannot be overridden.","jsonld.SyntaxError",{code:"keyword redefinition",context:t,term:r});if(""===r)throw new o("Invalid JSON-LD syntax; a term cannot be an empty string.","jsonld.SyntaxError",{code:"invalid term definition",context:t});const h=e.mappings.get(r);let f;if(e.mappings.has(r)&&e.mappings.delete(r),t.hasOwnProperty(r)&&(f=t[r]),null===f||s(f)&&null===f["@id"])return e.mappings.set(r,null),void n.set(r,!0);let d=!1;if(u(f)&&(d=!0,f={"@id":f}),!s(f))throw new o("Invalid JSON-LD syntax; @context term values must be strings or objects.","jsonld.SyntaxError",{code:"invalid term definition",context:t});const p={};e.mappings.set(r,p),p.reverse=!1;const g=["@container","@id","@language","@reverse","@type"];v.processingMode(e,1.1)&&g.push("@context","@nest","@prefix","@protected");for(const e in f)if(!g.includes(e))throw new o("Invalid JSON-LD syntax; a term definition must not contain "+e,"jsonld.SyntaxError",{code:"invalid term definition",context:t});const y=r.indexOf(":");if(p._termHasColon=-1!==y,"@reverse"in f){if("@id"in f)throw new o("Invalid JSON-LD syntax; a @reverse term definition must not contain @id.","jsonld.SyntaxError",{code:"invalid reverse property",context:t});if("@nest"in f)throw new o("Invalid JSON-LD syntax; a @reverse term definition must not contain @nest.","jsonld.SyntaxError",{code:"invalid reverse property",context:t});const r=f["@reverse"];if(!u(r))throw new o("Invalid JSON-LD syntax; a @context @reverse value must be a string.","jsonld.SyntaxError",{code:"invalid IRI mapping",context:t});const a=b(e,r,{vocab:!0,base:!1},t,n,i);if(!l(a))throw new o("Invalid JSON-LD syntax; a @context @reverse value must be an absolute IRI or a blank node identifier.","jsonld.SyntaxError",{code:"invalid IRI mapping",context:t});p["@id"]=a,p.reverse=!0}else if("@id"in f){let a=f["@id"];if(!u(a))throw new o("Invalid JSON-LD syntax; a @context @id value must be an array of strings or a string.","jsonld.SyntaxError",{code:"invalid IRI mapping",context:t});if(a!==r){if(a=b(e,a,{vocab:!0,base:!1},t,n,i),!l(a)&&!v.isKeyword(a))throw new o("Invalid JSON-LD syntax; a @context @id value must be an absolute IRI, a blank node identifier, or a keyword.","jsonld.SyntaxError",{code:"invalid IRI mapping",context:t});p["@id"]=a,p._prefix=!p._termHasColon&&a.match(/[:\/\?#\[\]@]$/)&&(d||v.processingMode(e,1))}}if(!("@id"in p))if(p._termHasColon){const o=r.substr(0,y);if(t.hasOwnProperty(o)&&v.createTermDefinition(e,t,o,n,i),e.mappings.has(o)){const t=r.substr(y+1);p["@id"]=e.mappings.get(o)["@id"]+t}else p["@id"]=r}else{if(!("@vocab"in e))throw new o("Invalid JSON-LD syntax; @context terms must define an @id.","jsonld.SyntaxError",{code:"invalid IRI mapping",context:t,term:r});p["@id"]=e["@vocab"]+r}if((!0===f["@protected"]||!0===n.get("@protected")&&!1!==f["@protected"])&&(e.protected[r]=!0,p.protected=!0),n.set(r,!0),"@type"in f){let r=f["@type"];if(!u(r))throw new o("Invalid JSON-LD syntax; an @context @type value must be a string.","jsonld.SyntaxError",{code:"invalid type mapping",context:t});if("@id"!==r&&"@vocab"!==r){if(r=b(e,r,{vocab:!0,base:!1},t,n,i),!l(r))throw new o("Invalid JSON-LD syntax; an @context @type value must be an absolute IRI.","jsonld.SyntaxError",{code:"invalid type mapping",context:t});if(0===r.indexOf("_:"))throw new o("Invalid JSON-LD syntax; an @context @type value must be an IRI, not a blank node identifier.","jsonld.SyntaxError",{code:"invalid type mapping",context:t})}p["@type"]=r}if("@container"in f){const r=u(f["@container"])?[f["@container"]]:f["@container"]||[],n=["@list","@set","@index","@language"];let i=!0;const s=r.includes("@set");if(v.processingMode(e,1.1))if(n.push("@graph","@id","@type"),r.includes("@list")){if(1!==r.length)throw new o("Invalid JSON-LD syntax; @context @container with @list must have no other values","jsonld.SyntaxError",{code:"invalid container mapping",context:t})}else if(r.includes("@graph")){if(r.some(e=>"@graph"!==e&&"@id"!==e&&"@index"!==e&&"@set"!==e))throw new o("Invalid JSON-LD syntax; @context @container with @graph must have no other values other than @id, @index, and @set","jsonld.SyntaxError",{code:"invalid container mapping",context:t})}else i&=r.length<=(s?2:1);else i&=!a(f["@container"]),i&=r.length<=1;if(i&=r.every(e=>n.includes(e)),!(i&=!(s&&r.includes("@list"))))throw new o("Invalid JSON-LD syntax; @context @container value must be one of the following: "+n.join(", "),"jsonld.SyntaxError",{code:"invalid container mapping",context:t});if(p.reverse&&!r.every(e=>["@index","@set"].includes(e)))throw new o("Invalid JSON-LD syntax; @context @container value for a @reverse type definition must be @index or @set.","jsonld.SyntaxError",{code:"invalid reverse property",context:t});p["@container"]=r}if("@context"in f&&(p["@context"]=f["@context"]),"@language"in f&&!("@type"in f)){let e=f["@language"];if(null!==e&&!u(e))throw new o("Invalid JSON-LD syntax; @context @language value must be a string or null.","jsonld.SyntaxError",{code:"invalid language mapping",context:t});null!==e&&(e=e.toLowerCase()),p["@language"]=e}if("@prefix"in f){if(p._termHasColon)throw new o("Invalid JSON-LD syntax; @context @prefix used on a compact IRI term","jsonld.SyntaxError",{code:"invalid term definition",context:t});if("boolean"!=typeof f["@prefix"])throw new o("Invalid JSON-LD syntax; @context value for @prefix must be boolean","jsonld.SyntaxError",{code:"invalid @prefix value",context:t});p._prefix=!0===f["@prefix"]}if("@nest"in f){const e=f["@nest"];if(!u(e)||"@nest"!==e&&0===e.indexOf("@"))throw new o("Invalid JSON-LD syntax; @context @nest value must be a string which is not a keyword other than @nest.","jsonld.SyntaxError",{code:"invalid @nest value",context:t});p["@nest"]=e}
// disallow aliasing @context and @preserve
const m=p["@id"];if("@context"===m||"@preserve"===m)throw new o("Invalid JSON-LD syntax; @context and @preserve cannot be aliased.","jsonld.SyntaxError",{code:"invalid keyword alias",context:t});if(h&&h.protected&&!c&&(e.protected[r]=!0,p.protected=!0,!function e(t,r){if(!t||"object"!=typeof t||!r||"object"!=typeof r)return t===r;const n=Array.isArray(t);if(n!==Array.isArray(r))return!1;if(n){if(t.length!==r.length)return!1;for(let n=0;n<t.length;++n)if(!e(t[n],r[n]))return!1;return!0}const i=Object.keys(t);const o=Object.keys(r);if(i.length!==o.length)return!1;for(const n in t){let i=t[n],o=r[n];if("@container"===n&&Array.isArray(i)&&Array.isArray(o)&&(i=i.slice().sort(),o=o.slice().sort()),!e(i,o))return!1}return!0}(h,p))){const e=i&&i.protectedMode||"error";if("error"===e)throw new o("Invalid JSON-LD syntax; tried to redefine a protected term.","jsonld.SyntaxError",{code:"protected term redefinition",context:t,term:r});if("warn"===e)return void console.warn("WARNING: protected term redefinition",{term:r});throw new o("Invalid protectedMode.","jsonld.SyntaxError",{code:"invalid protected mode",context:t,term:r,protectedMode:e})}},v.expandIri=(e,t,r,n)=>b(e,t,r,void 0,void 0,n),v.getInitialContext=e=>{const t=d(e.base||""),r=JSON.stringify({base:t,processingMode:e.processingMode}),i=m.get(r);if(i)return i;const o={"@base":t,processingMode:e.processingMode,mappings:new Map,inverse:null,getInverse:function(){const e=this;if(e.inverse)return e.inverse;const t=e.inverse={},r=e.fastCurieMap={},n={},i=e["@language"]||"@none",o=e.mappings,u=[...o.keys()].sort(g);for(const e of u){const a=o.get(e);if(null===a)continue;let u=a["@container"]||"@none";u=[].concat(u).sort().join("");const c=p(a["@id"]);for(const o of c){let c=t[o];const l=v.isKeyword(o);if(c)l||a._termHasColon||n[o].push(e);else if(t[o]=c={},!l&&!a._termHasColon){n[o]=[e];const t={iri:o,terms:n[o]};o[0]in r?r[o[0]].push(t):r[o[0]]=[t]}if(c[u]||(c[u]={"@language":{},"@type":{},"@any":{}}),c=c[u],s(e,c["@any"],"@none"),a.reverse)s(e,c["@type"],"@reverse");else if("@type"in a)s(e,c["@type"],a["@type"]);else if("@language"in a){const t=a["@language"]||"@null";s(e,c["@language"],t)}else s(e,c["@language"],i),s(e,c["@type"],"@none"),s(e,c["@language"],"@none")}}for(const e in r)a(r,e,1);return t},clone:function(){const e={};e["@base"]=this["@base"],e.mappings=n.clone(this.mappings),e.clone=this.clone,e.inverse=null,e.getInverse=this.getInverse,e.protected=n.clone(this.protected),this.previousContext&&(e.isPropertyTermScoped=this.previousContext.isPropertyTermScoped,e.previousContext=this.previousContext.clone());e.revertTypeScopedContext=this.revertTypeScopedContext,"@language"in this&&(e["@language"]=this["@language"]);"@vocab"in this&&(e["@vocab"]=this["@vocab"]);return e},revertTypeScopedContext:function(){if(!this.previousContext)return this;return this.previousContext.clone()},protected:{}};return 1e4===m.size&&m.clear(),m.set(r,o),o;function a(e,t,r){const n=e[t],i=e[t]={};let o,s;for(const e of n)(s=r>=(o=e.iri).length?"":o[r])in i?i[s].push(e):i[s]=[e];for(const e in i)""!==e&&a(i,e,r+1)}function s(e,t,r){t.hasOwnProperty(r)||(t[r]=e)}},v.getContextValue=(e,t,r)=>{if(null===t){if("@context"===r)return;return null}if(e.mappings.has(t)){const n=e.mappings.get(t);if(c(r))return n;if(n.hasOwnProperty(r))return n[r]}return"@language"===r&&e.hasOwnProperty(r)?e[r]:"@context"!==r?null:void 0},v.getAllContexts=async(e,t)=>(async function(e,t){const r=n.normalizeDocumentLoader(t.documentLoader);return await async function e(r,n,i){if(n.size>y)throw new o("Maximum number of @context URLs exceeded.","jsonld.ContextUrlError",{code:"loading remote context failed",max:y});const c=new Map;if(w(r,c,!1,t.base),0===c.size)return;const l=[...c.keys()].filter(e=>!1===c.get(e));return Promise.all(l.map(async l=>{if(n.has(l))throw new o("Cyclical @context URLs detected.","jsonld.ContextUrlError",{code:"recursive context inclusion",url:l});const h=new Set(n);let f,d;h.add(l);try{f=await i(l),d=f.document||null,u(d)&&(d=JSON.parse(d))}catch(e){throw new o("Dereferencing a URL did not result in a valid JSON-LD object. Possible causes are an inaccessible URL perhaps due to a same-origin policy (ensure the server uses CORS if you are using client-side JavaScript), too many redirects, a non-JSON response, or more than one HTTP Link Header was provided for a remote context.","jsonld.InvalidUrl",{code:"loading remote context failed",url:l,cause:e})}if(!s(d))throw new o("Dereferencing a URL did not result in a JSON object. The response was valid JSON, but it was not a JSON object.","jsonld.InvalidUrl",{code:"invalid remote context",url:l});d="@context"in d?{"@context":d["@context"]}:{"@context":{}},f.contextUrl&&(a(d["@context"])||(d["@context"]=[d["@context"]]),d["@context"].push(f.contextUrl)),await e(d,h,i),c.set(l,d["@context"]),w(r,c,!0,t.base)}))}(e,new Set,r),e})(e,t),v.processingMode=(e,t)=>t.toString()>="1.1"?e.processingMode&&e.processingMode>="json-ld-"+t.toString():!e.processingMode||"json-ld-1.0"===e.processingMode,v.isKeyword=e=>{if(!u(e))return!1;switch(e){case"@base":case"@container":case"@context":case"@default":case"@embed":case"@explicit":case"@graph":case"@id":case"@index":case"@language":case"@list":case"@nest":case"@none":case"@omitDefault":case"@prefix":case"@preserve":case"@protected":case"@requireAll":case"@reverse":case"@set":case"@type":case"@value":case"@version":case"@vocab":return!0}return!1}},function(e,t,r){(function(e){var n=void 0!==e&&e||"undefined"!=typeof self&&self||window,i=Function.prototype.apply;function o(e,t){this._id=e,this._clearFn=t}t.setTimeout=function(){return new o(i.call(setTimeout,n,arguments),clearTimeout)},t.setInterval=function(){return new o(i.call(setInterval,n,arguments),clearInterval)},t.clearTimeout=t.clearInterval=function(e){e&&e.close()},o.prototype.unref=o.prototype.ref=function(){},o.prototype.close=function(){this._clearFn.call(n,this._id)},t.enroll=function(e,t){clearTimeout(e._idleTimeoutId),e._idleTimeout=t},t.unenroll=function(e){clearTimeout(e._idleTimeoutId),e._idleTimeout=-1},t._unrefActive=t.active=function(e){clearTimeout(e._idleTimeoutId);var t=e._idleTimeout;t>=0&&(e._idleTimeoutId=setTimeout(function(){e._onTimeout&&e._onTimeout()},t))},r(61),t.setImmediate="undefined"!=typeof self&&self.setImmediate||void 0!==e&&e.setImmediate||this&&this.setImmediate,t.clearImmediate="undefined"!=typeof self&&self.clearImmediate||void 0!==e&&e.clearImmediate||this&&this.clearImmediate}).call(this,r(0))},function(e,t,r){(t=e.exports=r(39)).Stream=t,t.Readable=t,t.Writable=r(23),t.Duplex=r(8),t.Transform=r(43),t.PassThrough=r(70)},function(e,t,r){"use strict";var n,i="object"==typeof Reflect?Reflect:null,o=i&&"function"==typeof i.apply?i.apply:function(e,t,r){return Function.prototype.apply.call(e,t,r)};n=i&&"function"==typeof i.ownKeys?i.ownKeys:Object.getOwnPropertySymbols?function(e){return Object.getOwnPropertyNames(e).concat(Object.getOwnPropertySymbols(e))}:function(e){return Object.getOwnPropertyNames(e)};var a=Number.isNaN||function(e){return e!=e};function s(){s.init.call(this)}e.exports=s,s.EventEmitter=s,s.prototype._events=void 0,s.prototype._eventsCount=0,s.prototype._maxListeners=void 0;var u=10;function c(e){return void 0===e._maxListeners?s.defaultMaxListeners:e._maxListeners}function l(e,t,r,n){var i,o,a,s;if("function"!=typeof r)throw new TypeError('The "listener" argument must be of type Function. Received type '+typeof r);if(void 0===(o=e._events)?(o=e._events=Object.create(null),e._eventsCount=0):(void 0!==o.newListener&&(e.emit("newListener",t,r.listener?r.listener:r),o=e._events),a=o[t]),void 0===a)a=o[t]=r,++e._eventsCount;else if("function"==typeof a?a=o[t]=n?[r,a]:[a,r]:n?a.unshift(r):a.push(r),(i=c(e))>0&&a.length>i&&!a.warned){a.warned=!0;var u=new Error("Possible EventEmitter memory leak detected. "+a.length+" "+String(t)+" listeners added. Use emitter.setMaxListeners() to increase limit");u.name="MaxListenersExceededWarning",u.emitter=e,u.type=t,u.count=a.length,s=u,console&&console.warn&&console.warn(s)}return e}function h(e,t,r){var n={fired:!1,wrapFn:void 0,target:e,type:t,listener:r},i=function(){for(var e=[],t=0;t<arguments.length;t++)e.push(arguments[t]);this.fired||(this.target.removeListener(this.type,this.wrapFn),this.fired=!0,o(this.listener,this.target,e))}.bind(n);return i.listener=r,n.wrapFn=i,i}function f(e,t,r){var n=e._events;if(void 0===n)return[];var i=n[t];return void 0===i?[]:"function"==typeof i?r?[i.listener||i]:[i]:r?function(e){for(var t=new Array(e.length),r=0;r<t.length;++r)t[r]=e[r].listener||e[r];return t}(i):p(i,i.length)}function d(e){var t=this._events;if(void 0!==t){var r=t[e];if("function"==typeof r)return 1;if(void 0!==r)return r.length}return 0}function p(e,t){for(var r=new Array(t),n=0;n<t;++n)r[n]=e[n];return r}Object.defineProperty(s,"defaultMaxListeners",{enumerable:!0,get:function(){return u},set:function(e){if("number"!=typeof e||e<0||a(e))throw new RangeError('The value of "defaultMaxListeners" is out of range. It must be a non-negative number. Received '+e+".");u=e}}),s.init=function(){void 0!==this._events&&this._events!==Object.getPrototypeOf(this)._events||(this._events=Object.create(null),this._eventsCount=0),this._maxListeners=this._maxListeners||void 0},s.prototype.setMaxListeners=function(e){if("number"!=typeof e||e<0||a(e))throw new RangeError('The value of "n" is out of range. It must be a non-negative number. Received '+e+".");return this._maxListeners=e,this},s.prototype.getMaxListeners=function(){return c(this)},s.prototype.emit=function(e){for(var t=[],r=1;r<arguments.length;r++)t.push(arguments[r]);var n="error"===e,i=this._events;if(void 0!==i)n=n&&void 0===i.error;else if(!n)return!1;if(n){var a;if(t.length>0&&(a=t[0]),a instanceof Error)throw a;var s=new Error("Unhandled error."+(a?" ("+a.message+")":""));throw s.context=a,s}var u=i[e];if(void 0===u)return!1;if("function"==typeof u)o(u,this,t);else{var c=u.length,l=p(u,c);for(r=0;r<c;++r)o(l[r],this,t)}return!0},s.prototype.addListener=function(e,t){return l(this,e,t,!1)},s.prototype.on=s.prototype.addListener,s.prototype.prependListener=function(e,t){return l(this,e,t,!0)},s.prototype.once=function(e,t){if("function"!=typeof t)throw new TypeError('The "listener" argument must be of type Function. Received type '+typeof t);return this.on(e,h(this,e,t)),this},s.prototype.prependOnceListener=function(e,t){if("function"!=typeof t)throw new TypeError('The "listener" argument must be of type Function. Received type '+typeof t);return this.prependListener(e,h(this,e,t)),this},s.prototype.removeListener=function(e,t){var r,n,i,o,a;if("function"!=typeof t)throw new TypeError('The "listener" argument must be of type Function. Received type '+typeof t);if(void 0===(n=this._events))return this;if(void 0===(r=n[e]))return this;if(r===t||r.listener===t)0==--this._eventsCount?this._events=Object.create(null):(delete n[e],n.removeListener&&this.emit("removeListener",e,r.listener||t));else if("function"!=typeof r){for(i=-1,o=r.length-1;o>=0;o--)if(r[o]===t||r[o].listener===t){a=r[o].listener,i=o;break}if(i<0)return this;0===i?r.shift():function(e,t){for(;t+1<e.length;t++)e[t]=e[t+1];e.pop()}(r,i),1===r.length&&(n[e]=r[0]),void 0!==n.removeListener&&this.emit("removeListener",e,a||t)}return this},s.prototype.off=s.prototype.removeListener,s.prototype.removeAllListeners=function(e){var t,r,n;if(void 0===(r=this._events))return this;if(void 0===r.removeListener)return 0===arguments.length?(this._events=Object.create(null),this._eventsCount=0):void 0!==r[e]&&(0==--this._eventsCount?this._events=Object.create(null):delete r[e]),this;if(0===arguments.length){var i,o=Object.keys(r);for(n=0;n<o.length;++n)"removeListener"!==(i=o[n])&&this.removeAllListeners(i);return this.removeAllListeners("removeListener"),this._events=Object.create(null),this._eventsCount=0,this}if("function"==typeof(t=r[e]))this.removeListener(e,t);else if(void 0!==t)for(n=t.length-1;n>=0;n--)this.removeListener(e,t[n]);return this},s.prototype.listeners=function(e){return f(this,e,!0)},s.prototype.rawListeners=function(e){return f(this,e,!1)},s.listenerCount=function(e,t){return"function"==typeof e.listenerCount?e.listenerCount(t):d.call(e,t)},s.prototype.listenerCount=d,s.prototype.eventNames=function(){return this._eventsCount>0?n(this._events):[]}},function(e,t,r){(function(e){function r(e){return Object.prototype.toString.call(e)}t.isArray=function(e){return Array.isArray?Array.isArray(e):"[object Array]"===r(e)},t.isBoolean=function(e){return"boolean"==typeof e},t.isNull=function(e){return null===e},t.isNullOrUndefined=function(e){return null==e},t.isNumber=function(e){return"number"==typeof e},t.isString=function(e){return"string"==typeof e},t.isSymbol=function(e){return"symbol"==typeof e},t.isUndefined=function(e){return void 0===e},t.isRegExp=function(e){return"[object RegExp]"===r(e)},t.isObject=function(e){return"object"==typeof e&&null!==e},t.isDate=function(e){return"[object Date]"===r(e)},t.isError=function(e){return"[object Error]"===r(e)||e instanceof Error},t.isFunction=function(e){return"function"==typeof e},t.isPrimitive=function(e){return null===e||"boolean"==typeof e||"number"==typeof e||"string"==typeof e||"symbol"==typeof e||void 0===e},t.isBuffer=e.isBuffer}).call(this,r(6).Buffer)},function(e,t,r){var n,i,o=r(21),a=o.rdf,s=o.xsd,u=0;class c{constructor(e){this.id=e}get value(){return this.id}equals(e){return e instanceof c?this.id===e.id:!!e&&this.termType===e.termType&&this.value===e.value}toJSON(){return{termType:this.termType,value:this.value}}}class l extends c{get termType(){return"NamedNode"}}class h extends c{get termType(){return"Literal"}get value(){return this.id.substring(1,this.id.lastIndexOf('"'))}get language(){var e=this.id,t=e.lastIndexOf('"')+1;return t<e.length&&"@"===e[t++]?e.substr(t).toLowerCase():""}get datatype(){return new l(this.datatypeString)}get datatypeString(){var e,t=this.id,r=t.lastIndexOf('"')+1;return r<t.length&&"^"===(e=t[r])?t.substr(r+2):"@"!==e?s.string:a.langString}equals(e){return e instanceof h?this.id===e.id:!!e&&!!e.datatype&&this.termType===e.termType&&this.value===e.value&&this.language===e.language&&this.datatype.value===e.datatype.value}toJSON(){return{termType:this.termType,value:this.value,language:this.language,datatype:{termType:"NamedNode",value:this.datatypeString}}}}class f extends c{constructor(e){super("_:"+e)}get termType(){return"BlankNode"}get value(){return this.id.substr(2)}}class d extends c{constructor(e){super("?"+e)}get termType(){return"Variable"}get value(){return this.id.substr(1)}}class p extends c{constructor(){return super(""),i||this}get termType(){return"DefaultGraph"}equals(e){return this===e||!!e&&this.termType===e.termType}}i=new p;class g{constructor(e,t,r,n){this.subject=e,this.predicate=t,this.object=r,this.graph=n||i}toJSON(){return{subject:this.subject.toJSON(),predicate:this.predicate.toJSON(),object:this.object.toJSON(),graph:this.graph.toJSON()}}equals(e){return!!e&&this.subject.equals(e.subject)&&this.predicate.equals(e.predicate)&&this.object.equals(e.object)&&this.graph.equals(e.graph)}}function y(e,t,r,n){return new g(e,t,r,n)}e.exports=n={namedNode:function(e){return new l(e)},blankNode:function(e){return e||(e="n3-"+u++),new f(e)},variable:function(e){return new d(e)},literal:function(e,t){if("string"==typeof t)return new h('"'+e+'"@'+t.toLowerCase());var r=t&&t.value||"";if(!r)switch(typeof e){case"boolean":r=s.boolean;break;case"number":Number.isFinite(e)?r=Number.isInteger(e)?s.integer:s.double:(r=s.double,Number.isNaN(e)||(e=e>0?"INF":"-INF"));break;default:return new h('"'+e+'"')}return new h('"'+e+'"^^'+r)},defaultGraph:function(){return i},quad:y,triple:y,internal:{Term:c,NamedNode:l,BlankNode:f,Variable:d,Literal:h,DefaultGraph:p,Quad:g,Triple:g,fromId:function(e,t){if(t=t||n,!e)return t.defaultGraph();switch(e[0]){case"_":return t.blankNode(e.substr(2));case"?":return t.variable(e.substr(1));case'"':if(t===n)return new h(e);if('"'===e[e.length-1])return t.literal(e.substr(1,e.length-2));var r=e.lastIndexOf('"',e.length-1);return t.literal(e.substr(1,r-1),"@"===e[r+1]?e.substr(r+2):t.namedNode(e.substr(r+3)));default:return t.namedNode(e)}},toId:function(e){if("string"==typeof e)return e;if(e instanceof c)return e.id;if(!e)return i.id;switch(e.termType){case"NamedNode":return e.value;case"BlankNode":return"_:"+e.value;case"Variable":return"?"+e.value;case"DefaultGraph":return"";case"Literal":return'"'+e.value+'"'+(e.language?"@"+e.language:e.datatype&&e.datatype.value!==s.string?"^^"+e.datatype.value:"");default:throw new Error("Unexpected termType: "+e.termType)}}}}},function(e,t){e.exports={options:{usePureJavaScript:!1}}},function(e,t,r){"use strict";const n="http://www.w3.org/1999/02/22-rdf-syntax-ns#",i="http://www.w3.org/2001/XMLSchema#";e.exports={LINK_HEADER_REL:"http://www.w3.org/ns/json-ld#context",RDF:n,RDF_LIST:n+"List",RDF_FIRST:n+"first",RDF_REST:n+"rest",RDF_NIL:n+"nil",RDF_TYPE:n+"type",RDF_PLAIN_LITERAL:n+"PlainLiteral",RDF_XML_LITERAL:n+"XMLLiteral",RDF_OBJECT:n+"object",RDF_LANGSTRING:n+"langString",XSD:i,XSD_BOOLEAN:i+"boolean",XSD_DOUBLE:i+"double",XSD_INTEGER:i+"integer",XSD_STRING:i+"string"}},function(e,t,r){"use strict";const n=r(3),i={};e.exports=i,i.parsers={simple:{keys:["href","scheme","authority","path","query","fragment"],regex:/^(?:([^:\/?#]+):)?(?:\/\/([^\/?#]*))?([^?#]*)(?:\?([^#]*))?(?:#(.*))?/},full:{keys:["href","protocol","scheme","authority","auth","user","password","hostname","port","path","directory","file","query","fragment"],regex:/^(([^:\/?#]+):)?(?:\/\/((?:(([^:@]*)(?::([^:@]*))?)?@)?([^:\/?#]*)(?::(\d*))?))?(?:(((?:[^?#\/]*\/)*)([^?#]*))(?:\?([^#]*))?(?:#(.*))?)/}},i.parse=(e,t)=>{const r={},n=i.parsers[t||"full"],o=n.regex.exec(e);let a=n.keys.length;for(;a--;)r[n.keys[a]]=void 0===o[a]?null:o[a];return("https"===r.scheme&&"443"===r.port||"http"===r.scheme&&"80"===r.port)&&(r.href=r.href.replace(":"+r.port,""),r.authority=r.authority.replace(":"+r.port,""),r.port=null),r.normalizedPath=i.removeDotSegments(r.path),r},i.prependBase=(e,t)=>{if(null===e)return t;if(-1!==t.indexOf(":"))return t;n.isString(e)&&(e=i.parse(e||""));const r=i.parse(t),o={protocol:e.protocol||""};if(null!==r.authority)o.authority=r.authority,o.path=r.path,o.query=r.query;else if(o.authority=e.authority,""===r.path)o.path=e.path,null!==r.query?o.query=r.query:o.query=e.query;else{if(0===r.path.indexOf("/"))o.path=r.path;else{let t=e.path;(t=t.substr(0,t.lastIndexOf("/")+1)).length>0&&"/"!==t.substr(-1)&&(t+="/"),t+=r.path,o.path=t}o.query=r.query}""!==r.path&&(o.path=i.removeDotSegments(o.path));let a=o.protocol;return null!==o.authority&&(a+="//"+o.authority),a+=o.path,null!==o.query&&(a+="?"+o.query),null!==r.fragment&&(a+="#"+r.fragment),""===a&&(a="./"),a},i.removeBase=(e,t)=>{if(null===e)return t;n.isString(e)&&(e=i.parse(e||""));let r="";if(""!==e.href?r+=(e.protocol||"")+"//"+(e.authority||""):t.indexOf("//")&&(r+="//"),0!==t.indexOf(r))return t;const o=i.parse(t.substr(r.length)),a=e.normalizedPath.split("/"),s=o.normalizedPath.split("/"),u=o.fragment||o.query?0:1;for(;a.length>0&&s.length>u&&a[0]===s[0];)a.shift(),s.shift();let c="";if(a.length>0){a.pop();for(let e=0;e<a.length;++e)c+="../"}return c+=s.join("/"),null!==o.query&&(c+="?"+o.query),null!==o.fragment&&(c+="#"+o.fragment),""===c&&(c="./"),c},i.removeDotSegments=e=>{if(0===e.length)return"";const t=e.split("/"),r=[];for(;t.length>0;){const e=t.shift(),n=0===t.length;"."!==e?".."!==e?r.push(e):(r.pop(),n&&r.push("")):n&&r.push("")}return r.length>0&&""!==r[0]&&r.unshift(""),1===r.length&&""===r[0]?"/":r.join("/")};const o=/^([A-Za-z][A-Za-z0-9+-.]*|_):/;i.isAbsolute=e=>n.isString(e)&&o.test(e),i.isRelative=e=>n.isString(e)},function(e,t,r){"use strict";(function(t){void 0===t||!t.version||0===t.version.indexOf("v0.")||0===t.version.indexOf("v1.")&&0!==t.version.indexOf("v1.8.")?e.exports={nextTick:function(e,r,n,i){if("function"!=typeof e)throw new TypeError('"callback" argument must be a function');var o,a,s=arguments.length;switch(s){case 0:case 1:return t.nextTick(e);case 2:return t.nextTick(function(){e.call(null,r)});case 3:return t.nextTick(function(){e.call(null,r,n)});case 4:return t.nextTick(function(){e.call(null,r,n,i)});default:for(o=new Array(s-1),a=0;a<o.length;)o[a++]=arguments[a];return t.nextTick(function(){e.apply(null,o)})}}}:e.exports=t}).call(this,r(2))},function(e,t,r){var n=r(6),i=n.Buffer;function o(e,t){for(var r in e)t[r]=e[r]}function a(e,t,r){return i(e,t,r)}i.from&&i.alloc&&i.allocUnsafe&&i.allocUnsafeSlow?e.exports=n:(o(n,t),t.Buffer=a),o(i,a),a.from=function(e,t,r){if("number"==typeof e)throw new TypeError("Argument must not be a number");return i(e,t,r)},a.alloc=function(e,t,r){if("number"!=typeof e)throw new TypeError("Argument must be a number");var n=i(e);return void 0!==t?"string"==typeof r?n.fill(t,r):n.fill(t):n.fill(0),n},a.allocUnsafe=function(e){if("number"!=typeof e)throw new TypeError("Argument must be a number");return i(e)},a.allocUnsafeSlow=function(e){if("number"!=typeof e)throw new TypeError("Argument must be a number");return n.SlowBuffer(e)}},function(e,t){var r="http://www.w3.org/1999/02/22-rdf-syntax-ns#",n="http://www.w3.org/2001/XMLSchema#",i="http://www.w3.org/2000/10/swap/";e.exports={xsd:{decimal:n+"decimal",boolean:n+"boolean",double:n+"double",integer:n+"integer",string:n+"string"},rdf:{type:r+"type",nil:r+"nil",first:r+"first",rest:r+"rest",langString:r+"langString"},owl:{sameAs:"http://www.w3.org/2002/07/owl#sameAs"},r:{forSome:i+"reify#forSome",forAll:i+"reify#forAll"},log:{implies:i+"log#implies"}}},function(e,t,r){"use strict";const{isKeyword:n}=r(10),i=r(4),o=r(3),a=r(1),s=r(5),u={};e.exports=u,u.createMergedNodeMap=(e,t)=>{const r=(t=t||{}).issuer||new a.IdentifierIssuer("_:b"),n={"@default":{}};return u.createNodeMap(e,n,"@default",r),u.mergeNodeMaps(n)},u.createNodeMap=(e,t,r,c,l,h)=>{if(o.isArray(e)){for(let n=0;n<e.length;++n)u.createNodeMap(e[n],t,r,c,void 0,h);return}if(!o.isObject(e))return void(h&&h.push(e));if(i.isValue(e)){if("@type"in e){let t=e["@type"];0===t.indexOf("_:")&&(e["@type"]=t=c.getId(t))}return void(h&&h.push(e))}if("@type"in e){const t=e["@type"];for(let e=0;e<t.length;++e){const r=t[e];0===r.indexOf("_:")&&c.getId(r)}}o.isUndefined(l)&&(l=i.isBlankNode(e)?c.getId(e["@id"]):e["@id"]),h&&h.push({"@id":l});const f=t[r],d=f[l]=f[l]||{};d["@id"]=l;const p=Object.keys(e).sort();for(let o=0;o<p.length;++o){let h=p[o];if("@id"===h)continue;if("@reverse"===h){const n={"@id":l},o=e["@reverse"];for(const e in o){const s=o[e];for(let o=0;o<s.length;++o){const l=s[o];let h=l["@id"];i.isBlankNode(l)&&(h=c.getId(h)),u.createNodeMap(l,t,r,c,h),a.addValue(f[h],e,n,{propertyIsArray:!0,allowDuplicate:!1})}}continue}if("@graph"===h){l in t||(t[l]={}),u.createNodeMap(e[h],t,l,c);continue}if("@type"!==h&&n(h)){if("@index"===h&&h in d&&(e[h]!==d[h]||e[h]["@id"]!==d[h]["@id"]))throw new s("Invalid JSON-LD syntax; conflicting @index property detected.","jsonld.SyntaxError",{code:"conflicting indexes",subject:d});d[h]=e[h];continue}const g=e[h];if(0===h.indexOf("_:")&&(h=c.getId(h)),0!==g.length)for(let e=0;e<g.length;++e){let n=g[e];if("@type"===h&&(n=0===n.indexOf("_:")?c.getId(n):n),i.isSubject(n)||i.isSubjectReference(n)){const e=i.isBlankNode(n)?c.getId(n["@id"]):n["@id"];a.addValue(d,h,{"@id":e},{propertyIsArray:!0,allowDuplicate:!1}),u.createNodeMap(n,t,r,c,e)}else if(i.isList(n)){const e=[];u.createNodeMap(n["@list"],t,r,c,l,e),n={"@list":e},a.addValue(d,h,n,{propertyIsArray:!0,allowDuplicate:!1})}else u.createNodeMap(n,t,r,c,l),a.addValue(d,h,n,{propertyIsArray:!0,allowDuplicate:!1})}else a.addValue(d,h,[],{propertyIsArray:!0})}},u.mergeNodeMapGraphs=e=>{const t={};for(const r of Object.keys(e).sort())for(const i of Object.keys(e[r]).sort()){const o=e[r][i];i in t||(t[i]={"@id":i});const s=t[i];for(const e of Object.keys(o).sort())if(n(e))s[e]=a.clone(o[e]);else for(const t of o[e])a.addValue(s,e,a.clone(t),{propertyIsArray:!0,allowDuplicate:!1})}return t},u.mergeNodeMaps=e=>{const t=e["@default"],r=Object.keys(e).sort();for(let n=0;n<r.length;++n){const o=r[n];if("@default"===o)continue;const a=e[o];let s=t[o];s?"@graph"in s||(s["@graph"]=[]):t[o]=s={"@id":o,"@graph":[]};const u=s["@graph"],c=Object.keys(a).sort();for(let e=0;e<c.length;++e){const t=a[c[e]];i.isSubjectReference(t)||u.push(t)}}return t}},function(e,t,r){"use strict";(function(t,n,i){var o=r(19);function a(e){var t=this;this.next=null,this.entry=null,this.finish=function(){!function(e,t,r){var n=e.entry;e.entry=null;for(;n;){var i=n.callback;t.pendingcb--,i(r),n=n.next}t.corkedRequestsFree?t.corkedRequestsFree.next=e:t.corkedRequestsFree=e}(t,e)}}e.exports=v;var s,u=!t.browser&&["v0.10","v0.9."].indexOf(t.version.slice(0,5))>-1?n:o.nextTick;v.WritableState=m;var c=r(14);c.inherits=r(7);var l={deprecate:r(69)},h=r(40),f=r(20).Buffer,d=i.Uint8Array||function(){};var p,g=r(41);function y(){}function m(e,t){s=s||r(8),e=e||{};var n=t instanceof s;this.objectMode=!!e.objectMode,n&&(this.objectMode=this.objectMode||!!e.writableObjectMode);var i=e.highWaterMark,c=e.writableHighWaterMark,l=this.objectMode?16:16384;this.highWaterMark=i||0===i?i:n&&(c||0===c)?c:l,this.highWaterMark=Math.floor(this.highWaterMark),this.finalCalled=!1,this.needDrain=!1,this.ending=!1,this.ended=!1,this.finished=!1,this.destroyed=!1;var h=!1===e.decodeStrings;this.decodeStrings=!h,this.defaultEncoding=e.defaultEncoding||"utf8",this.length=0,this.writing=!1,this.corked=0,this.sync=!0,this.bufferProcessing=!1,this.onwrite=function(e){!function(e,t){var r=e._writableState,n=r.sync,i=r.writecb;if(function(e){e.writing=!1,e.writecb=null,e.length-=e.writelen,e.writelen=0}(r),t)!function(e,t,r,n,i){--t.pendingcb,r?(o.nextTick(i,n),o.nextTick(N,e,t),e._writableState.errorEmitted=!0,e.emit("error",n)):(i(n),e._writableState.errorEmitted=!0,e.emit("error",n),N(e,t))}(e,r,n,t,i);else{var a=_(r);a||r.corked||r.bufferProcessing||!r.bufferedRequest||x(e,r),n?u(w,e,r,a,i):w(e,r,a,i)}}(t,e)},this.writecb=null,this.writelen=0,this.bufferedRequest=null,this.lastBufferedRequest=null,this.pendingcb=0,this.prefinished=!1,this.errorEmitted=!1,this.bufferedRequestCount=0,this.corkedRequestsFree=new a(this)}function v(e){if(s=s||r(8),!(p.call(v,this)||this instanceof s))return new v(e);this._writableState=new m(e,this),this.writable=!0,e&&("function"==typeof e.write&&(this._write=e.write),"function"==typeof e.writev&&(this._writev=e.writev),"function"==typeof e.destroy&&(this._destroy=e.destroy),"function"==typeof e.final&&(this._final=e.final)),h.call(this)}function b(e,t,r,n,i,o,a){t.writelen=n,t.writecb=a,t.writing=!0,t.sync=!0,r?e._writev(i,t.onwrite):e._write(i,o,t.onwrite),t.sync=!1}function w(e,t,r,n){r||function(e,t){0===t.length&&t.needDrain&&(t.needDrain=!1,e.emit("drain"))}(e,t),t.pendingcb--,n(),N(e,t)}function x(e,t){t.bufferProcessing=!0;var r=t.bufferedRequest;if(e._writev&&r&&r.next){var n=t.bufferedRequestCount,i=new Array(n),o=t.corkedRequestsFree;o.entry=r;for(var s=0,u=!0;r;)i[s]=r,r.isBuf||(u=!1),r=r.next,s+=1;i.allBuffers=u,b(e,t,!0,t.length,i,"",o.finish),t.pendingcb++,t.lastBufferedRequest=null,o.next?(t.corkedRequestsFree=o.next,o.next=null):t.corkedRequestsFree=new a(t),t.bufferedRequestCount=0}else{for(;r;){var c=r.chunk,l=r.encoding,h=r.callback;if(b(e,t,!1,t.objectMode?1:c.length,c,l,h),r=r.next,t.bufferedRequestCount--,t.writing)break}null===r&&(t.lastBufferedRequest=null)}t.bufferedRequest=r,t.bufferProcessing=!1}function _(e){return e.ending&&0===e.length&&null===e.bufferedRequest&&!e.finished&&!e.writing}function I(e,t){e._final(function(r){t.pendingcb--,r&&e.emit("error",r),t.prefinished=!0,e.emit("prefinish"),N(e,t)})}function N(e,t){var r=_(t);return r&&(!function(e,t){t.prefinished||t.finalCalled||("function"==typeof e._final?(t.pendingcb++,t.finalCalled=!0,o.nextTick(I,e,t)):(t.prefinished=!0,e.emit("prefinish")))}(e,t),0===t.pendingcb&&(t.finished=!0,e.emit("finish"))),r}c.inherits(v,h),m.prototype.getBuffer=function(){for(var e=this.bufferedRequest,t=[];e;)t.push(e),e=e.next;return t},function(){try{Object.defineProperty(m.prototype,"buffer",{get:l.deprecate(function(){return this.getBuffer()},"_writableState.buffer is deprecated. Use _writableState.getBuffer instead.","DEP0003")})}catch(e){}}(),"function"==typeof Symbol&&Symbol.hasInstance&&"function"==typeof Function.prototype[Symbol.hasInstance]?(p=Function.prototype[Symbol.hasInstance],Object.defineProperty(v,Symbol.hasInstance,{value:function(e){return!!p.call(this,e)||this===v&&(e&&e._writableState instanceof m)}})):p=function(e){return e instanceof this},v.prototype.pipe=function(){this.emit("error",new Error("Cannot pipe, not readable"))},v.prototype.write=function(e,t,r){var n,i=this._writableState,a=!1,s=!i.objectMode&&(n=e,f.isBuffer(n)||n instanceof d);return s&&!f.isBuffer(e)&&(e=function(e){return f.from(e)}(e)),"function"==typeof t&&(r=t,t=null),s?t="buffer":t||(t=i.defaultEncoding),"function"!=typeof r&&(r=y),i.ended?function(e,t){var r=new Error("write after end");e.emit("error",r),o.nextTick(t,r)}(this,r):(s||function(e,t,r,n){var i=!0,a=!1;return null===r?a=new TypeError("May not write null values to stream"):"string"==typeof r||void 0===r||t.objectMode||(a=new TypeError("Invalid non-string/buffer chunk")),a&&(e.emit("error",a),o.nextTick(n,a),i=!1),i}(this,i,e,r))&&(i.pendingcb++,a=function(e,t,r,n,i,o){if(!r){var a=function(e,t,r){e.objectMode||!1===e.decodeStrings||"string"!=typeof t||(t=f.from(t,r));return t}(t,n,i);n!==a&&(r=!0,i="buffer",n=a)}var s=t.objectMode?1:n.length;t.length+=s;var u=t.length<t.highWaterMark;u||(t.needDrain=!0);if(t.writing||t.corked){var c=t.lastBufferedRequest;t.lastBufferedRequest={chunk:n,encoding:i,isBuf:r,callback:o,next:null},c?c.next=t.lastBufferedRequest:t.bufferedRequest=t.lastBufferedRequest,t.bufferedRequestCount+=1}else b(e,t,!1,s,n,i,o);return u}(this,i,s,e,t,r)),a},v.prototype.cork=function(){this._writableState.corked++},v.prototype.uncork=function(){var e=this._writableState;e.corked&&(e.corked--,e.writing||e.corked||e.finished||e.bufferProcessing||!e.bufferedRequest||x(this,e))},v.prototype.setDefaultEncoding=function(e){if("string"==typeof e&&(e=e.toLowerCase()),!(["hex","utf8","utf-8","ascii","binary","base64","ucs2","ucs-2","utf16le","utf-16le","raw"].indexOf((e+"").toLowerCase())>-1))throw new TypeError("Unknown encoding: "+e);return this._writableState.defaultEncoding=e,this},Object.defineProperty(v.prototype,"writableHighWaterMark",{enumerable:!1,get:function(){return this._writableState.highWaterMark}}),v.prototype._write=function(e,t,r){r(new Error("_write() is not implemented"))},v.prototype._writev=null,v.prototype.end=function(e,t,r){var n=this._writableState;"function"==typeof e?(r=e,e=null,t=null):"function"==typeof t&&(r=t,t=null),null!=e&&this.write(e,t),n.corked&&(n.corked=1,this.uncork()),n.ending||n.finished||function(e,t,r){t.ending=!0,N(e,t),r&&(t.finished?o.nextTick(r):e.once("finish",r));t.ended=!0,e.writable=!1}(this,n,r)},Object.defineProperty(v.prototype,"destroyed",{get:function(){return void 0!==this._writableState&&this._writableState.destroyed},set:function(e){this._writableState&&(this._writableState.destroyed=e)}}),v.prototype.destroy=g.destroy,v.prototype._undestroy=g.undestroy,v.prototype._destroy=function(e,t){this.end(),t(e)}}).call(this,r(2),r(11).setImmediate,r(0))},function(e,t,r){"use strict";var n=r(74),i=r(76);function o(){this.protocol=null,this.slashes=null,this.auth=null,this.host=null,this.port=null,this.hostname=null,this.hash=null,this.search=null,this.query=null,this.pathname=null,this.path=null,this.href=null}t.parse=b,t.resolve=function(e,t){return b(e,!1,!0).resolve(t)},t.resolveObject=function(e,t){return e?b(e,!1,!0).resolveObject(t):t},t.format=function(e){i.isString(e)&&(e=b(e));return e instanceof o?e.format():o.prototype.format.call(e)},t.Url=o;var a=/^([a-z0-9.+-]+:)/i,s=/:[0-9]*$/,u=/^(\/\/?(?!\/)[^\?\s]*)(\?[^\s]*)?$/,c=["{","}","|","\\","^","`"].concat(["<",">",'"',"`"," ","\r","\n","\t"]),l=["'"].concat(c),h=["%","/","?",";","#"].concat(l),f=["/","?","#"],d=/^[+a-z0-9A-Z_-]{0,63}$/,p=/^([+a-z0-9A-Z_-]{0,63})(.*)$/,g={javascript:!0,"javascript:":!0},y={javascript:!0,"javascript:":!0},m={http:!0,https:!0,ftp:!0,gopher:!0,file:!0,"http:":!0,"https:":!0,"ftp:":!0,"gopher:":!0,"file:":!0},v=r(77);function b(e,t,r){if(e&&i.isObject(e)&&e instanceof o)return e;var n=new o;return n.parse(e,t,r),n}o.prototype.parse=function(e,t,r){if(!i.isString(e))throw new TypeError("Parameter 'url' must be a string, not "+typeof e);var o=e.indexOf("?"),s=-1!==o&&o<e.indexOf("#")?"?":"#",c=e.split(s);c[0]=c[0].replace(/\\/g,"/");var b=e=c.join(s);if(b=b.trim(),!r&&1===e.split("#").length){var w=u.exec(b);if(w)return this.path=b,this.href=b,this.pathname=w[1],w[2]?(this.search=w[2],this.query=t?v.parse(this.search.substr(1)):this.search.substr(1)):t&&(this.search="",this.query={}),this}var x=a.exec(b);if(x){var _=(x=x[0]).toLowerCase();this.protocol=_,b=b.substr(x.length)}if(r||x||b.match(/^\/\/[^@\/]+@[^@\/]+/)){var I="//"===b.substr(0,2);!I||x&&y[x]||(b=b.substr(2),this.slashes=!0)}if(!y[x]&&(I||x&&!m[x])){for(var N,T,S=-1,j=0;j<f.length;j++){-1!==(E=b.indexOf(f[j]))&&(-1===S||E<S)&&(S=E)}-1!==(T=-1===S?b.lastIndexOf("@"):b.lastIndexOf("@",S))&&(N=b.slice(0,T),b=b.slice(T+1),this.auth=decodeURIComponent(N)),S=-1;for(j=0;j<h.length;j++){var E;-1!==(E=b.indexOf(h[j]))&&(-1===S||E<S)&&(S=E)}-1===S&&(S=b.length),this.host=b.slice(0,S),b=b.slice(S),this.parseHost(),this.hostname=this.hostname||"";var R="["===this.hostname[0]&&"]"===this.hostname[this.hostname.length-1];if(!R)for(var C=this.hostname.split(/\./),A=(j=0,C.length);j<A;j++){var k=C[j];if(k&&!k.match(d)){for(var O="",D=0,L=k.length;D<L;D++)k.charCodeAt(D)>127?O+="x":O+=k[D];if(!O.match(d)){var M=C.slice(0,j),B=C.slice(j+1),P=k.match(p);P&&(M.push(P[1]),B.unshift(P[2])),B.length&&(b="/"+B.join(".")+b),this.hostname=M.join(".");break}}}this.hostname.length>255?this.hostname="":this.hostname=this.hostname.toLowerCase(),R||(this.hostname=n.toASCII(this.hostname));var U=this.port?":"+this.port:"",F=this.hostname||"";this.host=F+U,this.href+=this.host,R&&(this.hostname=this.hostname.substr(1,this.hostname.length-2),"/"!==b[0]&&(b="/"+b))}if(!g[_])for(j=0,A=l.length;j<A;j++){var q=l[j];if(-1!==b.indexOf(q)){var z=encodeURIComponent(q);z===q&&(z=escape(q)),b=b.split(q).join(z)}}var H=b.indexOf("#");-1!==H&&(this.hash=b.substr(H),b=b.slice(0,H));var G=b.indexOf("?");if(-1!==G?(this.search=b.substr(G),this.query=b.substr(G+1),t&&(this.query=v.parse(this.query)),b=b.slice(0,G)):t&&(this.search="",this.query={}),b&&(this.pathname=b),m[_]&&this.hostname&&!this.pathname&&(this.pathname="/"),this.pathname||this.search){U=this.pathname||"";var V=this.search||"";this.path=U+V}return this.href=this.format(),this},o.prototype.format=function(){var e=this.auth||"";e&&(e=(e=encodeURIComponent(e)).replace(/%3A/i,":"),e+="@");var t=this.protocol||"",r=this.pathname||"",n=this.hash||"",o=!1,a="";this.host?o=e+this.host:this.hostname&&(o=e+(-1===this.hostname.indexOf(":")?this.hostname:"["+this.hostname+"]"),this.port&&(o+=":"+this.port)),this.query&&i.isObject(this.query)&&Object.keys(this.query).length&&(a=v.stringify(this.query));var s=this.search||a&&"?"+a||"";return t&&":"!==t.substr(-1)&&(t+=":"),this.slashes||(!t||m[t])&&!1!==o?(o="//"+(o||""),r&&"/"!==r.charAt(0)&&(r="/"+r)):o||(o=""),n&&"#"!==n.charAt(0)&&(n="#"+n),s&&"?"!==s.charAt(0)&&(s="?"+s),t+o+(r=r.replace(/[?#]/g,function(e){return encodeURIComponent(e)}))+(s=s.replace("#","%23"))+n},o.prototype.resolve=function(e){return this.resolveObject(b(e,!1,!0)).format()},o.prototype.resolveObject=function(e){if(i.isString(e)){var t=new o;t.parse(e,!1,!0),e=t}for(var r=new o,n=Object.keys(this),a=0;a<n.length;a++){var s=n[a];r[s]=this[s]}if(r.hash=e.hash,""===e.href)return r.href=r.format(),r;if(e.slashes&&!e.protocol){for(var u=Object.keys(e),c=0;c<u.length;c++){var l=u[c];"protocol"!==l&&(r[l]=e[l])}return m[r.protocol]&&r.hostname&&!r.pathname&&(r.path=r.pathname="/"),r.href=r.format(),r}if(e.protocol&&e.protocol!==r.protocol){if(!m[e.protocol]){for(var h=Object.keys(e),f=0;f<h.length;f++){var d=h[f];r[d]=e[d]}return r.href=r.format(),r}if(r.protocol=e.protocol,e.host||y[e.protocol])r.pathname=e.pathname;else{for(var p=(e.pathname||"").split("/");p.length&&!(e.host=p.shift()););e.host||(e.host=""),e.hostname||(e.hostname=""),""!==p[0]&&p.unshift(""),p.length<2&&p.unshift(""),r.pathname=p.join("/")}if(r.search=e.search,r.query=e.query,r.host=e.host||"",r.auth=e.auth,r.hostname=e.hostname||e.host,r.port=e.port,r.pathname||r.search){var g=r.pathname||"",v=r.search||"";r.path=g+v}return r.slashes=r.slashes||e.slashes,r.href=r.format(),r}var b=r.pathname&&"/"===r.pathname.charAt(0),w=e.host||e.pathname&&"/"===e.pathname.charAt(0),x=w||b||r.host&&e.pathname,_=x,I=r.pathname&&r.pathname.split("/")||[],N=(p=e.pathname&&e.pathname.split("/")||[],r.protocol&&!m[r.protocol]);if(N&&(r.hostname="",r.port=null,r.host&&(""===I[0]?I[0]=r.host:I.unshift(r.host)),r.host="",e.protocol&&(e.hostname=null,e.port=null,e.host&&(""===p[0]?p[0]=e.host:p.unshift(e.host)),e.host=null),x=x&&(""===p[0]||""===I[0])),w)r.host=e.host||""===e.host?e.host:r.host,r.hostname=e.hostname||""===e.hostname?e.hostname:r.hostname,r.search=e.search,r.query=e.query,I=p;else if(p.length)I||(I=[]),I.pop(),I=I.concat(p),r.search=e.search,r.query=e.query;else if(!i.isNullOrUndefined(e.search)){if(N)r.hostname=r.host=I.shift(),(R=!!(r.host&&r.host.indexOf("@")>0)&&r.host.split("@"))&&(r.auth=R.shift(),r.host=r.hostname=R.shift());return r.search=e.search,r.query=e.query,i.isNull(r.pathname)&&i.isNull(r.search)||(r.path=(r.pathname?r.pathname:"")+(r.search?r.search:"")),r.href=r.format(),r}if(!I.length)return r.pathname=null,r.search?r.path="/"+r.search:r.path=null,r.href=r.format(),r;for(var T=I.slice(-1)[0],S=(r.host||e.host||I.length>1)&&("."===T||".."===T)||""===T,j=0,E=I.length;E>=0;E--)"."===(T=I[E])?I.splice(E,1):".."===T?(I.splice(E,1),j++):j&&(I.splice(E,1),j--);if(!x&&!_)for(;j--;j)I.unshift("..");!x||""===I[0]||I[0]&&"/"===I[0].charAt(0)||I.unshift(""),S&&"/"!==I.join("/").substr(-1)&&I.push("");var R,C=""===I[0]||I[0]&&"/"===I[0].charAt(0);N&&(r.hostname=r.host=C?"":I.length?I.shift():"",(R=!!(r.host&&r.host.indexOf("@")>0)&&r.host.split("@"))&&(r.auth=R.shift(),r.host=r.hostname=R.shift()));return(x=x||r.host&&I.length)&&!C&&I.unshift(""),I.length?r.pathname=I.join("/"):(r.pathname=null,r.path=null),i.isNull(r.pathname)&&i.isNull(r.search)||(r.path=(r.pathname?r.pathname:"")+(r.search?r.search:"")),r.auth=e.auth||r.auth,r.slashes=r.slashes||e.slashes,r.href=r.format(),r},o.prototype.parseHost=function(){var e=this.host,t=s.exec(e);t&&(":"!==(t=t[0])&&(this.port=t.substr(1)),e=e.substr(0,e.length-t.length)),e&&(this.hostname=e)}},function(e,t,r){e.exports={DataFactory:r(15),Lexer:r(44),Parser:r(45),Writer:r(46),Store:r(81),StreamParser:r(86),StreamWriter:r(87),Util:r(88)}},function(e,t,r){e.exports=i;var n=r(13).EventEmitter;function i(){n.call(this)}r(7)(i,n),i.Readable=r(12),i.Writable=r(82),i.Duplex=r(83),i.Transform=r(84),i.PassThrough=r(85),i.Stream=i,i.prototype.pipe=function(e,t){var r=this;function i(t){e.writable&&!1===e.write(t)&&r.pause&&r.pause()}function o(){r.readable&&r.resume&&r.resume()}r.on("data",i),e.on("drain",o),e._isStdio||t&&!1===t.end||(r.on("end",s),r.on("close",u));var a=!1;function s(){a||(a=!0,e.end())}function u(){a||(a=!0,"function"==typeof e.destroy&&e.destroy())}function c(e){if(l(),0===n.listenerCount(this,"error"))throw e}function l(){r.removeListener("data",i),e.removeListener("drain",o),r.removeListener("end",s),r.removeListener("close",u),r.removeListener("error",c),e.removeListener("error",c),r.removeListener("end",l),r.removeListener("close",l),e.removeListener("close",l)}return r.on("error",c),e.on("error",c),r.on("end",l),r.on("close",l),e.on("close",l),e.emit("pipe",r),e}},function(e,t,r){"use strict";const n=r(9),i=r(50),o=r(98),a=r(54),s=r(99);let u;try{u=r(100)}catch(e){}const c={};e.exports=c,c.NQuads=r(30),c.IdentifierIssuer=r(28),c._rdfCanonizeNative=function(e){return e&&(u=e),u},c.canonize=n.callbackify(async function(e,t){let r;const n=new Promise((e,t)=>{r=(r,n)=>{if(r)return t(r);e(n)}});if(Array.isArray(e)||(e=c.NQuads.legacyDatasetToQuads(e)),t.useNative){if(!u)throw new Error("rdf-canonize-native not available");u.canonize(e,t,r)}else if("URDNA2015"===t.algorithm)new i(t).main(e,r);else{if("URGNA2012"!==t.algorithm)throw"algorithm"in t?new Error("Invalid RDF Dataset Canonicalization algorithm: "+t.algorithm):new Error("No RDF Dataset Canonicalization algorithm specified.");new o(t).main(e,r)}return n}),c.canonizeSync=function(e,t){if(Array.isArray(e)||(e=c.NQuads.legacyDatasetToQuads(e)),t.useNative){if(u)return u.canonizeSync(e,t);throw new Error("rdf-canonize-native not available")}if("URDNA2015"===t.algorithm)return new a(t).main(e);if("URGNA2012"===t.algorithm)return new s(t).main(e);if(!("algorithm"in t))throw new Error("No RDF Dataset Canonicalization algorithm specified.");throw new Error("Invalid RDF Dataset Canonicalization algorithm: "+t.algorithm)}},function(e,t,r){"use strict";const n=r(9);e.exports=class e{constructor(e){this.prefix=e,this.counter=0,this.existing={}}clone(){const t=new e(this.prefix);return t.counter=this.counter,t.existing=n.clone(this.existing),t}getId(e){if(e&&e in this.existing)return this.existing[e];const t=this.prefix+this.counter;return this.counter+=1,e&&(this.existing[e]=t),t}hasId(e){return e in this.existing}}},function(e,t,r){var n=r(16);e.exports=n.md=n.md||{},n.md.algorithms=n.md.algorithms||{}},function(e,t,r){"use strict";const n="http://www.w3.org/1999/02/22-rdf-syntax-ns#langString",i="http://www.w3.org/2001/XMLSchema#string",o={};function a(e,t){for(const r in e)if(e[r].termType!==t[r].termType||e[r].value!==t[r].value)return!1;return"Literal"!==e.object.termType||e.object.datatype.termType===t.object.datatype.termType&&e.object.datatype.value===t.object.datatype.value&&e.object.language===t.object.language}o.eoln=/(?:\r\n)|(?:\n)|(?:\r)/g,o.empty=new RegExp("^[ \\t]*$"),o.quad=new RegExp('^[ \\t]*(?:(?:<([^:]+:[^>]*)>)|(_:(?:[A-Za-z-----------_0-9])(?:(?:[A-Za-z-----------_0-9---.])*(?:[A-Za-z-----------_0-9---]))?))[ \\t]+(?:<([^:]+:[^>]*)>)[ \\t]+(?:(?:<([^:]+:[^>]*)>)|(_:(?:[A-Za-z-----------_0-9])(?:(?:[A-Za-z-----------_0-9---.])*(?:[A-Za-z-----------_0-9---]))?)|(?:"([^"\\\\]*(?:\\\\.[^"\\\\]*)*)"(?:(?:\\^\\^(?:<([^:]+:[^>]*)>))|(?:@([a-zA-Z]+(?:-[a-zA-Z0-9]+)*)))?))[ \\t]*(?:\\.|(?:(?:(?:<([^:]+:[^>]*)>)|(_:(?:[A-Za-z-----------_0-9])(?:(?:[A-Za-z-----------_0-9---.])*(?:[A-Za-z-----------_0-9---]))?))[ \\t]*\\.))[ \\t]*$'),e.exports=class e{static parse(e){const t=[],r={},s=e.split(o.eoln);let c=0;for(const e of s){if(c++,o.empty.test(e))continue;const s=e.match(o.quad);if(null===s)throw new Error("N-Quads parse error on line "+c+".");const l={};if(void 0!==s[1]?l.subject={termType:"NamedNode",value:s[1]}:l.subject={termType:"BlankNode",value:s[2]},l.predicate={termType:"NamedNode",value:s[3]},void 0!==s[4]?l.object={termType:"NamedNode",value:s[4]}:void 0!==s[5]?l.object={termType:"BlankNode",value:s[5]}:(l.object={termType:"Literal",value:void 0,datatype:{termType:"NamedNode"}},void 0!==s[7]?l.object.datatype.value=s[7]:void 0!==s[8]?(l.object.datatype.value=n,l.object.language=s[8]):l.object.datatype.value=i,l.object.value=s[6].replace(u,function(e,t,r,n){if(t)switch(t){case"t":return"\t";case"b":return"\b";case"n":return"\n";case"r":return"\r";case"f":return"\f";case'"':return'"';case"'":return"'";case"\\":return"\\"}if(r)return String.fromCharCode(parseInt(r,16));if(n)throw new Error("Unsupported U escape")})),void 0!==s[9]?l.graph={termType:"NamedNode",value:s[9]}:void 0!==s[10]?l.graph={termType:"BlankNode",value:s[10]}:l.graph={termType:"DefaultGraph",value:""},l.graph.value in r){let e=!0;const n=r[l.graph.value];for(const t of n)if(a(t,l)){e=!1;break}e&&(n.push(l),t.push(l))}else r[l.graph.value]=[l],t.push(l)}return t}static serialize(t){Array.isArray(t)||(t=e.legacyDatasetToQuads(t));const r=[];for(const n of t)r.push(e.serializeQuad(n));return r.sort().join("")}static serializeQuad(e){const t=e.subject,r=e.predicate,o=e.object,a=e.graph;let u="";return[t,r].forEach(e=>{"NamedNode"===e.termType?u+="<"+e.value+">":u+=e.value,u+=" "}),"NamedNode"===o.termType?u+="<"+o.value+">":"BlankNode"===o.termType?u+=o.value:(u+='"'+function(e){return e.replace(s,function(e){switch(e){case'"':return'\\"';case"\\":return"\\\\";case"\n":return"\\n";case"\r":return"\\r"}})}(o.value)+'"',o.datatype.value===n?o.language&&(u+="@"+o.language):o.datatype.value!==i&&(u+="^^<"+o.datatype.value+">")),"NamedNode"===a.termType?u+=" <"+a.value+">":"BlankNode"===a.termType&&(u+=" "+a.value),u+=" .\n"}static legacyDatasetToQuads(e){const t=[],r={"blank node":"BlankNode",IRI:"NamedNode",literal:"Literal"};for(const o in e){e[o].forEach(e=>{const a={};for(const t in e){const o=e[t],s={termType:r[o.type],value:o.value};"Literal"===s.termType&&(s.datatype={termType:"NamedNode"},"datatype"in o&&(s.datatype.value=o.datatype),"language"in o?("datatype"in o||(s.datatype.value=n),s.language=o.language):"datatype"in o||(s.datatype.value=i)),a[t]=s}a.graph="@default"===o?{termType:"DefaultGraph",value:""}:{termType:o.startsWith("_:")?"BlankNode":"NamedNode",value:o},t.push(a)})}return t}};const s=/["\\\n\r]/g;const u=/(?:\\([tbnrf"'\\]))|(?:\\u([0-9A-Fa-f]{4}))|(?:\\U([0-9A-Fa-f]{8}))/g},function(e,t,r){"use strict";const{callbackify:n,normalizeDocumentLoader:i}=r(1);e.exports=class{constructor(){this._requests={},this.add=n(this.add.bind(this))}wrapLoader(e){const t=this;return t._loader=i(e),function(){return t.add.apply(t,arguments)}}async add(e){const t=this;let r=t._requests[e];if(r)return Promise.resolve(r);r=t._requests[e]=t._loader(e);try{return await r}finally{delete t._requests[e]}}}},function(e,t,r){var n=r(116);e.exports=n},function(e,t,r){(function(e){var n=Object.getOwnPropertyDescriptors||function(e){for(var t=Object.keys(e),r={},n=0;n<t.length;n++)r[t[n]]=Object.getOwnPropertyDescriptor(e,t[n]);return r},i=/%[sdj%]/g;t.format=function(e){if(!m(e)){for(var t=[],r=0;r<arguments.length;r++)t.push(s(arguments[r]));return t.join(" ")}r=1;for(var n=arguments,o=n.length,a=String(e).replace(i,function(e){if("%%"===e)return"%";if(r>=o)return e;switch(e){case"%s":return String(n[r++]);case"%d":return Number(n[r++]);case"%j":try{return JSON.stringify(n[r++])}catch(e){return"[Circular]"}default:return e}}),u=n[r];r<o;u=n[++r])g(u)||!w(u)?a+=" "+u:a+=" "+s(u);return a},t.deprecate=function(r,n){if(void 0!==e&&!0===e.noDeprecation)return r;if(void 0===e)return function(){return t.deprecate(r,n).apply(this,arguments)};var i=!1;return function(){if(!i){if(e.throwDeprecation)throw new Error(n);e.traceDeprecation?console.trace(n):console.error(n),i=!0}return r.apply(this,arguments)}};var o,a={};function s(e,r){var n={seen:[],stylize:c};return arguments.length>=3&&(n.depth=arguments[2]),arguments.length>=4&&(n.colors=arguments[3]),p(r)?n.showHidden=r:r&&t._extend(n,r),v(n.showHidden)&&(n.showHidden=!1),v(n.depth)&&(n.depth=2),v(n.colors)&&(n.colors=!1),v(n.customInspect)&&(n.customInspect=!0),n.colors&&(n.stylize=u),l(n,e,n.depth)}function u(e,t){var r=s.styles[t];return r?"["+s.colors[r][0]+"m"+e+"["+s.colors[r][1]+"m":e}function c(e,t){return e}function l(e,r,n){if(e.customInspect&&r&&I(r.inspect)&&r.inspect!==t.inspect&&(!r.constructor||r.constructor.prototype!==r)){var i=r.inspect(n,e);return m(i)||(i=l(e,i,n)),i}var o=function(e,t){if(v(t))return e.stylize("undefined","undefined");if(m(t)){var r="'"+JSON.stringify(t).replace(/^"|"$/g,"").replace(/'/g,"\\'").replace(/\\"/g,'"')+"'";return e.stylize(r,"string")}if(y(t))return e.stylize(""+t,"number");if(p(t))return e.stylize(""+t,"boolean");if(g(t))return e.stylize("null","null")}(e,r);if(o)return o;var a=Object.keys(r),s=function(e){var t={};return e.forEach(function(e,r){t[e]=!0}),t}(a);if(e.showHidden&&(a=Object.getOwnPropertyNames(r)),_(r)&&(a.indexOf("message")>=0||a.indexOf("description")>=0))return h(r);if(0===a.length){if(I(r)){var u=r.name?": "+r.name:"";return e.stylize("[Function"+u+"]","special")}if(b(r))return e.stylize(RegExp.prototype.toString.call(r),"regexp");if(x(r))return e.stylize(Date.prototype.toString.call(r),"date");if(_(r))return h(r)}var c,w="",N=!1,T=["{","}"];(d(r)&&(N=!0,T=["[","]"]),I(r))&&(w=" [Function"+(r.name?": "+r.name:"")+"]");return b(r)&&(w=" "+RegExp.prototype.toString.call(r)),x(r)&&(w=" "+Date.prototype.toUTCString.call(r)),_(r)&&(w=" "+h(r)),0!==a.length||N&&0!=r.length?n<0?b(r)?e.stylize(RegExp.prototype.toString.call(r),"regexp"):e.stylize("[Object]","special"):(e.seen.push(r),c=N?function(e,t,r,n,i){for(var o=[],a=0,s=t.length;a<s;++a)E(t,String(a))?o.push(f(e,t,r,n,String(a),!0)):o.push("");return i.forEach(function(i){i.match(/^\d+$/)||o.push(f(e,t,r,n,i,!0))}),o}(e,r,n,s,a):a.map(function(t){return f(e,r,n,s,t,N)}),e.seen.pop(),function(e,t,r){if(e.reduce(function(e,t){return 0,t.indexOf("\n")>=0&&0,e+t.replace(/\u001b\[\d\d?m/g,"").length+1},0)>60)return r[0]+(""===t?"":t+"\n ")+" "+e.join(",\n  ")+" "+r[1];return r[0]+t+" "+e.join(", ")+" "+r[1]}(c,w,T)):T[0]+w+T[1]}function h(e){return"["+Error.prototype.toString.call(e)+"]"}function f(e,t,r,n,i,o){var a,s,u;if((u=Object.getOwnPropertyDescriptor(t,i)||{value:t[i]}).get?s=u.set?e.stylize("[Getter/Setter]","special"):e.stylize("[Getter]","special"):u.set&&(s=e.stylize("[Setter]","special")),E(n,i)||(a="["+i+"]"),s||(e.seen.indexOf(u.value)<0?(s=g(r)?l(e,u.value,null):l(e,u.value,r-1)).indexOf("\n")>-1&&(s=o?s.split("\n").map(function(e){return"  "+e}).join("\n").substr(2):"\n"+s.split("\n").map(function(e){return"   "+e}).join("\n")):s=e.stylize("[Circular]","special")),v(a)){if(o&&i.match(/^\d+$/))return s;(a=JSON.stringify(""+i)).match(/^"([a-zA-Z_][a-zA-Z_0-9]*)"$/)?(a=a.substr(1,a.length-2),a=e.stylize(a,"name")):(a=a.replace(/'/g,"\\'").replace(/\\"/g,'"').replace(/(^"|"$)/g,"'"),a=e.stylize(a,"string"))}return a+": "+s}function d(e){return Array.isArray(e)}function p(e){return"boolean"==typeof e}function g(e){return null===e}function y(e){return"number"==typeof e}function m(e){return"string"==typeof e}function v(e){return void 0===e}function b(e){return w(e)&&"[object RegExp]"===N(e)}function w(e){return"object"==typeof e&&null!==e}function x(e){return w(e)&&"[object Date]"===N(e)}function _(e){return w(e)&&("[object Error]"===N(e)||e instanceof Error)}function I(e){return"function"==typeof e}function N(e){return Object.prototype.toString.call(e)}function T(e){return e<10?"0"+e.toString(10):e.toString(10)}t.debuglog=function(r){if(v(o)&&(o=e.env.NODE_DEBUG||""),r=r.toUpperCase(),!a[r])if(new RegExp("\\b"+r+"\\b","i").test(o)){var n=e.pid;a[r]=function(){var e=t.format.apply(t,arguments);console.error("%s %d: %s",r,n,e)}}else a[r]=function(){};return a[r]},t.inspect=s,s.colors={bold:[1,22],italic:[3,23],underline:[4,24],inverse:[7,27],white:[37,39],grey:[90,39],black:[30,39],blue:[34,39],cyan:[36,39],green:[32,39],magenta:[35,39],red:[31,39],yellow:[33,39]},s.styles={special:"cyan",number:"yellow",boolean:"yellow",undefined:"grey",null:"bold",string:"green",date:"magenta",regexp:"red"},t.isArray=d,t.isBoolean=p,t.isNull=g,t.isNullOrUndefined=function(e){return null==e},t.isNumber=y,t.isString=m,t.isSymbol=function(e){return"symbol"==typeof e},t.isUndefined=v,t.isRegExp=b,t.isObject=w,t.isDate=x,t.isError=_,t.isFunction=I,t.isPrimitive=function(e){return null===e||"boolean"==typeof e||"number"==typeof e||"string"==typeof e||"symbol"==typeof e||void 0===e},t.isBuffer=r(59);var S=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"];function j(){var e=new Date,t=[T(e.getHours()),T(e.getMinutes()),T(e.getSeconds())].join(":");return[e.getDate(),S[e.getMonth()],t].join(" ")}function E(e,t){return Object.prototype.hasOwnProperty.call(e,t)}t.log=function(){console.log("%s - %s",j(),t.format.apply(t,arguments))},t.inherits=r(60),t._extend=function(e,t){if(!t||!w(t))return e;for(var r=Object.keys(t),n=r.length;n--;)e[r[n]]=t[r[n]];return e};var R="undefined"!=typeof Symbol?Symbol("util.promisify.custom"):void 0;function C(e,t){if(!e){var r=new Error("Promise was rejected with a falsy value");r.reason=e,e=r}return t(e)}t.promisify=function(e){if("function"!=typeof e)throw new TypeError('The "original" argument must be of type Function');if(R&&e[R]){var t;if("function"!=typeof(t=e[R]))throw new TypeError('The "util.promisify.custom" argument must be of type Function');return Object.defineProperty(t,R,{value:t,enumerable:!1,writable:!1,configurable:!0}),t}function t(){for(var t,r,n=new Promise(function(e,n){t=e,r=n}),i=[],o=0;o<arguments.length;o++)i.push(arguments[o]);i.push(function(e,n){e?r(e):t(n)});try{e.apply(this,i)}catch(e){r(e)}return n}return Object.setPrototypeOf(t,Object.getPrototypeOf(e)),R&&Object.defineProperty(t,R,{value:t,enumerable:!1,writable:!1,configurable:!0}),Object.defineProperties(t,n(e))},t.promisify.custom=R,t.callbackify=function(t){if("function"!=typeof t)throw new TypeError('The "original" argument must be of type Function');function r(){for(var r=[],n=0;n<arguments.length;n++)r.push(arguments[n]);var i=r.pop();if("function"!=typeof i)throw new TypeError("The last argument must be of type Function");var o=this,a=function(){return i.apply(o,arguments)};t.apply(this,r).then(function(t){e.nextTick(a,null,t)},function(t){e.nextTick(C,t,a)})}return Object.setPrototypeOf(r,Object.getPrototypeOf(t)),Object.defineProperties(r,n(t)),r}}).call(this,r(2))},function(e,t,r){(function(t,r){
/*!
 *
 * Copyright 2009-2017 Kris Kowal under the terms of the MIT
 * license found at https://github.com/kriskowal/q/blob/v1/LICENSE
 *
 * With parts by Tyler Close
 * Copyright 2007-2009 Tyler Close under the terms of the MIT X license found
 * at http://www.opensource.org/licenses/mit-license.html
 * Forked at ref_send.js version: 2009-05-11
 *
 * With parts by Mark Miller
 * Copyright (C) 2011 Google Inc.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *
 */
!function(t){"use strict";"function"==typeof bootstrap?bootstrap("promise",t):e.exports=t()}(function(){"use strict";var e=!1;try{throw new Error}catch(t){e=!!t.stack}var n,i=N(),o=function(){},a=function(){var e={task:void 0,next:null},n=e,i=!1,o=void 0,s=!1,u=[];function c(){for(var t,r;e.next;)t=(e=e.next).task,e.task=void 0,(r=e.domain)&&(e.domain=void 0,r.enter()),l(t,r);for(;u.length;)l(t=u.pop());i=!1}function l(e,t){try{e()}catch(e){if(s)throw t&&t.exit(),setTimeout(c,0),t&&t.enter(),e;setTimeout(function(){throw e},0)}t&&t.exit()}if(a=function(e){n=n.next={task:e,domain:s&&t.domain,next:null},i||(i=!0,o())},"object"==typeof t&&"[object process]"===t.toString()&&t.nextTick)s=!0,o=function(){t.nextTick(c)};else if("function"==typeof r)o="undefined"!=typeof window?r.bind(window,c):function(){r(c)};else if("undefined"!=typeof MessageChannel){var h=new MessageChannel;h.port1.onmessage=function(){o=f,h.port1.onmessage=c,c()};var f=function(){h.port2.postMessage(0)};o=function(){setTimeout(c,0),f()}}else o=function(){setTimeout(c,0)};return a.runAfter=function(e){u.push(e),i||(i=!0,o())},a}(),s=Function.call;function u(e){return function(){return s.apply(e,arguments)}}var c,l=u(Array.prototype.slice),h=u(Array.prototype.reduce||function(e,t){var r=0,n=this.length;if(1===arguments.length)for(;;){if(r in this){t=this[r++];break}if(++r>=n)throw new TypeError}for(;r<n;r++)r in this&&(t=e(t,this[r],r));return t}),f=u(Array.prototype.indexOf||function(e){for(var t=0;t<this.length;t++)if(this[t]===e)return t;return-1}),d=u(Array.prototype.map||function(e,t){var r=this,n=[];return h(r,function(i,o,a){n.push(e.call(t,o,a,r))},void 0),n}),p=Object.create||function(e){function t(){}return t.prototype=e,new t},g=Object.defineProperty||function(e,t,r){return e[t]=r.value,e},y=u(Object.prototype.hasOwnProperty),m=Object.keys||function(e){var t=[];for(var r in e)y(e,r)&&t.push(r);return t},v=u(Object.prototype.toString);function b(e){return"[object StopIteration]"===v(e)||e instanceof c}c="undefined"!=typeof ReturnValue?ReturnValue:function(e){this.value=e};var w="From previous event:";function x(t,r){if(e&&r.stack&&"object"==typeof t&&null!==t&&t.stack){for(var n=[],i=r;i;i=i.source)i.stack&&(!t.__minimumStackCounter__||t.__minimumStackCounter__>i.stackCounter)&&(g(t,"__minimumStackCounter__",{value:i.stackCounter,configurable:!0}),n.unshift(i.stack));n.unshift(t.stack);var o=function(e){for(var t=e.split("\n"),r=[],n=0;n<t.length;++n){var i=t[n];!I(i)&&(-1===(o=i).indexOf("(module.js:")&&-1===o.indexOf("(node.js:"))&&i&&r.push(i)}var o;return r.join("\n")}(n.join("\n"+w+"\n"));g(t,"stack",{value:o,configurable:!0})}}function _(e){var t=/at .+ \((.+):(\d+):(?:\d+)\)$/.exec(e);if(t)return[t[1],Number(t[2])];var r=/at ([^ ]+):(\d+):(?:\d+)$/.exec(e);if(r)return[r[1],Number(r[2])];var n=/.*@(.+):(\d+)$/.exec(e);return n?[n[1],Number(n[2])]:void 0}function I(e){var t=_(e);if(!t)return!1;var r=t[0],o=t[1];return r===n&&o>=i&&o<=Y}function N(){if(e)try{throw new Error}catch(e){var t=e.stack.split("\n"),r=_(t[0].indexOf("@")>0?t[1]:t[2]);if(!r)return;return n=r[0],r[1]}}function T(e){return e instanceof C?e:D(e)?function(e){var t=j();return T.nextTick(function(){try{e.then(t.resolve,t.reject,t.notify)}catch(e){t.reject(e)}}),t.promise}(e):G(e)}T.resolve=T,T.nextTick=a,T.longStackSupport=!1;var S=1;function j(){var t,r=[],n=[],i=p(j.prototype),o=p(C.prototype);if(o.promiseDispatch=function(e,i,o){var a=l(arguments);r?(r.push(a),"when"===i&&o[1]&&n.push(o[1])):T.nextTick(function(){t.promiseDispatch.apply(t,a)})},o.valueOf=function(){if(r)return o;var e=k(t);return O(e)&&(t=e),e},o.inspect=function(){return t?t.inspect():{state:"pending"}},T.longStackSupport&&e)try{throw new Error}catch(e){o.stack=e.stack.substring(e.stack.indexOf("\n")+1),o.stackCounter=S++}function a(i){t=i,T.longStackSupport&&e&&(o.source=i),h(r,function(e,t){T.nextTick(function(){i.promiseDispatch.apply(i,t)})},void 0),r=void 0,n=void 0}return i.promise=o,i.resolve=function(e){t||a(T(e))},i.fulfill=function(e){t||a(G(e))},i.reject=function(e){t||a(H(e))},i.notify=function(e){t||h(n,function(t,r){T.nextTick(function(){r(e)})},void 0)},i}function E(e){if("function"!=typeof e)throw new TypeError("resolver must be a function.");var t=j();try{e(t.resolve,t.reject,t.notify)}catch(e){t.reject(e)}return t.promise}function R(e){return E(function(t,r){for(var n=0,i=e.length;n<i;n++)T(e[n]).then(t,r)})}function C(e,t,r){void 0===t&&(t=function(e){return H(new Error("Promise does not support operation: "+e))}),void 0===r&&(r=function(){return{state:"unknown"}});var n=p(C.prototype);if(n.promiseDispatch=function(r,i,o){var a;try{a=e[i]?e[i].apply(n,o):t.call(n,i,o)}catch(e){a=H(e)}r&&r(a)},n.inspect=r,r){var i=r();"rejected"===i.state&&(n.exception=i.reason),n.valueOf=function(){var e=r();return"pending"===e.state||"rejected"===e.state?n:e.value}}return n}function A(e,t,r,n){return T(e).then(t,r,n)}function k(e){if(O(e)){var t=e.inspect();if("fulfilled"===t.state)return t.value}return e}function O(e){return e instanceof C}function D(e){return(t=e)===Object(t)&&"function"==typeof e.then;var t}"object"==typeof t&&t&&t.env&&t.env.Q_DEBUG&&(T.longStackSupport=!0),T.defer=j,j.prototype.makeNodeResolver=function(){var e=this;return function(t,r){t?e.reject(t):arguments.length>2?e.resolve(l(arguments,1)):e.resolve(r)}},T.Promise=E,T.promise=E,E.race=R,E.all=J,E.reject=H,E.resolve=T,T.passByCopy=function(e){return e},C.prototype.passByCopy=function(){return this},T.join=function(e,t){return T(e).join(t)},C.prototype.join=function(e){return T([this,e]).spread(function(e,t){if(e===t)return e;throw new Error("Q can't join: not the same: "+e+" "+t)})},T.race=R,C.prototype.race=function(){return this.then(T.race)},T.makePromise=C,C.prototype.toString=function(){return"[object Promise]"},C.prototype.then=function(e,t,r){var n=this,i=j(),o=!1;return T.nextTick(function(){n.promiseDispatch(function(t){o||(o=!0,i.resolve(function(t){try{return"function"==typeof e?e(t):t}catch(e){return H(e)}}(t)))},"when",[function(e){o||(o=!0,i.resolve(function(e){if("function"==typeof t){x(e,n);try{return t(e)}catch(e){return H(e)}}return H(e)}(e)))}])}),n.promiseDispatch(void 0,"when",[void 0,function(e){var t,n=!1;try{t=function(e){return"function"==typeof r?r(e):e}(e)}catch(e){if(n=!0,!T.onerror)throw e;T.onerror(e)}n||i.notify(t)}]),i.promise},T.tap=function(e,t){return T(e).tap(t)},C.prototype.tap=function(e){return e=T(e),this.then(function(t){return e.fcall(t).thenResolve(t)})},T.when=A,C.prototype.thenResolve=function(e){return this.then(function(){return e})},T.thenResolve=function(e,t){return T(e).thenResolve(t)},C.prototype.thenReject=function(e){return this.then(function(){throw e})},T.thenReject=function(e,t){return T(e).thenReject(t)},T.nearer=k,T.isPromise=O,T.isPromiseAlike=D,T.isPending=function(e){return O(e)&&"pending"===e.inspect().state},C.prototype.isPending=function(){return"pending"===this.inspect().state},T.isFulfilled=function(e){return!O(e)||"fulfilled"===e.inspect().state},C.prototype.isFulfilled=function(){return"fulfilled"===this.inspect().state},T.isRejected=function(e){return O(e)&&"rejected"===e.inspect().state},C.prototype.isRejected=function(){return"rejected"===this.inspect().state};var L,M,B,P=[],U=[],F=[],q=!0;function z(){P.length=0,U.length=0,q||(q=!0)}function H(e){var r=C({when:function(r){return r&&function(e){if(q){var r=f(U,e);-1!==r&&("object"==typeof t&&"function"==typeof t.emit&&T.nextTick.runAfter(function(){var n=f(F,e);-1!==n&&(t.emit("rejectionHandled",P[r],e),F.splice(n,1))}),U.splice(r,1),P.splice(r,1))}}(this),r?r(e):this}},function(){return this},function(){return{state:"rejected",reason:e}});return function(e,r){q&&("object"==typeof t&&"function"==typeof t.emit&&T.nextTick.runAfter(function(){-1!==f(U,e)&&(t.emit("unhandledRejection",r,e),F.push(e))}),U.push(e),r&&void 0!==r.stack?P.push(r.stack):P.push("(no stack) "+r))}(r,e),r}function G(e){return C({when:function(){return e},get:function(t){return e[t]},set:function(t,r){e[t]=r},delete:function(t){delete e[t]},post:function(t,r){return null==t?e.apply(void 0,r):e[t].apply(e,r)},apply:function(t,r){return e.apply(t,r)},keys:function(){return m(e)}},void 0,function(){return{state:"fulfilled",value:e}})}function V(e,t,r){return T(e).spread(t,r)}function X(e,t,r){return T(e).dispatch(t,r)}function J(e){return A(e,function(e){var t=0,r=j();return h(e,function(n,i,o){var a;O(i)&&"fulfilled"===(a=i.inspect()).state?e[o]=a.value:(++t,A(i,function(n){e[o]=n,0==--t&&r.resolve(e)},r.reject,function(e){r.notify({index:o,value:e})}))},void 0),0===t&&r.resolve(e),r.promise})}function Q(e){if(0===e.length)return T.resolve();var t=T.defer(),r=0;return h(e,function(n,i,o){var a=e[o];r++,A(a,function(e){t.resolve(e)},function(e){if(0==--r){var n=e||new Error(""+e);n.message="Q can't get fulfillment value from any promise, all promises were rejected. Last error message: "+n.message,t.reject(n)}},function(e){t.notify({index:o,value:e})})},void 0),t.promise}function W(e){return A(e,function(e){return e=d(e,T),A(J(d(e,function(e){return A(e,o,o)})),function(){return e})})}T.resetUnhandledRejections=z,T.getUnhandledReasons=function(){return P.slice()},T.stopUnhandledRejectionTracking=function(){z(),q=!1},z(),T.reject=H,T.fulfill=G,T.master=function(e){return C({isDef:function(){}},function(t,r){return X(e,t,r)},function(){return T(e).inspect()})},T.spread=V,C.prototype.spread=function(e,t){return this.all().then(function(t){return e.apply(void 0,t)},t)},T.async=function(e){return function(){function t(e,t){var o;if("undefined"==typeof StopIteration){try{o=r[e](t)}catch(e){return H(e)}return o.done?T(o.value):A(o.value,n,i)}try{o=r[e](t)}catch(e){return b(e)?T(e.value):H(e)}return A(o,n,i)}var r=e.apply(this,arguments),n=t.bind(t,"next"),i=t.bind(t,"throw");return n()}},T.spawn=function(e){T.done(T.async(e)())},T.return=function(e){throw new c(e)},T.promised=function(e){return function(){return V([this,J(arguments)],function(t,r){return e.apply(t,r)})}},T.dispatch=X,C.prototype.dispatch=function(e,t){var r=this,n=j();return T.nextTick(function(){r.promiseDispatch(n.resolve,e,t)}),n.promise},T.get=function(e,t){return T(e).dispatch("get",[t])},C.prototype.get=function(e){return this.dispatch("get",[e])},T.set=function(e,t,r){return T(e).dispatch("set",[t,r])},C.prototype.set=function(e,t){return this.dispatch("set",[e,t])},T.del=T.delete=function(e,t){return T(e).dispatch("delete",[t])},C.prototype.del=C.prototype.delete=function(e){return this.dispatch("delete",[e])},T.mapply=T.post=function(e,t,r){return T(e).dispatch("post",[t,r])},C.prototype.mapply=C.prototype.post=function(e,t){return this.dispatch("post",[e,t])},T.send=T.mcall=T.invoke=function(e,t){return T(e).dispatch("post",[t,l(arguments,2)])},C.prototype.send=C.prototype.mcall=C.prototype.invoke=function(e){return this.dispatch("post",[e,l(arguments,1)])},T.fapply=function(e,t){return T(e).dispatch("apply",[void 0,t])},C.prototype.fapply=function(e){return this.dispatch("apply",[void 0,e])},T.try=T.fcall=function(e){return T(e).dispatch("apply",[void 0,l(arguments,1)])},C.prototype.fcall=function(){return this.dispatch("apply",[void 0,l(arguments)])},T.fbind=function(e){var t=T(e),r=l(arguments,1);return function(){return t.dispatch("apply",[this,r.concat(l(arguments))])}},C.prototype.fbind=function(){var e=this,t=l(arguments);return function(){return e.dispatch("apply",[this,t.concat(l(arguments))])}},T.keys=function(e){return T(e).dispatch("keys",[])},C.prototype.keys=function(){return this.dispatch("keys",[])},T.all=J,C.prototype.all=function(){return J(this)},T.any=Q,C.prototype.any=function(){return Q(this)},T.allResolved=(L=W,M="allResolved",B="allSettled",function(){return"undefined"!=typeof console&&"function"==typeof console.warn&&console.warn(M+" is deprecated, use "+B+" instead.",new Error("").stack),L.apply(L,arguments)}),C.prototype.allResolved=function(){return W(this)},T.allSettled=function(e){return T(e).allSettled()},C.prototype.allSettled=function(){return this.then(function(e){return J(d(e,function(e){function t(){return e.inspect()}return(e=T(e)).then(t,t)}))})},T.fail=T.catch=function(e,t){return T(e).then(void 0,t)},C.prototype.fail=C.prototype.catch=function(e){return this.then(void 0,e)},T.progress=function(e,t){return T(e).then(void 0,void 0,t)},C.prototype.progress=function(e){return this.then(void 0,void 0,e)},T.fin=T.finally=function(e,t){return T(e).finally(t)},C.prototype.fin=C.prototype.finally=function(e){if(!e||"function"!=typeof e.apply)throw new Error("Q can't apply finally callback");return e=T(e),this.then(function(t){return e.fcall().then(function(){return t})},function(t){return e.fcall().then(function(){throw t})})},T.done=function(e,t,r,n){return T(e).done(t,r,n)},C.prototype.done=function(e,r,n){var i=function(e){T.nextTick(function(){if(x(e,o),!T.onerror)throw e;T.onerror(e)})},o=e||r||n?this.then(e,r,n):this;"object"==typeof t&&t&&t.domain&&(i=t.domain.bind(i)),o.then(void 0,i)},T.timeout=function(e,t,r){return T(e).timeout(t,r)},C.prototype.timeout=function(e,t){var r=j(),n=setTimeout(function(){t&&"string"!=typeof t||((t=new Error(t||"Timed out after "+e+" ms")).code="ETIMEDOUT"),r.reject(t)},e);return this.then(function(e){clearTimeout(n),r.resolve(e)},function(e){clearTimeout(n),r.reject(e)},r.notify),r.promise},T.delay=function(e,t){return void 0===t&&(t=e,e=void 0),T(e).delay(t)},C.prototype.delay=function(e){return this.then(function(t){var r=j();return setTimeout(function(){r.resolve(t)},e),r.promise})},T.nfapply=function(e,t){return T(e).nfapply(t)},C.prototype.nfapply=function(e){var t=j(),r=l(e);return r.push(t.makeNodeResolver()),this.fapply(r).fail(t.reject),t.promise},T.nfcall=function(e){var t=l(arguments,1);return T(e).nfapply(t)},C.prototype.nfcall=function(){var e=l(arguments),t=j();return e.push(t.makeNodeResolver()),this.fapply(e).fail(t.reject),t.promise},T.nfbind=T.denodeify=function(e){if(void 0===e)throw new Error("Q can't wrap an undefined function");var t=l(arguments,1);return function(){var r=t.concat(l(arguments)),n=j();return r.push(n.makeNodeResolver()),T(e).fapply(r).fail(n.reject),n.promise}},C.prototype.nfbind=C.prototype.denodeify=function(){var e=l(arguments);return e.unshift(this),T.denodeify.apply(void 0,e)},T.nbind=function(e,t){var r=l(arguments,2);return function(){var n=r.concat(l(arguments)),i=j();function o(){return e.apply(t,arguments)}return n.push(i.makeNodeResolver()),T(o).fapply(n).fail(i.reject),i.promise}},C.prototype.nbind=function(){var e=l(arguments,0);return e.unshift(this),T.nbind.apply(void 0,e)},T.nmapply=T.npost=function(e,t,r){return T(e).npost(t,r)},C.prototype.nmapply=C.prototype.npost=function(e,t){var r=l(t||[]),n=j();return r.push(n.makeNodeResolver()),this.dispatch("post",[e,r]).fail(n.reject),n.promise},T.nsend=T.nmcall=T.ninvoke=function(e,t){var r=l(arguments,2),n=j();return r.push(n.makeNodeResolver()),T(e).dispatch("post",[t,r]).fail(n.reject),n.promise},C.prototype.nsend=C.prototype.nmcall=C.prototype.ninvoke=function(e){var t=l(arguments,1),r=j();return t.push(r.makeNodeResolver()),this.dispatch("post",[e,t]).fail(r.reject),r.promise},T.nodeify=function(e,t){return T(e).nodeify(t)},C.prototype.nodeify=function(e){if(!e)return this;this.then(function(t){T.nextTick(function(){e(null,t)})},function(t){T.nextTick(function(){e(t)})})},T.noConflict=function(){throw new Error("Q.noConflict only works when Q is used as a global")};var Y=N();return T})}).call(this,r(2),r(11).setImmediate)},function(e,t,r){(function(e){var n=r(63),i=r(38),o=r(72),a=r(73),s=r(24),u=t;u.request=function(t,r){t="string"==typeof t?s.parse(t):o(t);var i=-1===e.location.protocol.search(/^https?:$/)?"http:":"",a=t.protocol||i,u=t.hostname||t.host,c=t.port,l=t.path||"/";u&&-1!==u.indexOf(":")&&(u="["+u+"]"),t.url=(u?a+"//"+u:"")+(c?":"+c:"")+l,t.method=(t.method||"GET").toUpperCase(),t.headers=t.headers||{};var h=new n(t);return r&&h.on("response",r),h},u.get=function(e,t){var r=u.request(e,t);return r.end(),r},u.ClientRequest=n,u.IncomingMessage=i.IncomingMessage,u.Agent=function(){},u.Agent.defaultMaxSockets=4,u.globalAgent=new u.Agent,u.STATUS_CODES=a,u.METHODS=["CHECKOUT","CONNECT","COPY","DELETE","GET","HEAD","LOCK","M-SEARCH","MERGE","MKACTIVITY","MKCOL","MOVE","NOTIFY","OPTIONS","PATCH","POST","PROPFIND","PROPPATCH","PURGE","PUT","REPORT","SEARCH","SUBSCRIBE","TRACE","UNLOCK","UNSUBSCRIBE"]}).call(this,r(0))},function(e,t){var r={}.toString;e.exports=Array.isArray||function(e){return"[object Array]"==r.call(e)}},function(e,t,r){(function(e){t.fetch=s(e.fetch)&&s(e.ReadableStream),t.writableStream=s(e.WritableStream),t.abortController=s(e.AbortController),t.blobConstructor=!1;try{new Blob([new ArrayBuffer(1)]),t.blobConstructor=!0}catch(e){}var r;function n(){if(void 0!==r)return r;if(e.XMLHttpRequest){r=new e.XMLHttpRequest;try{r.open("GET",e.XDomainRequest?"/":"https://example.com")}catch(e){r=null}}else r=null;return r}function i(e){var t=n();if(!t)return!1;try{return t.responseType=e,t.responseType===e}catch(e){}return!1}var o=void 0!==e.ArrayBuffer,a=o&&s(e.ArrayBuffer.prototype.slice);function s(e){return"function"==typeof e}t.arraybuffer=t.fetch||o&&i("arraybuffer"),t.msstream=!t.fetch&&a&&i("ms-stream"),t.mozchunkedarraybuffer=!t.fetch&&o&&i("moz-chunked-arraybuffer"),t.overrideMimeType=t.fetch||!!n()&&s(n().overrideMimeType),t.vbArray=s(e.VBArray),r=null}).call(this,r(0))},function(e,t,r){(function(e,n,i){var o=r(37),a=r(7),s=r(12),u=t.readyStates={UNSENT:0,OPENED:1,HEADERS_RECEIVED:2,LOADING:3,DONE:4},c=t.IncomingMessage=function(t,r,a,u){var c=this;if(s.Readable.call(c),c._mode=a,c.headers={},c.rawHeaders=[],c.trailers={},c.rawTrailers=[],c.on("end",function(){e.nextTick(function(){c.emit("close")})}),"fetch"===a){if(c._fetchResponse=r,c.url=r.url,c.statusCode=r.status,c.statusMessage=r.statusText,r.headers.forEach(function(e,t){c.headers[t.toLowerCase()]=e,c.rawHeaders.push(t,e)}),o.writableStream){var l=new WritableStream({write:function(e){return new Promise(function(t,r){c._destroyed?r():c.push(new n(e))?t():c._resumeFetch=t})},close:function(){i.clearTimeout(u),c._destroyed||c.push(null)},abort:function(e){c._destroyed||c.emit("error",e)}});try{return void r.body.pipeTo(l).catch(function(e){i.clearTimeout(u),c._destroyed||c.emit("error",e)})}catch(e){}}var h=r.body.getReader();!function e(){h.read().then(function(t){if(!c._destroyed){if(t.done)return i.clearTimeout(u),void c.push(null);c.push(new n(t.value)),e()}}).catch(function(e){i.clearTimeout(u),c._destroyed||c.emit("error",e)})}()}else{if(c._xhr=t,c._pos=0,c.url=t.responseURL,c.statusCode=t.status,c.statusMessage=t.statusText,t.getAllResponseHeaders().split(/\r?\n/).forEach(function(e){var t=e.match(/^([^:]+):\s*(.*)/);if(t){var r=t[1].toLowerCase();"set-cookie"===r?(void 0===c.headers[r]&&(c.headers[r]=[]),c.headers[r].push(t[2])):void 0!==c.headers[r]?c.headers[r]+=", "+t[2]:c.headers[r]=t[2],c.rawHeaders.push(t[1],t[2])}}),c._charset="x-user-defined",!o.overrideMimeType){var f=c.rawHeaders["mime-type"];if(f){var d=f.match(/;\s*charset=([^;])(;|$)/);d&&(c._charset=d[1].toLowerCase())}c._charset||(c._charset="utf-8")}}};a(c,s.Readable),c.prototype._read=function(){var e=this._resumeFetch;e&&(this._resumeFetch=null,e())},c.prototype._onXHRProgress=function(){var e=this,t=e._xhr,r=null;switch(e._mode){case"text:vbarray":if(t.readyState!==u.DONE)break;try{r=new i.VBArray(t.responseBody).toArray()}catch(e){}if(null!==r){e.push(new n(r));break}case"text":try{r=t.responseText}catch(t){e._mode="text:vbarray";break}if(r.length>e._pos){var o=r.substr(e._pos);if("x-user-defined"===e._charset){for(var a=new n(o.length),s=0;s<o.length;s++)a[s]=255&o.charCodeAt(s);e.push(a)}else e.push(o,e._charset);e._pos=r.length}break;case"arraybuffer":if(t.readyState!==u.DONE||!t.response)break;r=t.response,e.push(new n(new Uint8Array(r)));break;case"moz-chunked-arraybuffer":if(r=t.response,t.readyState!==u.LOADING||!r)break;e.push(new n(new Uint8Array(r)));break;case"ms-stream":if(r=t.response,t.readyState!==u.LOADING)break;var c=new i.MSStreamReader;c.onprogress=function(){c.result.byteLength>e._pos&&(e.push(new n(new Uint8Array(c.result.slice(e._pos)))),e._pos=c.result.byteLength)},c.onload=function(){e.push(null)},c.readAsArrayBuffer(r)}e._xhr.readyState===u.DONE&&"ms-stream"!==e._mode&&e.push(null)}}).call(this,r(2),r(6).Buffer,r(0))},function(e,t,r){"use strict";(function(t,n){var i=r(19);e.exports=b;var o,a=r(36);b.ReadableState=v;r(13).EventEmitter;var s=function(e,t){return e.listeners(t).length},u=r(40),c=r(20).Buffer,l=t.Uint8Array||function(){};var h=r(14);h.inherits=r(7);var f=r(66),d=void 0;d=f&&f.debuglog?f.debuglog("stream"):function(){};var p,g=r(67),y=r(41);h.inherits(b,u);var m=["error","close","destroy","pause","resume"];function v(e,t){e=e||{};var n=t instanceof(o=o||r(8));this.objectMode=!!e.objectMode,n&&(this.objectMode=this.objectMode||!!e.readableObjectMode);var i=e.highWaterMark,a=e.readableHighWaterMark,s=this.objectMode?16:16384;this.highWaterMark=i||0===i?i:n&&(a||0===a)?a:s,this.highWaterMark=Math.floor(this.highWaterMark),this.buffer=new g,this.length=0,this.pipes=null,this.pipesCount=0,this.flowing=null,this.ended=!1,this.endEmitted=!1,this.reading=!1,this.sync=!0,this.needReadable=!1,this.emittedReadable=!1,this.readableListening=!1,this.resumeScheduled=!1,this.destroyed=!1,this.defaultEncoding=e.defaultEncoding||"utf8",this.awaitDrain=0,this.readingMore=!1,this.decoder=null,this.encoding=null,e.encoding&&(p||(p=r(42).StringDecoder),this.decoder=new p(e.encoding),this.encoding=e.encoding)}function b(e){if(o=o||r(8),!(this instanceof b))return new b(e);this._readableState=new v(e,this),this.readable=!0,e&&("function"==typeof e.read&&(this._read=e.read),"function"==typeof e.destroy&&(this._destroy=e.destroy)),u.call(this)}function w(e,t,r,n,i){var o,a=e._readableState;null===t?(a.reading=!1,function(e,t){if(t.ended)return;if(t.decoder){var r=t.decoder.end();r&&r.length&&(t.buffer.push(r),t.length+=t.objectMode?1:r.length)}t.ended=!0,N(e)}(e,a)):(i||(o=function(e,t){var r;n=t,c.isBuffer(n)||n instanceof l||"string"==typeof t||void 0===t||e.objectMode||(r=new TypeError("Invalid non-string/buffer chunk"));var n;return r}(a,t)),o?e.emit("error",o):a.objectMode||t&&t.length>0?("string"==typeof t||a.objectMode||Object.getPrototypeOf(t)===c.prototype||(t=function(e){return c.from(e)}(t)),n?a.endEmitted?e.emit("error",new Error("stream.unshift() after end event")):x(e,a,t,!0):a.ended?e.emit("error",new Error("stream.push() after EOF")):(a.reading=!1,a.decoder&&!r?(t=a.decoder.write(t),a.objectMode||0!==t.length?x(e,a,t,!1):S(e,a)):x(e,a,t,!1))):n||(a.reading=!1));return function(e){return!e.ended&&(e.needReadable||e.length<e.highWaterMark||0===e.length)}(a)}function x(e,t,r,n){t.flowing&&0===t.length&&!t.sync?(e.emit("data",r),e.read(0)):(t.length+=t.objectMode?1:r.length,n?t.buffer.unshift(r):t.buffer.push(r),t.needReadable&&N(e)),S(e,t)}Object.defineProperty(b.prototype,"destroyed",{get:function(){return void 0!==this._readableState&&this._readableState.destroyed},set:function(e){this._readableState&&(this._readableState.destroyed=e)}}),b.prototype.destroy=y.destroy,b.prototype._undestroy=y.undestroy,b.prototype._destroy=function(e,t){this.push(null),t(e)},b.prototype.push=function(e,t){var r,n=this._readableState;return n.objectMode?r=!0:"string"==typeof e&&((t=t||n.defaultEncoding)!==n.encoding&&(e=c.from(e,t),t=""),r=!0),w(this,e,t,!1,r)},b.prototype.unshift=function(e){return w(this,e,null,!0,!1)},b.prototype.isPaused=function(){return!1===this._readableState.flowing},b.prototype.setEncoding=function(e){return p||(p=r(42).StringDecoder),this._readableState.decoder=new p(e),this._readableState.encoding=e,this};var _=8388608;function I(e,t){return e<=0||0===t.length&&t.ended?0:t.objectMode?1:e!=e?t.flowing&&t.length?t.buffer.head.data.length:t.length:(e>t.highWaterMark&&(t.highWaterMark=function(e){return e>=_?e=_:(e--,e|=e>>>1,e|=e>>>2,e|=e>>>4,e|=e>>>8,e|=e>>>16,e++),e}(e)),e<=t.length?e:t.ended?t.length:(t.needReadable=!0,0))}function N(e){var t=e._readableState;t.needReadable=!1,t.emittedReadable||(d("emitReadable",t.flowing),t.emittedReadable=!0,t.sync?i.nextTick(T,e):T(e))}function T(e){d("emit readable"),e.emit("readable"),C(e)}function S(e,t){t.readingMore||(t.readingMore=!0,i.nextTick(j,e,t))}function j(e,t){for(var r=t.length;!t.reading&&!t.flowing&&!t.ended&&t.length<t.highWaterMark&&(d("maybeReadMore read 0"),e.read(0),r!==t.length);)r=t.length;t.readingMore=!1}function E(e){d("readable nexttick read 0"),e.read(0)}function R(e,t){t.reading||(d("resume read 0"),e.read(0)),t.resumeScheduled=!1,t.awaitDrain=0,e.emit("resume"),C(e),t.flowing&&!t.reading&&e.read(0)}function C(e){var t=e._readableState;for(d("flow",t.flowing);t.flowing&&null!==e.read(););}function A(e,t){return 0===t.length?null:(t.objectMode?r=t.buffer.shift():!e||e>=t.length?(r=t.decoder?t.buffer.join(""):1===t.buffer.length?t.buffer.head.data:t.buffer.concat(t.length),t.buffer.clear()):r=function(e,t,r){var n;e<t.head.data.length?(n=t.head.data.slice(0,e),t.head.data=t.head.data.slice(e)):n=e===t.head.data.length?t.shift():r?function(e,t){var r=t.head,n=1,i=r.data;e-=i.length;for(;r=r.next;){var o=r.data,a=e>o.length?o.length:e;if(a===o.length?i+=o:i+=o.slice(0,e),0===(e-=a)){a===o.length?(++n,r.next?t.head=r.next:t.head=t.tail=null):(t.head=r,r.data=o.slice(a));break}++n}return t.length-=n,i}(e,t):function(e,t){var r=c.allocUnsafe(e),n=t.head,i=1;n.data.copy(r),e-=n.data.length;for(;n=n.next;){var o=n.data,a=e>o.length?o.length:e;if(o.copy(r,r.length-e,0,a),0===(e-=a)){a===o.length?(++i,n.next?t.head=n.next:t.head=t.tail=null):(t.head=n,n.data=o.slice(a));break}++i}return t.length-=i,r}(e,t);return n}(e,t.buffer,t.decoder),r);var r}function k(e){var t=e._readableState;if(t.length>0)throw new Error('"endReadable()" called on non-empty stream');t.endEmitted||(t.ended=!0,i.nextTick(O,t,e))}function O(e,t){e.endEmitted||0!==e.length||(e.endEmitted=!0,t.readable=!1,t.emit("end"))}function D(e,t){for(var r=0,n=e.length;r<n;r++)if(e[r]===t)return r;return-1}b.prototype.read=function(e){d("read",e),e=parseInt(e,10);var t=this._readableState,r=e;if(0!==e&&(t.emittedReadable=!1),0===e&&t.needReadable&&(t.length>=t.highWaterMark||t.ended))return d("read: emitReadable",t.length,t.ended),0===t.length&&t.ended?k(this):N(this),null;if(0===(e=I(e,t))&&t.ended)return 0===t.length&&k(this),null;var n,i=t.needReadable;return d("need readable",i),(0===t.length||t.length-e<t.highWaterMark)&&d("length less than watermark",i=!0),t.ended||t.reading?d("reading or ended",i=!1):i&&(d("do read"),t.reading=!0,t.sync=!0,0===t.length&&(t.needReadable=!0),this._read(t.highWaterMark),t.sync=!1,t.reading||(e=I(r,t))),null===(n=e>0?A(e,t):null)?(t.needReadable=!0,e=0):t.length-=e,0===t.length&&(t.ended||(t.needReadable=!0),r!==e&&t.ended&&k(this)),null!==n&&this.emit("data",n),n},b.prototype._read=function(e){this.emit("error",new Error("_read() is not implemented"))},b.prototype.pipe=function(e,t){var r=this,o=this._readableState;switch(o.pipesCount){case 0:o.pipes=e;break;case 1:o.pipes=[o.pipes,e];break;default:o.pipes.push(e)}o.pipesCount+=1,d("pipe count=%d opts=%j",o.pipesCount,t);var u=(!t||!1!==t.end)&&e!==n.stdout&&e!==n.stderr?l:b;function c(t,n){d("onunpipe"),t===r&&n&&!1===n.hasUnpiped&&(n.hasUnpiped=!0,d("cleanup"),e.removeListener("close",m),e.removeListener("finish",v),e.removeListener("drain",h),e.removeListener("error",y),e.removeListener("unpipe",c),r.removeListener("end",l),r.removeListener("end",b),r.removeListener("data",g),f=!0,!o.awaitDrain||e._writableState&&!e._writableState.needDrain||h())}function l(){d("onend"),e.end()}o.endEmitted?i.nextTick(u):r.once("end",u),e.on("unpipe",c);var h=function(e){return function(){var t=e._readableState;d("pipeOnDrain",t.awaitDrain),t.awaitDrain&&t.awaitDrain--,0===t.awaitDrain&&s(e,"data")&&(t.flowing=!0,C(e))}}(r);e.on("drain",h);var f=!1;var p=!1;function g(t){d("ondata"),p=!1,!1!==e.write(t)||p||((1===o.pipesCount&&o.pipes===e||o.pipesCount>1&&-1!==D(o.pipes,e))&&!f&&(d("false write response, pause",r._readableState.awaitDrain),r._readableState.awaitDrain++,p=!0),r.pause())}function y(t){d("onerror",t),b(),e.removeListener("error",y),0===s(e,"error")&&e.emit("error",t)}function m(){e.removeListener("finish",v),b()}function v(){d("onfinish"),e.removeListener("close",m),b()}function b(){d("unpipe"),r.unpipe(e)}return r.on("data",g),function(e,t,r){if("function"==typeof e.prependListener)return e.prependListener(t,r);e._events&&e._events[t]?a(e._events[t])?e._events[t].unshift(r):e._events[t]=[r,e._events[t]]:e.on(t,r)}(e,"error",y),e.once("close",m),e.once("finish",v),e.emit("pipe",r),o.flowing||(d("pipe resume"),r.resume()),e},b.prototype.unpipe=function(e){var t=this._readableState,r={hasUnpiped:!1};if(0===t.pipesCount)return this;if(1===t.pipesCount)return e&&e!==t.pipes?this:(e||(e=t.pipes),t.pipes=null,t.pipesCount=0,t.flowing=!1,e&&e.emit("unpipe",this,r),this);if(!e){var n=t.pipes,i=t.pipesCount;t.pipes=null,t.pipesCount=0,t.flowing=!1;for(var o=0;o<i;o++)n[o].emit("unpipe",this,r);return this}var a=D(t.pipes,e);return-1===a?this:(t.pipes.splice(a,1),t.pipesCount-=1,1===t.pipesCount&&(t.pipes=t.pipes[0]),e.emit("unpipe",this,r),this)},b.prototype.on=function(e,t){var r=u.prototype.on.call(this,e,t);if("data"===e)!1!==this._readableState.flowing&&this.resume();else if("readable"===e){var n=this._readableState;n.endEmitted||n.readableListening||(n.readableListening=n.needReadable=!0,n.emittedReadable=!1,n.reading?n.length&&N(this):i.nextTick(E,this))}return r},b.prototype.addListener=b.prototype.on,b.prototype.resume=function(){var e=this._readableState;return e.flowing||(d("resume"),e.flowing=!0,function(e,t){t.resumeScheduled||(t.resumeScheduled=!0,i.nextTick(R,e,t))}(this,e)),this},b.prototype.pause=function(){return d("call pause flowing=%j",this._readableState.flowing),!1!==this._readableState.flowing&&(d("pause"),this._readableState.flowing=!1,this.emit("pause")),this},b.prototype.wrap=function(e){var t=this,r=this._readableState,n=!1;for(var i in e.on("end",function(){if(d("wrapped end"),r.decoder&&!r.ended){var e=r.decoder.end();e&&e.length&&t.push(e)}t.push(null)}),e.on("data",function(i){(d("wrapped data"),r.decoder&&(i=r.decoder.write(i)),r.objectMode&&null==i)||(r.objectMode||i&&i.length)&&(t.push(i)||(n=!0,e.pause()))}),e)void 0===this[i]&&"function"==typeof e[i]&&(this[i]=function(t){return function(){return e[t].apply(e,arguments)}}(i));for(var o=0;o<m.length;o++)e.on(m[o],this.emit.bind(this,m[o]));return this._read=function(t){d("wrapped _read",t),n&&(n=!1,e.resume())},this},Object.defineProperty(b.prototype,"readableHighWaterMark",{enumerable:!1,get:function(){return this._readableState.highWaterMark}}),b._fromList=A}).call(this,r(0),r(2))},function(e,t,r){e.exports=r(13).EventEmitter},function(e,t,r){"use strict";var n=r(19);function i(e,t){e.emit("error",t)}e.exports={destroy:function(e,t){var r=this,o=this._readableState&&this._readableState.destroyed,a=this._writableState&&this._writableState.destroyed;return o||a?(t?t(e):!e||this._writableState&&this._writableState.errorEmitted||n.nextTick(i,this,e),this):(this._readableState&&(this._readableState.destroyed=!0),this._writableState&&(this._writableState.destroyed=!0),this._destroy(e||null,function(e){!t&&e?(n.nextTick(i,r,e),r._writableState&&(r._writableState.errorEmitted=!0)):t&&t(e)}),this)},undestroy:function(){this._readableState&&(this._readableState.destroyed=!1,this._readableState.reading=!1,this._readableState.ended=!1,this._readableState.endEmitted=!1),this._writableState&&(this._writableState.destroyed=!1,this._writableState.ended=!1,this._writableState.ending=!1,this._writableState.finished=!1,this._writableState.errorEmitted=!1)}}},function(e,t,r){"use strict";var n=r(20).Buffer,i=n.isEncoding||function(e){switch((e=""+e)&&e.toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":case"raw":return!0;default:return!1}};function o(e){var t;switch(this.encoding=function(e){var t=function(e){if(!e)return"utf8";for(var t;;)switch(e){case"utf8":case"utf-8":return"utf8";case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return"utf16le";case"latin1":case"binary":return"latin1";case"base64":case"ascii":case"hex":return e;default:if(t)return;e=(""+e).toLowerCase(),t=!0}}(e);if("string"!=typeof t&&(n.isEncoding===i||!i(e)))throw new Error("Unknown encoding: "+e);return t||e}(e),this.encoding){case"utf16le":this.text=u,this.end=c,t=4;break;case"utf8":this.fillLast=s,t=4;break;case"base64":this.text=l,this.end=h,t=3;break;default:return this.write=f,void(this.end=d)}this.lastNeed=0,this.lastTotal=0,this.lastChar=n.allocUnsafe(t)}function a(e){return e<=127?0:e>>5==6?2:e>>4==14?3:e>>3==30?4:e>>6==2?-1:-2}function s(e){var t=this.lastTotal-this.lastNeed,r=function(e,t,r){if(128!=(192&t[0]))return e.lastNeed=0,"";if(e.lastNeed>1&&t.length>1){if(128!=(192&t[1]))return e.lastNeed=1,"";if(e.lastNeed>2&&t.length>2&&128!=(192&t[2]))return e.lastNeed=2,""}}(this,e);return void 0!==r?r:this.lastNeed<=e.length?(e.copy(this.lastChar,t,0,this.lastNeed),this.lastChar.toString(this.encoding,0,this.lastTotal)):(e.copy(this.lastChar,t,0,e.length),void(this.lastNeed-=e.length))}function u(e,t){if((e.length-t)%2==0){var r=e.toString("utf16le",t);if(r){var n=r.charCodeAt(r.length-1);if(n>=55296&&n<=56319)return this.lastNeed=2,this.lastTotal=4,this.lastChar[0]=e[e.length-2],this.lastChar[1]=e[e.length-1],r.slice(0,-1)}return r}return this.lastNeed=1,this.lastTotal=2,this.lastChar[0]=e[e.length-1],e.toString("utf16le",t,e.length-1)}function c(e){var t=e&&e.length?this.write(e):"";if(this.lastNeed){var r=this.lastTotal-this.lastNeed;return t+this.lastChar.toString("utf16le",0,r)}return t}function l(e,t){var r=(e.length-t)%3;return 0===r?e.toString("base64",t):(this.lastNeed=3-r,this.lastTotal=3,1===r?this.lastChar[0]=e[e.length-1]:(this.lastChar[0]=e[e.length-2],this.lastChar[1]=e[e.length-1]),e.toString("base64",t,e.length-r))}function h(e){var t=e&&e.length?this.write(e):"";return this.lastNeed?t+this.lastChar.toString("base64",0,3-this.lastNeed):t}function f(e){return e.toString(this.encoding)}function d(e){return e&&e.length?this.write(e):""}t.StringDecoder=o,o.prototype.write=function(e){if(0===e.length)return"";var t,r;if(this.lastNeed){if(void 0===(t=this.fillLast(e)))return"";r=this.lastNeed,this.lastNeed=0}else r=0;return r<e.length?t?t+this.text(e,r):this.text(e,r):t||""},o.prototype.end=function(e){var t=e&&e.length?this.write(e):"";return this.lastNeed?t+"":t},o.prototype.text=function(e,t){var r=function(e,t,r){var n=t.length-1;if(n<r)return 0;var i=a(t[n]);if(i>=0)return i>0&&(e.lastNeed=i-1),i;if(--n<r||-2===i)return 0;if((i=a(t[n]))>=0)return i>0&&(e.lastNeed=i-2),i;if(--n<r||-2===i)return 0;if((i=a(t[n]))>=0)return i>0&&(2===i?i=0:e.lastNeed=i-3),i;return 0}(this,e,t);if(!this.lastNeed)return e.toString("utf8",t);this.lastTotal=r;var n=e.length-(r-this.lastNeed);return e.copy(this.lastChar,0,n),e.toString("utf8",t,n)},o.prototype.fillLast=function(e){if(this.lastNeed<=e.length)return e.copy(this.lastChar,this.lastTotal-this.lastNeed,0,this.lastNeed),this.lastChar.toString(this.encoding,0,this.lastTotal);e.copy(this.lastChar,this.lastTotal-this.lastNeed,0,e.length),this.lastNeed-=e.length}},function(e,t,r){"use strict";e.exports=a;var n=r(8),i=r(14);function o(e,t){var r=this._transformState;r.transforming=!1;var n=r.writecb;if(!n)return this.emit("error",new Error("write callback called multiple times"));r.writechunk=null,r.writecb=null,null!=t&&this.push(t),n(e);var i=this._readableState;i.reading=!1,(i.needReadable||i.length<i.highWaterMark)&&this._read(i.highWaterMark)}function a(e){if(!(this instanceof a))return new a(e);n.call(this,e),this._transformState={afterTransform:o.bind(this),needTransform:!1,transforming:!1,writecb:null,writechunk:null,writeencoding:null},this._readableState.needReadable=!0,this._readableState.sync=!1,e&&("function"==typeof e.transform&&(this._transform=e.transform),"function"==typeof e.flush&&(this._flush=e.flush)),this.on("prefinish",s)}function s(){var e=this;"function"==typeof this._flush?this._flush(function(t,r){u(e,t,r)}):u(this,null,null)}function u(e,t,r){if(t)return e.emit("error",t);if(null!=r&&e.push(r),e._writableState.length)throw new Error("Calling transform done when ws.length != 0");if(e._transformState.transforming)throw new Error("Calling transform done when still transforming");return e.push(null)}i.inherits=r(7),i.inherits(a,n),a.prototype.push=function(e,t){return this._transformState.needTransform=!1,n.prototype.push.call(this,e,t)},a.prototype._transform=function(e,t,r){throw new Error("_transform() is not implemented")},a.prototype._write=function(e,t,r){var n=this._transformState;if(n.writecb=r,n.writechunk=e,n.writeencoding=t,!n.transforming){var i=this._readableState;(n.needTransform||i.needReadable||i.length<i.highWaterMark)&&this._read(i.highWaterMark)}},a.prototype._read=function(e){var t=this._transformState;null!==t.writechunk&&t.writecb&&!t.transforming?(t.transforming=!0,this._transform(t.writechunk,t.writeencoding,t.afterTransform)):t.needTransform=!0},a.prototype._destroy=function(e,t){var r=this;n.prototype._destroy.call(this,e,function(e){t(e),r.emit("close")})}},function(e,t,r){(function(t,n){var i=r(21).xsd,o=String.fromCharCode,a="function"==typeof t?t:function(e){setTimeout(e,0)},s=/\\u([a-fA-F0-9]{4})|\\U([a-fA-F0-9]{8})|\\[uU]|\\(.)/g,u={"\\":"\\","'":"'",'"':'"',n:"\n",r:"\r",t:"\t",f:"\f",b:"\b",_:"_","~":"~",".":".","-":"-","!":"!",$:"$","&":"&","(":"(",")":")","*":"*","+":"+",",":",",";":";","=":"=","/":"/","?":"?","#":"#","@":"@","%":"%"},c=/[\x00-\x20<>\\"\{\}\|\^\`]/,l={_iri:!0,_unescapedIri:!0,_unescapedQuote:!0,_singleQuote:!0,_langcode:!0,_blank:!0,_newline:!0,_comment:!0,_whitespace:!0,_endOfFile:!0},h=/$0^/;e.exports=class{constructor(e){if(this._iri=/^<((?:[^ <>{}\\]|\\[uU])+)>[ \t]*/,this._unescapedIri=/^<([^\x00-\x20<>\\"\{\}\|\^\`]*)>[ \t]*/,this._unescapedQuote=/^"([^"\\\r\n]+)"/,this._unescapedApos=/^'([^'\\\r\n]+)'/,this._singleQuote=/^"((?:[^"\\\r\n]|\\.)*)"(?=[^"])/,this._singleApos=/^'((?:[^'\\\r\n]|\\.)*)'(?=[^'])/,this._tripleQuote=/^"""([^"\\]*(?:(?:\\.|"(?!""))[^"\\]*)*)"""/,this._tripleApos=/^'''([^'\\]*(?:(?:\\.|'(?!''))[^'\\]*)*)'''/,this._langcode=/^@([a-z]+(?:-[a-z0-9]+)*)(?=[^a-z0-9\-])/i,this._prefix=/^((?:[A-Za-z\xc0-\xd6\xd8-\xf6\xf8-\u02ff\u0370-\u037d\u037f-\u1fff\u200c\u200d\u2070-\u218f\u2c00-\u2fef\u3001-\ud7ff\uf900-\ufdcf\ufdf0-\ufffd]|[\ud800-\udb7f][\udc00-\udfff])(?:\.?[\-0-9A-Z_a-z\xb7\xc0-\xd6\xd8-\xf6\xf8-\u037d\u037f-\u1fff\u200c\u200d\u203f\u2040\u2070-\u218f\u2c00-\u2fef\u3001-\ud7ff\uf900-\ufdcf\ufdf0-\ufffd]|[\ud800-\udb7f][\udc00-\udfff])*)?:(?=[#\s<])/,this._prefixed=/^((?:[A-Za-z\xc0-\xd6\xd8-\xf6\xf8-\u02ff\u0370-\u037d\u037f-\u1fff\u200c\u200d\u2070-\u218f\u2c00-\u2fef\u3001-\ud7ff\uf900-\ufdcf\ufdf0-\ufffd]|[\ud800-\udb7f][\udc00-\udfff])(?:\.?[\-0-9A-Z_a-z\xb7\xc0-\xd6\xd8-\xf6\xf8-\u037d\u037f-\u1fff\u200c\u200d\u203f\u2040\u2070-\u218f\u2c00-\u2fef\u3001-\ud7ff\uf900-\ufdcf\ufdf0-\ufffd]|[\ud800-\udb7f][\udc00-\udfff])*)?:((?:(?:[0-:A-Z_a-z\xc0-\xd6\xd8-\xf6\xf8-\u02ff\u0370-\u037d\u037f-\u1fff\u200c\u200d\u2070-\u218f\u2c00-\u2fef\u3001-\ud7ff\uf900-\ufdcf\ufdf0-\ufffd]|[\ud800-\udb7f][\udc00-\udfff]|%[0-9a-fA-F]{2}|\\[!#-\/;=?\-@_~])(?:(?:[\.\-0-:A-Z_a-z\xb7\xc0-\xd6\xd8-\xf6\xf8-\u037d\u037f-\u1fff\u200c\u200d\u203f\u2040\u2070-\u218f\u2c00-\u2fef\u3001-\ud7ff\uf900-\ufdcf\ufdf0-\ufffd]|[\ud800-\udb7f][\udc00-\udfff]|%[0-9a-fA-F]{2}|\\[!#-\/;=?\-@_~])*(?:[\-0-:A-Z_a-z\xb7\xc0-\xd6\xd8-\xf6\xf8-\u037d\u037f-\u1fff\u200c\u200d\u203f\u2040\u2070-\u218f\u2c00-\u2fef\u3001-\ud7ff\uf900-\ufdcf\ufdf0-\ufffd]|[\ud800-\udb7f][\udc00-\udfff]|%[0-9a-fA-F]{2}|\\[!#-\/;=?\-@_~]))?)?)(?:[ \t]+|(?=\.?[,;!\^\s#()\[\]\{\}"'<]))/,this._variable=/^\?(?:(?:[A-Z_a-z\xc0-\xd6\xd8-\xf6\xf8-\u02ff\u0370-\u037d\u037f-\u1fff\u200c\u200d\u2070-\u218f\u2c00-\u2fef\u3001-\ud7ff\uf900-\ufdcf\ufdf0-\ufffd]|[\ud800-\udb7f][\udc00-\udfff])(?:[\-0-:A-Z_a-z\xb7\xc0-\xd6\xd8-\xf6\xf8-\u037d\u037f-\u1fff\u200c\u200d\u203f\u2040\u2070-\u218f\u2c00-\u2fef\u3001-\ud7ff\uf900-\ufdcf\ufdf0-\ufffd]|[\ud800-\udb7f][\udc00-\udfff])*)(?=[.,;!\^\s#()\[\]\{\}"'<])/,this._blank=/^_:((?:[0-9A-Z_a-z\xc0-\xd6\xd8-\xf6\xf8-\u02ff\u0370-\u037d\u037f-\u1fff\u200c\u200d\u2070-\u218f\u2c00-\u2fef\u3001-\ud7ff\uf900-\ufdcf\ufdf0-\ufffd]|[\ud800-\udb7f][\udc00-\udfff])(?:\.?[\-0-9A-Z_a-z\xb7\xc0-\xd6\xd8-\xf6\xf8-\u037d\u037f-\u1fff\u200c\u200d\u203f\u2040\u2070-\u218f\u2c00-\u2fef\u3001-\ud7ff\uf900-\ufdcf\ufdf0-\ufffd]|[\ud800-\udb7f][\udc00-\udfff])*)(?:[ \t]+|(?=\.?[,;:\s#()\[\]\{\}"'<]))/,this._number=/^[\-+]?(?:\d+\.?\d*([eE](?:[\-\+])?\d+)|\d*\.?\d+)(?=\.?[,;:\s#()\[\]\{\}"'<])/,this._boolean=/^(?:true|false)(?=[.,;\s#()\[\]\{\}"'<])/,this._keyword=/^@[a-z]+(?=[\s#<:])/i,this._sparqlKeyword=/^(?:PREFIX|BASE|GRAPH)(?=[\s#<])/i,this._shortPredicates=/^a(?=[\s()\[\]\{\}"'<])/,this._newline=/^[ \t]*(?:#[^\n\r]*)?(?:\r\n|\n|\r)[ \t]*/,this._comment=/#([^\n\r]*)/,this._whitespace=/^[ \t]+/,this._endOfFile=/^(?:#[^\n\r]*)?$/,e=e||{},this._lineMode=!!e.lineMode)for(var t in this._n3Mode=!1,this)!(t in l)&&this[t]instanceof RegExp&&(this[t]=h);else this._n3Mode=!1!==e.n3;this._comments=!!e.comments}_tokenizeToEnd(e,t){for(var r=this._input,n=this._comments;;){for(var o,a;o=this._newline.exec(r);)n&&(a=this._comment.exec(o[0]))&&e(null,{line:this._line,type:"comment",value:a[1],prefix:""}),r=r.substr(o[0].length,r.length),this._line++;if((o=this._whitespace.exec(r))&&(r=r.substr(o[0].length,r.length)),this._endOfFile.test(r))return t&&(n&&(a=this._comment.exec(r))&&e(null,{line:this._line,type:"comment",value:a[1],prefix:""}),e(r=null,{line:this._line,type:"eof",value:"",prefix:""})),this._input=r;var s=this._line,u="",l="",h="",f=r[0],d=null,p=0,g=!1;switch(f){case"^":if(r.length<3)break;if("^"!==r[1]){this._n3Mode&&(p=1,u="^");break}if(this._previousMarker="^^","<"!==(r=r.substr(2))[0]){g=!0;break}case"<":if(d=this._unescapedIri.exec(r))u="IRI",l=d[1];else if(d=this._iri.exec(r)){if(null===(l=this._unescape(d[1]))||c.test(l))return m(this);u="IRI"}else this._n3Mode&&r.length>1&&"="===r[1]&&(u="inverse",p=2,l=">");break;case"_":((d=this._blank.exec(r))||t&&(d=this._blank.exec(r+" ")))&&(u="blank",h="_",l=d[1]);break;case'"':if(d=this._unescapedQuote.exec(r))l=d[1];else if(r.indexOf('"',1)>0&&((d=this._singleQuote.exec(r))?l=this._unescape(d[1]):(d=this._tripleQuote.exec(r))&&(l=d[1],this._line+=l.split(/\r\n|\r|\n/).length-1,l=this._unescape(l)),null===l))return m(this);null!==d&&(u="literal");break;case"'":if(d=this._unescapedApos.exec(r))l=d[1];else if(r.indexOf("'",1)>0&&((d=this._singleApos.exec(r))?l=this._unescape(d[1]):(d=this._tripleApos.exec(r))&&(l=d[1],this._line+=l.split(/\r\n|\r|\n/).length-1,l=this._unescape(l)),null===l))return m(this);null!==d&&(u="literal");break;case"?":this._n3Mode&&(d=this._variable.exec(r))&&(u="var",l=d[0]);break;case"@":"literal"===this._previousMarker&&(d=this._langcode.exec(r))?(u="langcode",l=d[1]):(d=this._keyword.exec(r))&&(u=d[0]);break;case".":if(1===r.length?t:r[1]<"0"||r[1]>"9"){u=".",p=1;break}case"0":case"1":case"2":case"3":case"4":case"5":case"6":case"7":case"8":case"9":case"+":case"-":(d=this._number.exec(r)||t&&(d=this._number.exec(r+" ")))&&(u="literal",l=d[0],h=d[1]?i.double:/^[+\-]?\d+$/.test(d[0])?i.integer:i.decimal);break;case"B":case"b":case"p":case"P":case"G":case"g":(d=this._sparqlKeyword.exec(r))?u=d[0].toUpperCase():g=!0;break;case"f":case"t":(d=this._boolean.exec(r))?(u="literal",l=d[0],h=i.boolean):g=!0;break;case"a":(d=this._shortPredicates.exec(r))?(u="abbreviation",l="a"):g=!0;break;case"=":this._n3Mode&&r.length>1&&(u="abbreviation",">"!==r[1]?(p=1,l="="):(p=2,l=">"));break;case"!":if(!this._n3Mode)break;case",":case";":case"[":case"]":case"(":case")":case"{":case"}":this._lineMode||(p=1,u=f);break;default:g=!0}if(g&&("@prefix"!==this._previousMarker&&"PREFIX"!==this._previousMarker||!(d=this._prefix.exec(r))?((d=this._prefixed.exec(r))||t&&(d=this._prefixed.exec(r+" ")))&&(u="prefixed",h=d[1]||"",l=this._unescape(d[2])):(u="prefix",l=d[1]||"")),"^^"===this._previousMarker)switch(u){case"prefixed":u="type";break;case"IRI":u="typeIRI";break;default:u=""}if(!u)return t||!/^'''|^"""/.test(r)&&/\n|\r/.test(r)?m(this):this._input=r;var y={line:s,type:u,value:l,prefix:h};e(null,y),this.previousToken=y,this._previousMarker=u,r=r.substr(p||d[0].length,r.length)}function m(t){e(t._syntaxError(/^\S*/.exec(r)[0]))}}_unescape(e){try{return e.replace(s,function(e,t,r,n){var i;if(t){if(i=parseInt(t,16),isNaN(i))throw new Error;return o(i)}if(r){if(i=parseInt(r,16),isNaN(i))throw new Error;return i<=65535?o(i):o(55296+(i-=65536)/1024,56320+(1023&i))}var a=u[n];if(!a)throw new Error;return a})}catch(e){return null}}_syntaxError(e){this._input=null;var t=new Error('Unexpected "'+e+'" on line '+this._line+".");return t.context={token:void 0,line:this._line,previousToken:this.previousToken},t}tokenize(e,t){var r=this;if(this._line=1,"string"==typeof e){if(this._input=e,"function"!=typeof t){var i,o=[];if(this._tokenizeToEnd(function(e,t){e?i=e:o.push(t)},!0),i)throw i;return o}a(function(){r._tokenizeToEnd(t,!0)})}else this._input="",this._pendingBuffer=null,"function"==typeof e.setEncoding&&e.setEncoding("utf8"),e.on("data",function(e){null!==r._input&&0!==e.length&&(r._pendingBuffer&&(e=n.concat([r._pendingBuffer,e]),r._pendingBuffer=null),128&e[e.length-1]?r._pendingBuffer=e:(r._input+=e,r._tokenizeToEnd(t,!1)))}),e.on("end",function(){null!==r._input&&r._tokenizeToEnd(t,!0)}),e.on("error",t)}}}).call(this,r(11).setImmediate,r(6).Buffer)},function(e,t,r){var n=r(44),i=r(15),o=r(21),a=0,s=0;class u{constructor(e){this._contextStack=[],this._graph=null,e=e||{},this._setBase(e.baseIRI),e.factory&&l(this,e.factory);var t="string"==typeof e.format?e.format.match(/\w*$/)[0].toLowerCase():"",r="turtle"===t,i="trig"===t,o=/triple/.test(t),a=/quad/.test(t),s=this._n3Mode=/n3/.test(t),u=o||a;(this._supportsNamedGraphs=!(r||s))||(this._readPredicateOrNamedGraph=this._readPredicate),this._supportsQuads=!(r||i||o||s),u&&(this._resolveRelativeIRI=function(e){return""}),this._blankNodePrefix="string"!=typeof e.blankNodePrefix?"":e.blankNodePrefix.replace(/^(?!_:)/,"_:"),this._lexer=e.lexer||new n({lineMode:u,n3:s}),this._explicitQuantifiers=!!e.explicitQuantifiers}static _resetBlankNodeIds(){a=s=0}_blank(){return this._blankNode("b"+s++)}_setBase(e){if(e){var t=e.indexOf("#");t>=0&&(e=e.substr(0,t)),this._base=e,this._basePath=e.indexOf("/")<0?e:e.replace(/[^\/?]*(?:\?.*)?$/,""),e=e.match(/^(?:([a-z][a-z0-9+.-]*:))?(?:\/\/[^\/]*)?/i),this._baseRoot=e[0],this._baseScheme=e[1]}else this._base=null}_saveContext(e,t,r,n,i){var o=this._n3Mode;this._contextStack.push({subject:r,predicate:n,object:i,graph:t,type:e,inverse:!!o&&this._inversePredicate,blankPrefix:o?this._prefixes._:"",quantified:o?this._quantified:null}),o&&(this._inversePredicate=!1,this._prefixes._=this._graph?this._graph.id.substr(2)+".":".",this._quantified=Object.create(this._quantified))}_restoreContext(){var e=this._contextStack.pop(),t=this._n3Mode;this._subject=e.subject,this._predicate=e.predicate,this._object=e.object,this._graph=e.graph,t&&(this._inversePredicate=e.inverse,this._prefixes._=e.blankPrefix,this._quantified=e.quantified)}_readInTopContext(e){switch(e.type){case"eof":return null!==this._graph?this._error("Unclosed graph",e):(delete this._prefixes._,this._callback(null,null,this._prefixes));case"PREFIX":this._sparqlStyle=!0;case"@prefix":return this._readPrefix;case"BASE":this._sparqlStyle=!0;case"@base":return this._readBaseIRI;case"{":if(this._supportsNamedGraphs)return this._graph="",this._subject=null,this._readSubject;case"GRAPH":if(this._supportsNamedGraphs)return this._readNamedGraphLabel;default:return this._readSubject(e)}}_readEntity(e,t){var r;switch(e.type){case"IRI":case"typeIRI":var n=this._resolveIRI(e.value);if(""===n)return this._error("Invalid IRI",e);r=this._namedNode(n);break;case"type":case"prefixed":var i=this._prefixes[e.prefix];if(void 0===i)return this._error('Undefined prefix "'+e.prefix+':"',e);r=this._namedNode(i+e.value);break;case"blank":r=this._blankNode(this._prefixes[e.prefix]+e.value);break;case"var":r=this._variable(e.value.substr(1));break;default:return this._error("Expected entity but got "+e.type,e)}return!t&&this._n3Mode&&r.id in this._quantified&&(r=this._quantified[r.id]),r}_readSubject(e){switch(this._predicate=null,e.type){case"[":return this._saveContext("blank",this._graph,this._subject=this._blank(),null,null),this._readBlankNodeHead;case"(":return this._saveContext("list",this._graph,this.RDF_NIL,null,null),this._subject=null,this._readListItem;case"{":return this._n3Mode?(this._saveContext("formula",this._graph,this._graph=this._blank(),null,null),this._readSubject):this._error("Unexpected graph",e);case"}":return this._readPunctuation(e);case"@forSome":return this._n3Mode?(this._subject=null,this._predicate=this.N3_FORSOME,this._quantifier=this._blankNode,this._readQuantifierList):this._error('Unexpected "@forSome"',e);case"@forAll":return this._n3Mode?(this._subject=null,this._predicate=this.N3_FORALL,this._quantifier=this._variable,this._readQuantifierList):this._error('Unexpected "@forAll"',e);default:if(void 0===(this._subject=this._readEntity(e)))return;if(this._n3Mode)return this._getPathReader(this._readPredicateOrNamedGraph)}return this._readPredicateOrNamedGraph}_readPredicate(e){var t=e.type;switch(t){case"inverse":this._inversePredicate=!0;case"abbreviation":this._predicate=this.ABBREVIATIONS[e.value];break;case".":case"]":case"}":return null===this._predicate?this._error("Unexpected "+t,e):(this._subject=null,"]"===t?this._readBlankNodeTail(e):this._readPunctuation(e));case";":return null!==this._predicate?this._readPredicate:this._error("Expected predicate but got ;",e);case"blank":if(!this._n3Mode)return this._error("Disallowed blank node as predicate",e);default:if(void 0===(this._predicate=this._readEntity(e)))return}return this._readObject}_readObject(e){switch(e.type){case"literal":if(0===e.prefix.length)return this._literalValue=e.value,this._readDataTypeOrLang;this._object=this._literal(e.value,this._namedNode(e.prefix));break;case"[":return this._saveContext("blank",this._graph,this._subject,this._predicate,this._subject=this._blank()),this._readBlankNodeHead;case"(":return this._saveContext("list",this._graph,this._subject,this._predicate,this.RDF_NIL),this._subject=null,this._readListItem;case"{":return this._n3Mode?(this._saveContext("formula",this._graph,this._subject,this._predicate,this._graph=this._blank()),this._readSubject):this._error("Unexpected graph",e);default:if(void 0===(this._object=this._readEntity(e)))return;if(this._n3Mode)return this._getPathReader(this._getContextEndReader())}return this._getContextEndReader()}_readPredicateOrNamedGraph(e){return"{"===e.type?this._readGraph(e):this._readPredicate(e)}_readGraph(e){return"{"!==e.type?this._error("Expected graph but got "+e.type,e):(this._graph=this._subject,this._subject=null,this._readSubject)}_readBlankNodeHead(e){return"]"===e.type?(this._subject=null,this._readBlankNodeTail(e)):(this._predicate=null,this._readPredicate(e))}_readBlankNodeTail(e){if("]"!==e.type)return this._readBlankNodePunctuation(e);null!==this._subject&&this._emit(this._subject,this._predicate,this._object,this._graph);var t=null===this._predicate;return this._restoreContext(),null===this._object?t?this._readPredicateOrNamedGraph:this._readPredicateAfterBlank:this._getContextEndReader()}_readPredicateAfterBlank(e){switch(e.type){case".":case"}":return this._subject=null,this._readPunctuation(e);default:return this._readPredicate(e)}}_readListItem(e){var t=null,r=null,n=this._subject,i=this._contextStack,o=i[i.length-1],a=this._readListItem;switch(e.type){case"[":this._saveContext("blank",this._graph,r=this._blank(),this.RDF_FIRST,this._subject=t=this._blank()),a=this._readBlankNodeHead;break;case"(":this._saveContext("list",this._graph,r=this._blank(),this.RDF_FIRST,this.RDF_NIL),this._subject=null;break;case")":if(this._restoreContext(),0!==i.length&&"list"===i[i.length-1].type&&this._emit(this._subject,this._predicate,this._object,this._graph),null===this._predicate){if(a=this._readPredicate,this._subject===this.RDF_NIL)return a}else if(a=this._getContextEndReader(),this._object===this.RDF_NIL)return a;r=this.RDF_NIL;break;case"literal":0===e.prefix.length?(this._literalValue=e.value,a=this._readListItemDataTypeOrLang):(t=this._literal(e.value,this._namedNode(e.prefix)),a=this._getContextEndReader());break;default:if(void 0===(t=this._readEntity(e)))return}if(null===r&&(this._subject=r=this._blank()),null===n?null===o.predicate?o.subject=r:o.object=r:this._emit(n,this.RDF_REST,r,this._graph),null!==t){if(this._n3Mode&&("IRI"===e.type||"prefixed"===e.type))return this._saveContext("item",this._graph,r,this.RDF_FIRST,t),this._subject=t,this._predicate=null,this._getPathReader(this._readListItem);this._emit(r,this.RDF_FIRST,t,this._graph)}return a}_readDataTypeOrLang(e){return this._completeLiteral(e,!1)}_readListItemDataTypeOrLang(e){return this._completeLiteral(e,!0)}_completeLiteral(e,t){switch(e.type){case"type":case"typeIRI":var r=this._readEntity(e);if(void 0===r)return;this._object=this._literal(this._literalValue,r),e=null;break;case"langcode":this._object=this._literal(this._literalValue,e.value),e=null;break;default:this._object=this._literal(this._literalValue)}return t&&this._emit(this._subject,this.RDF_FIRST,this._object,this._graph),null===e?this._getContextEndReader():(this._readCallback=this._getContextEndReader(),this._readCallback(e))}_readFormulaTail(e){return"}"!==e.type?this._readPunctuation(e):(null!==this._subject&&this._emit(this._subject,this._predicate,this._object,this._graph),this._restoreContext(),null===this._object?this._readPredicate:this._getContextEndReader())}_readPunctuation(e){var t,r=this._subject,n=this._graph,i=this._inversePredicate;switch(e.type){case"}":if(null===this._graph)return this._error("Unexpected graph closing",e);if(this._n3Mode)return this._readFormulaTail(e);this._graph=null;case".":this._subject=null,t=this._contextStack.length?this._readSubject:this._readInTopContext,i&&(this._inversePredicate=!1);break;case";":t=this._readPredicate;break;case",":t=this._readObject;break;default:if(this._supportsQuads&&null===this._graph&&void 0!==(n=this._readEntity(e))){t=this._readQuadPunctuation;break}return this._error('Expected punctuation to follow "'+this._object.id+'"',e)}if(null!==r){var o=this._predicate,a=this._object;i?this._emit(a,o,r,n):this._emit(r,o,a,n)}return t}_readBlankNodePunctuation(e){var t;switch(e.type){case";":t=this._readPredicate;break;case",":t=this._readObject;break;default:return this._error('Expected punctuation to follow "'+this._object.id+'"',e)}return this._emit(this._subject,this._predicate,this._object,this._graph),t}_readQuadPunctuation(e){return"."!==e.type?this._error("Expected dot to follow quad",e):this._readInTopContext}_readPrefix(e){return"prefix"!==e.type?this._error("Expected prefix to follow @prefix",e):(this._prefix=e.value,this._readPrefixIRI)}_readPrefixIRI(e){if("IRI"!==e.type)return this._error('Expected IRI to follow prefix "'+this._prefix+':"',e);var t=this._readEntity(e);return this._prefixes[this._prefix]=t.value,this._prefixCallback(this._prefix,t),this._readDeclarationPunctuation}_readBaseIRI(e){var t="IRI"===e.type&&this._resolveIRI(e.value);return t?(this._setBase(t),this._readDeclarationPunctuation):this._error("Expected valid IRI to follow base declaration",e)}_readNamedGraphLabel(e){switch(e.type){case"IRI":case"blank":case"prefixed":return this._readSubject(e),this._readGraph;case"[":return this._readNamedGraphBlankLabel;default:return this._error("Invalid graph label",e)}}_readNamedGraphBlankLabel(e){return"]"!==e.type?this._error("Invalid graph label",e):(this._subject=this._blank(),this._readGraph)}_readDeclarationPunctuation(e){return this._sparqlStyle?(this._sparqlStyle=!1,this._readInTopContext(e)):"."!==e.type?this._error("Expected declaration to end with a dot",e):this._readInTopContext}_readQuantifierList(e){var t;switch(e.type){case"IRI":case"prefixed":if(void 0!==(t=this._readEntity(e,!0)))break;default:return this._error("Unexpected "+e.type,e)}return this._explicitQuantifiers?(null===this._subject?this._emit(this._graph||this.DEFAULTGRAPH,this._predicate,this._subject=this._blank(),this.QUANTIFIERS_GRAPH):this._emit(this._subject,this.RDF_REST,this._subject=this._blank(),this.QUANTIFIERS_GRAPH),this._emit(this._subject,this.RDF_FIRST,t,this.QUANTIFIERS_GRAPH)):this._quantified[t.id]=this._quantifier("b"+s++),this._readQuantifierPunctuation}_readQuantifierPunctuation(e){return","===e.type?this._readQuantifierList:(this._explicitQuantifiers&&(this._emit(this._subject,this.RDF_REST,this.RDF_NIL,this.QUANTIFIERS_GRAPH),this._subject=null),this._readCallback=this._getContextEndReader(),this._readCallback(e))}_getPathReader(e){return this._afterPath=e,this._readPath}_readPath(e){switch(e.type){case"!":return this._readForwardPath;case"^":return this._readBackwardPath;default:var t=this._contextStack,r=t.length&&t[t.length-1];if(r&&"item"===r.type){var n=this._subject;this._restoreContext(),this._emit(this._subject,this.RDF_FIRST,n,this._graph)}return this._afterPath(e)}}_readForwardPath(e){var t,r,n=this._blank();if(void 0!==(r=this._readEntity(e)))return null===this._predicate?(t=this._subject,this._subject=n):(t=this._object,this._object=n),this._emit(t,r,n,this._graph),this._readPath}_readBackwardPath(e){var t,r,n=this._blank();if(void 0!==(t=this._readEntity(e)))return null===this._predicate?(r=this._subject,this._subject=n):(r=this._object,this._object=n),this._emit(n,t,r,this._graph),this._readPath}_getContextEndReader(){var e=this._contextStack;if(!e.length)return this._readPunctuation;switch(e[e.length-1].type){case"blank":return this._readBlankNodeTail;case"list":return this._readListItem;case"formula":return this._readFormulaTail}}_emit(e,t,r,n){this._callback(null,this._quad(e,t,r,n||this.DEFAULTGRAPH))}_error(e,t){var r=new Error(e+" on line "+t.line+".");r.context={token:t,line:t.line,previousToken:this._lexer.previousToken},this._callback(r),this._callback=c}_resolveIRI(e){return/^[a-z][a-z0-9+.-]*:/i.test(e)?e:this._resolveRelativeIRI(e)}_resolveRelativeIRI(e){if(!e.length)return this._base;switch(e[0]){case"#":return this._base+e;case"?":return this._base.replace(/(?:\?.*)?$/,e);case"/":return("/"===e[1]?this._baseScheme:this._baseRoot)+this._removeDotSegments(e);default:return/^[^\/:]*:/.test(e)?"":this._removeDotSegments(this._basePath+e)}}_removeDotSegments(e){if(!/(^|\/)\.\.?($|[\/#?])/.test(e))return e;for(var t="",r=e.length,n=-1,i=-1,o=0,a="/";n<r;){switch(a){case":":if(i<0&&"/"===e[++n]&&"/"===e[++n])for(;(i=n+1)<r&&"/"!==e[i];)n=i;break;case"?":case"#":n=r;break;case"/":if("."===e[n+1])switch(a=e[++n+1]){case"/":t+=e.substring(o,n-1),o=n+1;break;case void 0:case"?":case"#":return t+e.substring(o,n)+e.substr(n+1);case".":if(void 0===(a=e[++n+1])||"/"===a||"?"===a||"#"===a){if((o=(t+=e.substring(o,n-2)).lastIndexOf("/"))>=i&&(t=t.substr(0,o)),"/"!==a)return t+"/"+e.substr(n+1);o=n+1}}}a=e[++n]}return t+e.substring(o)}parse(e,t,r){var n=this;if(this._readCallback=this._readInTopContext,this._sparqlStyle=!1,this._prefixes=Object.create(null),this._prefixes._=this._blankNodePrefix?this._blankNodePrefix.substr(2):"b"+a+++"_",this._prefixCallback=r||c,this._inversePredicate=!1,this._quantified=Object.create(null),!t){var i,o=[];if(this._callback=function(e,t){e?i=e:t&&o.push(t)},this._lexer.tokenize(e).every(function(e){return n._readCallback=n._readCallback(e)}),i)throw i;return o}this._callback=t,this._lexer.tokenize(e,function(e,t){null!==e?(n._callback(e),n._callback=c):n._readCallback&&(n._readCallback=n._readCallback(t))})}}function c(){}function l(e,t){var r=t.namedNode;e._namedNode=r,e._blankNode=t.blankNode,e._literal=t.literal,e._variable=t.variable,e._quad=t.quad,e.DEFAULTGRAPH=t.defaultGraph(),e.RDF_FIRST=r(o.rdf.first),e.RDF_REST=r(o.rdf.rest),e.RDF_NIL=r(o.rdf.nil),e.N3_FORALL=r(o.r.forAll),e.N3_FORSOME=r(o.r.forSome),e.ABBREVIATIONS={a:r(o.rdf.type),"=":r(o.owl.sameAs),">":r(o.log.implies)},e.QUANTIFIERS_GRAPH=r("urn:n3:quantifiers")}l(u.prototype,i),e.exports=u},function(e,t,r){var n=r(21),i=r(15),o=i.defaultGraph(),a=n.rdf,s=n.xsd,u=/["\\\t\n\r\b\f\u0000-\u0019\ud800-\udbff]/,c=/["\\\t\n\r\b\f\u0000-\u0019]|[\ud800-\udbff][\udc00-\udfff]/g,l={"\\":"\\\\",'"':'\\"',"\t":"\\t","\n":"\\n","\r":"\\r","\b":"\\b","\f":"\\f"};class h extends i.internal.Term{equals(){return!1}}function f(e){var t=l[e];return void 0===t&&(1===e.length?(t=e.charCodeAt(0).toString(16),t="\\u0000".substr(0,6-t.length)+t):(t=(1024*(e.charCodeAt(0)-55296)+e.charCodeAt(1)+9216).toString(16),t="\\U00000000".substr(0,10-t.length)+t)),t}e.exports=class{constructor(e,t){if(this._prefixRegex=/$0^/,e&&"function"!=typeof e.write&&(t=e,e=null),t=t||{},e)this._outputStream=e,this._endStream=void 0===t.end||!!t.end;else{var r="";this._outputStream={write(e,t,n){r+=e,n&&n()},end:function(e){e&&e(null,r)}},this._endStream=!0}this._subject=null,/triple|quad/i.test(t.format)?this._writeQuad=this._writeQuadLine:(this._graph=o,this._prefixIRIs=Object.create(null),t.prefixes&&this.addPrefixes(t.prefixes))}get _inDefaultGraph(){return o.equals(this._graph)}_write(e,t){this._outputStream.write(e,"utf8",t)}_writeQuad(e,t,r,n,i){try{n.equals(this._graph)||(this._write((null===this._subject?"":this._inDefaultGraph?".\n":"\n}\n")+(o.equals(n)?"":this._encodeIriOrBlank(n)+" {\n")),this._graph=n,this._subject=null),e.equals(this._subject)?t.equals(this._predicate)?this._write(", "+this._encodeObject(r),i):this._write(";\n    "+this._encodePredicate(this._predicate=t)+" "+this._encodeObject(r),i):this._write((null===this._subject?"":".\n")+this._encodeIriOrBlank(this._subject=e)+" "+this._encodePredicate(this._predicate=t)+" "+this._encodeObject(r),i)}catch(e){i&&i(e)}}_writeQuadLine(e,t,r,n,i){delete this._prefixMatch,this._write(this.quadToString(e,t,r,n),i)}quadToString(e,t,r,n){return this._encodeIriOrBlank(e)+" "+this._encodeIriOrBlank(t)+" "+this._encodeObject(r)+(n&&n.value?" "+this._encodeIriOrBlank(n)+" .\n":" .\n")}quadsToString(e){return e.map(function(e){return this.quadToString(e.subject,e.predicate,e.object,e.graph)},this).join("")}_encodeIriOrBlank(e){if("NamedNode"!==e.termType)return"id"in e?e.id:"_:"+e.value;var t=e.value;u.test(t)&&(t=t.replace(c,f));var r=this._prefixRegex.exec(t);return r?r[1]?this._prefixIRIs[r[1]]+r[2]:t:"<"+t+">"}_encodeLiteral(e){var t=e.value;return u.test(t)&&(t=t.replace(c,f)),e.language?'"'+t+'"@'+e.language:e.datatype.value!==s.string?'"'+t+'"^^'+this._encodeIriOrBlank(e.datatype):'"'+t+'"'}_encodePredicate(e){return e.value===a.type?"a":this._encodeIriOrBlank(e)}_encodeObject(e){return"Literal"===e.termType?this._encodeLiteral(e):this._encodeIriOrBlank(e)}_blockedWrite(){throw new Error("Cannot write because the writer has been closed.")}addQuad(e,t,r,n,i){void 0===r?this._writeQuad(e.subject,e.predicate,e.object,e.graph,t):"function"==typeof n?this._writeQuad(e,t,r,o,n):this._writeQuad(e,t,r,n||o,i)}addQuads(e){for(var t=0;t<e.length;t++)this.addQuad(e[t])}addPrefix(e,t,r){var n={};n[e]=t,this.addPrefixes(n,r)}addPrefixes(e,t){var r=this._prefixIRIs,n=!1;for(var i in e){var o=e[i];"string"!=typeof o&&(o=o.value),/[#\/]$/.test(o)&&r[o]!==(i+=":")&&(n=!0,r[o]=i,null!==this._subject&&(this._write(this._inDefaultGraph?".\n":"\n}\n"),this._subject=null,this._graph=""),this._write("@prefix "+i+" <"+o+">.\n"))}if(n){var a="",s="";for(var u in r)a+=a?"|"+u:u,s+=(s?"|":"")+r[u];a=a.replace(/[\]\/\(\)\*\+\?\.\\\$]/g,"\\$&"),this._prefixRegex=new RegExp("^(?:"+s+")[^/]*$|^("+a+")([a-zA-Z][\\-_a-zA-Z0-9]*)$")}this._write(n?"\n":"",t)}blank(e,t){var r,n,i=e;switch(void 0===e?i=[]:e.termType?i=[{predicate:e,object:t}]:"length"in e||(i=[e]),n=i.length){case 0:return new h("[]");case 1:if(!((r=i[0]).object instanceof h))return new h("[ "+this._encodePredicate(r.predicate)+" "+this._encodeObject(r.object)+" ]");default:for(var o="[",a=0;a<n;a++)(r=i[a]).predicate.equals(e)?o+=", "+this._encodeObject(r.object):(o+=(a?";\n  ":"\n  ")+this._encodePredicate(r.predicate)+" "+this._encodeObject(r.object),e=r.predicate);return new h(o+"\n]")}}list(e){for(var t=e&&e.length||0,r=new Array(t),n=0;n<t;n++)r[n]=this._encodeObject(e[n]);return new h("("+r.join(" ")+")")}end(e){null!==this._subject&&(this._write(this._inDefaultGraph?".\n":"\n}\n"),this._subject=null),this._write=this._blockedWrite;var t=e&&function(r,n){t=null,e(r,n)};if(this._endStream)try{return this._outputStream.end(t)}catch(e){}t&&t()}}},function(e,t){e.exports=function(e,t){var r,n,i,o,a,s=t.indexOf("#");if(s>0&&(t=t.slice(0,s)),0===e.length)return t;if(0===e.indexOf("#"))return t+e;if(e.indexOf(":")>=0)return e;if(r=t.indexOf(":"),0===t.length)return e;if(r<0)return alert("Invalid base: "+t+" in join with given: "+e),e;if(n=t.slice(0,+r+1||9e9),0===e.indexOf("//"))return n+e;if(t.indexOf("//",r)===r+1){if((i=t.indexOf("/",r+3))<0)return t.length-r-3>0?t+"/"+e:n+e}else if((i=t.indexOf("/",r+1))<0)return t.length-r-1>0?t+"/"+e:n+e;if(0===e.indexOf("/"))return t.slice(0,i)+e;if((o=(a=t.slice(i)).lastIndexOf("/"))<0)return n+e;for(o>=0&&o<a.length-1&&(a=a.slice(0,+o+1||9e9)),a+=e;a.match(/[^\/]*\/\.\.\//);)a=a.replace(/[^\/]*\/\.\.\//,"");return a=(a=a.replace(/\.\//g,"")).replace(/\/\.$/,"/"),t.slice(0,i)+a}},function(e,t){function r(e,t){for(var r in e)t[r]=e[r]}function n(e,t){var n=e.prototype;if(Object.create){var i=Object.create(t.prototype);n.__proto__=i}if(!(n instanceof t)){function o(){}o.prototype=t.prototype,r(n,o=new o),e.prototype=n=o}n.constructor!=e&&("function"!=typeof e&&console.error("unknow Class:"+e),n.constructor=e)}var i="http://www.w3.org/1999/xhtml",o={},a=o.ELEMENT_NODE=1,s=o.ATTRIBUTE_NODE=2,u=o.TEXT_NODE=3,c=o.CDATA_SECTION_NODE=4,l=o.ENTITY_REFERENCE_NODE=5,h=o.ENTITY_NODE=6,f=o.PROCESSING_INSTRUCTION_NODE=7,d=o.COMMENT_NODE=8,p=o.DOCUMENT_NODE=9,g=o.DOCUMENT_TYPE_NODE=10,y=o.DOCUMENT_FRAGMENT_NODE=11,m=o.NOTATION_NODE=12,v={},b={},w=(v.INDEX_SIZE_ERR=(b[1]="Index size error",1),v.DOMSTRING_SIZE_ERR=(b[2]="DOMString size error",2),v.HIERARCHY_REQUEST_ERR=(b[3]="Hierarchy request error",3)),x=(v.WRONG_DOCUMENT_ERR=(b[4]="Wrong document",4),v.INVALID_CHARACTER_ERR=(b[5]="Invalid character",5),v.NO_DATA_ALLOWED_ERR=(b[6]="No data allowed",6),v.NO_MODIFICATION_ALLOWED_ERR=(b[7]="No modification allowed",7),v.NOT_FOUND_ERR=(b[8]="Not found",8)),_=(v.NOT_SUPPORTED_ERR=(b[9]="Not supported",9),v.INUSE_ATTRIBUTE_ERR=(b[10]="Attribute in use",10));v.INVALID_STATE_ERR=(b[11]="Invalid state",11),v.SYNTAX_ERR=(b[12]="Syntax error",12),v.INVALID_MODIFICATION_ERR=(b[13]="Invalid modification",13),v.NAMESPACE_ERR=(b[14]="Invalid namespace",14),v.INVALID_ACCESS_ERR=(b[15]="Invalid access",15);function I(e,t){if(t instanceof Error)var r=t;else r=this,Error.call(this,b[e]),this.message=b[e],Error.captureStackTrace&&Error.captureStackTrace(this,I);return r.code=e,t&&(this.message=this.message+": "+t),r}function N(){}function T(e,t){this._node=e,this._refresh=t,S(this)}function S(e){var t=e._node._inc||e._node.ownerDocument._inc;if(e._inc!=t){var n=e._refresh(e._node);re(e,"length",n.length),r(n,e),e._inc=t}}function j(){}function E(e,t){for(var r=e.length;r--;)if(e[r]===t)return r}function R(e,t,r,n){if(n?t[E(t,n)]=r:t[t.length++]=r,e){r.ownerElement=e;var i=e.ownerDocument;i&&(n&&M(i,e,n),function(e,t,r){e&&e._inc++,"http://www.w3.org/2000/xmlns/"==r.namespaceURI&&(t._nsMap[r.prefix?r.localName:""]=r.value)}(i,e,r))}}function C(e,t,r){var n=E(t,r);if(!(n>=0))throw I(x,new Error(e.tagName+"@"+r));for(var i=t.length-1;n<i;)t[n]=t[++n];if(t.length=i,e){var o=e.ownerDocument;o&&(M(o,e,r),r.ownerElement=null)}}function A(e){if(this._features={},e)for(var t in e)this._features=e[t]}function k(){}function O(e){return("<"==e?"&lt;":">"==e&&"&gt;")||"&"==e&&"&amp;"||'"'==e&&"&quot;"||"&#"+e.charCodeAt()+";"}function D(e,t){if(t(e))return!0;if(e=e.firstChild)do{if(D(e,t))return!0}while(e=e.nextSibling)}function L(){}function M(e,t,r,n){e&&e._inc++,"http://www.w3.org/2000/xmlns/"==r.namespaceURI&&delete t._nsMap[r.prefix?r.localName:""]}function B(e,t,r){if(e&&e._inc){e._inc++;var n=t.childNodes;if(r)n[n.length++]=r;else{for(var i=t.firstChild,o=0;i;)n[o++]=i,i=i.nextSibling;n.length=o}}}function P(e,t){var r=t.previousSibling,n=t.nextSibling;return r?r.nextSibling=n:e.firstChild=n,n?n.previousSibling=r:e.lastChild=r,B(e.ownerDocument,e),t}function U(e,t,r){var n=t.parentNode;if(n&&n.removeChild(t),t.nodeType===y){var i=t.firstChild;if(null==i)return t;var o=t.lastChild}else i=o=t;var a=r?r.previousSibling:e.lastChild;i.previousSibling=a,o.nextSibling=r,a?a.nextSibling=i:e.firstChild=i,null==r?e.lastChild=o:r.previousSibling=o;do{i.parentNode=e}while(i!==o&&(i=i.nextSibling));return B(e.ownerDocument||e,e),t.nodeType==y&&(t.firstChild=t.lastChild=null),t}function F(){this._nsMap={}}function q(){}function z(){}function H(){}function G(){}function V(){}function X(){}function J(){}function Q(){}function W(){}function Y(){}function $(){}function Z(){}function K(e,t){var r=[],n=9==this.nodeType?this.documentElement:this,i=n.prefix,o=n.namespaceURI;if(o&&null==i&&null==(i=n.lookupPrefix(o)))var a=[{namespace:o,prefix:null}];return te(this,r,e,t,a),r.join("")}function ee(e,t,r){var n=e.prefix||"",i=e.namespaceURI;if(!n&&!i)return!1;if("xml"===n&&"http://www.w3.org/XML/1998/namespace"===i||"http://www.w3.org/2000/xmlns/"==i)return!1;for(var o=r.length;o--;){var a=r[o];if(a.prefix==n)return a.namespace!=i}return!0}function te(e,t,r,n,o){if(n){if(!(e=n(e)))return;if("string"==typeof e)return void t.push(e)}switch(e.nodeType){case a:o||(o=[]);o.length;var h=e.attributes,m=h.length,v=e.firstChild,b=e.tagName;r=i===e.namespaceURI||r,t.push("<",b);for(var w=0;w<m;w++){"xmlns"==(x=h.item(w)).prefix?o.push({prefix:x.localName,namespace:x.value}):"xmlns"==x.nodeName&&o.push({prefix:"",namespace:x.value})}for(w=0;w<m;w++){var x;if(ee(x=h.item(w),0,o)){var _=x.prefix||"",I=x.namespaceURI,N=_?" xmlns:"+_:" xmlns";t.push(N,'="',I,'"'),o.push({prefix:_,namespace:I})}te(x,t,r,n,o)}if(ee(e,0,o)){_=e.prefix||"",I=e.namespaceURI,N=_?" xmlns:"+_:" xmlns";t.push(N,'="',I,'"'),o.push({prefix:_,namespace:I})}if(v||r&&!/^(?:meta|link|img|br|hr|input)$/i.test(b)){if(t.push(">"),r&&/^script$/i.test(b))for(;v;)v.data?t.push(v.data):te(v,t,r,n,o),v=v.nextSibling;else for(;v;)te(v,t,r,n,o),v=v.nextSibling;t.push("</",b,">")}else t.push("/>");return;case p:case y:for(v=e.firstChild;v;)te(v,t,r,n,o),v=v.nextSibling;return;case s:return t.push(" ",e.name,'="',e.value.replace(/[<&"]/g,O),'"');case u:return t.push(e.data.replace(/[<&]/g,O));case c:return t.push("<![CDATA[",e.data,"]]>");case d:return t.push("\x3c!--",e.data,"--\x3e");case g:var T=e.publicId,S=e.systemId;if(t.push("<!DOCTYPE ",e.name),T)t.push(' PUBLIC "',T),S&&"."!=S&&t.push('" "',S),t.push('">');else if(S&&"."!=S)t.push(' SYSTEM "',S,'">');else{var j=e.internalSubset;j&&t.push(" [",j,"]"),t.push(">")}return;case f:return t.push("<?",e.target," ",e.data,"?>");case l:return t.push("&",e.nodeName,";");default:t.push("??",e.nodeName)}}function re(e,t,r){e[t]=r}I.prototype=Error.prototype,r(v,I),N.prototype={length:0,item:function(e){return this[e]||null},toString:function(e,t){for(var r=[],n=0;n<this.length;n++)te(this[n],r,e,t);return r.join("")}},T.prototype.item=function(e){return S(this),this[e]},n(T,N),j.prototype={length:0,item:N.prototype.item,getNamedItem:function(e){for(var t=this.length;t--;){var r=this[t];if(r.nodeName==e)return r}},setNamedItem:function(e){var t=e.ownerElement;if(t&&t!=this._ownerElement)throw new I(_);var r=this.getNamedItem(e.nodeName);return R(this._ownerElement,this,e,r),r},setNamedItemNS:function(e){var t,r=e.ownerElement;if(r&&r!=this._ownerElement)throw new I(_);return t=this.getNamedItemNS(e.namespaceURI,e.localName),R(this._ownerElement,this,e,t),t},removeNamedItem:function(e){var t=this.getNamedItem(e);return C(this._ownerElement,this,t),t},removeNamedItemNS:function(e,t){var r=this.getNamedItemNS(e,t);return C(this._ownerElement,this,r),r},getNamedItemNS:function(e,t){for(var r=this.length;r--;){var n=this[r];if(n.localName==t&&n.namespaceURI==e)return n}return null}},A.prototype={hasFeature:function(e,t){var r=this._features[e.toLowerCase()];return!(!r||t&&!(t in r))},createDocument:function(e,t,r){var n=new L;if(n.implementation=this,n.childNodes=new N,n.doctype=r,r&&n.appendChild(r),t){var i=n.createElementNS(e,t);n.appendChild(i)}return n},createDocumentType:function(e,t,r){var n=new X;return n.name=e,n.nodeName=e,n.publicId=t,n.systemId=r,n}},k.prototype={firstChild:null,lastChild:null,previousSibling:null,nextSibling:null,attributes:null,parentNode:null,childNodes:null,ownerDocument:null,nodeValue:null,namespaceURI:null,prefix:null,localName:null,insertBefore:function(e,t){return U(this,e,t)},replaceChild:function(e,t){this.insertBefore(e,t),t&&this.removeChild(t)},removeChild:function(e){return P(this,e)},appendChild:function(e){return this.insertBefore(e,null)},hasChildNodes:function(){return null!=this.firstChild},cloneNode:function(e){return function e(t,r,n){var i=new r.constructor;for(var o in r){var u=r[o];"object"!=typeof u&&u!=i[o]&&(i[o]=u)}r.childNodes&&(i.childNodes=new N);i.ownerDocument=t;switch(i.nodeType){case a:var c=r.attributes,l=i.attributes=new j,h=c.length;l._ownerElement=i;for(var f=0;f<h;f++)i.setAttributeNode(e(t,c.item(f),!0));break;case s:n=!0}if(n)for(var d=r.firstChild;d;)i.appendChild(e(t,d,n)),d=d.nextSibling;return i}(this.ownerDocument||this,this,e)},normalize:function(){for(var e=this.firstChild;e;){var t=e.nextSibling;t&&t.nodeType==u&&e.nodeType==u?(this.removeChild(t),e.appendData(t.data)):(e.normalize(),e=t)}},isSupported:function(e,t){return this.ownerDocument.implementation.hasFeature(e,t)},hasAttributes:function(){return this.attributes.length>0},lookupPrefix:function(e){for(var t=this;t;){var r=t._nsMap;if(r)for(var n in r)if(r[n]==e)return n;t=t.nodeType==s?t.ownerDocument:t.parentNode}return null},lookupNamespaceURI:function(e){for(var t=this;t;){var r=t._nsMap;if(r&&e in r)return r[e];t=t.nodeType==s?t.ownerDocument:t.parentNode}return null},isDefaultNamespace:function(e){return null==this.lookupPrefix(e)}},r(o,k),r(o,k.prototype),L.prototype={nodeName:"#document",nodeType:p,doctype:null,documentElement:null,_inc:1,insertBefore:function(e,t){if(e.nodeType==y){for(var r=e.firstChild;r;){var n=r.nextSibling;this.insertBefore(r,t),r=n}return e}return null==this.documentElement&&e.nodeType==a&&(this.documentElement=e),U(this,e,t),e.ownerDocument=this,e},removeChild:function(e){return this.documentElement==e&&(this.documentElement=null),P(this,e)},importNode:function(e,t){return function e(t,r,n){var i;switch(r.nodeType){case a:(i=r.cloneNode(!1)).ownerDocument=t;case y:break;case s:n=!0}i||(i=r.cloneNode(!1));i.ownerDocument=t;i.parentNode=null;if(n)for(var o=r.firstChild;o;)i.appendChild(e(t,o,n)),o=o.nextSibling;return i}(this,e,t)},getElementById:function(e){var t=null;return D(this.documentElement,function(r){if(r.nodeType==a&&r.getAttribute("id")==e)return t=r,!0}),t},createElement:function(e){var t=new F;return t.ownerDocument=this,t.nodeName=e,t.tagName=e,t.childNodes=new N,(t.attributes=new j)._ownerElement=t,t},createDocumentFragment:function(){var e=new Y;return e.ownerDocument=this,e.childNodes=new N,e},createTextNode:function(e){var t=new H;return t.ownerDocument=this,t.appendData(e),t},createComment:function(e){var t=new G;return t.ownerDocument=this,t.appendData(e),t},createCDATASection:function(e){var t=new V;return t.ownerDocument=this,t.appendData(e),t},createProcessingInstruction:function(e,t){var r=new $;return r.ownerDocument=this,r.tagName=r.target=e,r.nodeValue=r.data=t,r},createAttribute:function(e){var t=new q;return t.ownerDocument=this,t.name=e,t.nodeName=e,t.localName=e,t.specified=!0,t},createEntityReference:function(e){var t=new W;return t.ownerDocument=this,t.nodeName=e,t},createElementNS:function(e,t){var r=new F,n=t.split(":"),i=r.attributes=new j;return r.childNodes=new N,r.ownerDocument=this,r.nodeName=t,r.tagName=t,r.namespaceURI=e,2==n.length?(r.prefix=n[0],r.localName=n[1]):r.localName=t,i._ownerElement=r,r},createAttributeNS:function(e,t){var r=new q,n=t.split(":");return r.ownerDocument=this,r.nodeName=t,r.name=t,r.namespaceURI=e,r.specified=!0,2==n.length?(r.prefix=n[0],r.localName=n[1]):r.localName=t,r}},n(L,k),F.prototype={nodeType:a,hasAttribute:function(e){return null!=this.getAttributeNode(e)},getAttribute:function(e){var t=this.getAttributeNode(e);return t&&t.value||""},getAttributeNode:function(e){return this.attributes.getNamedItem(e)},setAttribute:function(e,t){var r=this.ownerDocument.createAttribute(e);r.value=r.nodeValue=""+t,this.setAttributeNode(r)},removeAttribute:function(e){var t=this.getAttributeNode(e);t&&this.removeAttributeNode(t)},appendChild:function(e){return e.nodeType===y?this.insertBefore(e,null):function(e,t){var r=t.parentNode;if(r){var n=e.lastChild;r.removeChild(t),n=e.lastChild}return n=e.lastChild,t.parentNode=e,t.previousSibling=n,t.nextSibling=null,n?n.nextSibling=t:e.firstChild=t,e.lastChild=t,B(e.ownerDocument,e,t),t}(this,e)},setAttributeNode:function(e){return this.attributes.setNamedItem(e)},setAttributeNodeNS:function(e){return this.attributes.setNamedItemNS(e)},removeAttributeNode:function(e){return this.attributes.removeNamedItem(e.nodeName)},removeAttributeNS:function(e,t){var r=this.getAttributeNodeNS(e,t);r&&this.removeAttributeNode(r)},hasAttributeNS:function(e,t){return null!=this.getAttributeNodeNS(e,t)},getAttributeNS:function(e,t){var r=this.getAttributeNodeNS(e,t);return r&&r.value||""},setAttributeNS:function(e,t,r){var n=this.ownerDocument.createAttributeNS(e,t);n.value=n.nodeValue=""+r,this.setAttributeNode(n)},getAttributeNodeNS:function(e,t){return this.attributes.getNamedItemNS(e,t)},getElementsByTagName:function(e){return new T(this,function(t){var r=[];return D(t,function(n){n===t||n.nodeType!=a||"*"!==e&&n.tagName!=e||r.push(n)}),r})},getElementsByTagNameNS:function(e,t){return new T(this,function(r){var n=[];return D(r,function(i){i===r||i.nodeType!==a||"*"!==e&&i.namespaceURI!==e||"*"!==t&&i.localName!=t||n.push(i)}),n})}},L.prototype.getElementsByTagName=F.prototype.getElementsByTagName,L.prototype.getElementsByTagNameNS=F.prototype.getElementsByTagNameNS,n(F,k),q.prototype.nodeType=s,n(q,k),z.prototype={data:"",substringData:function(e,t){return this.data.substring(e,e+t)},appendData:function(e){e=this.data+e,this.nodeValue=this.data=e,this.length=e.length},insertData:function(e,t){this.replaceData(e,0,t)},appendChild:function(e){throw new Error(b[w])},deleteData:function(e,t){this.replaceData(e,t,"")},replaceData:function(e,t,r){r=this.data.substring(0,e)+r+this.data.substring(e+t),this.nodeValue=this.data=r,this.length=r.length}},n(z,k),H.prototype={nodeName:"#text",nodeType:u,splitText:function(e){var t=this.data,r=t.substring(e);t=t.substring(0,e),this.data=this.nodeValue=t,this.length=t.length;var n=this.ownerDocument.createTextNode(r);return this.parentNode&&this.parentNode.insertBefore(n,this.nextSibling),n}},n(H,z),G.prototype={nodeName:"#comment",nodeType:d},n(G,z),V.prototype={nodeName:"#cdata-section",nodeType:c},n(V,z),X.prototype.nodeType=g,n(X,k),J.prototype.nodeType=m,n(J,k),Q.prototype.nodeType=h,n(Q,k),W.prototype.nodeType=l,n(W,k),Y.prototype.nodeName="#document-fragment",Y.prototype.nodeType=y,n(Y,k),$.prototype.nodeType=f,n($,k),Z.prototype.serializeToString=function(e,t,r){return K.call(e,t,r)},k.prototype.toString=K;try{if(Object.defineProperty){Object.defineProperty(T.prototype,"length",{get:function(){return S(this),this.$$length}}),Object.defineProperty(k.prototype,"textContent",{get:function(){return function e(t){switch(t.nodeType){case a:case y:var r=[];for(t=t.firstChild;t;)7!==t.nodeType&&8!==t.nodeType&&r.push(e(t)),t=t.nextSibling;return r.join("");default:return t.nodeValue}}(this)},set:function(e){switch(this.nodeType){case a:case y:for(;this.firstChild;)this.removeChild(this.firstChild);(e||String(e))&&this.appendChild(this.ownerDocument.createTextNode(e));break;default:this.data=e,this.value=e,this.nodeValue=e}}}),re=function(e,t,r){e["$$"+t]=r}}}catch(e){}t.DOMImplementation=A,t.XMLSerializer=Z},function(e,t,r){(function(t,n){
/**
 * A JavaScript implementation of the JSON-LD API.
 *
 * @author Dave Longley
 *
 * @license BSD 3-Clause License
 * Copyright (c) 2011-2017 Digital Bazaar, Inc.
 * All rights reserved.
 *
 * Redistribution and use in source and binary forms, with or without
 * modification, are permitted provided that the following conditions are met:
 *
 * Redistributions of source code must retain the above copyright notice,
 * this list of conditions and the following disclaimer.
 *
 * Redistributions in binary form must reproduce the above copyright
 * notice, this list of conditions and the following disclaimer in the
 * documentation and/or other materials provided with the distribution.
 *
 * Neither the name of the Digital Bazaar, Inc. nor the names of its
 * contributors may be used to endorse or promote products derived from
 * this software without specific prior written permission.
 *
 * THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS "AS
 * IS" AND ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED
 * TO, THE IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A
 * PARTICULAR PURPOSE ARE DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT
 * HOLDER OR CONTRIBUTORS BE LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL,
 * SPECIAL, EXEMPLARY, OR CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT LIMITED
 * TO, PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES; LOSS OF USE, DATA, OR
 * PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND ON ANY THEORY OF
 * LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT (INCLUDING
 * NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE OF THIS
 * SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.
 */
const i=r(27),o=r(1),a=o.IdentifierIssuer,s=r(5),u=r(101),c=r(102),{expand:l}=r(104),{flatten:h}=r(106),{fromRDF:f}=r(107),{toRDF:d}=r(108),{frameMergedOrDefault:p}=r(109),{isArray:g,isObject:y,isString:m}=r(3),{isSubjectReference:v}=r(4),{getInitialContext:b,process:w,getAllContexts:x}=r(10),{compact:_,compactIri:I,removePreserve:N}=r(110),{createNodeMap:T,createMergedNodeMap:S,mergeNodeMaps:j}=r(22),E=void 0!==t&&t.versions&&t.versions.node,R=!E&&("undefined"!=typeof window||"undefined"!=typeof self),C=function(e){e.compact=o.callbackify(async function(t,r,n){if(arguments.length<2)throw new TypeError("Could not compact, too few arguments.");if(null===r)throw new s("The compaction context must not be null.","jsonld.CompactError",{code:"invalid local context"});if(null===t)return null;let i;(n=C(n,{base:m(t)?t:"",compactArrays:!0,compactToRelative:!0,graph:!1,skipExpansion:!1,link:!1,issuer:new a("_:b")})).link&&(n.skipExpansion=!0),n.compactToRelative||delete n.base,i=n.skipExpansion?t:await e.expand(t,n);const u=await e.processContext(b(n),r,n);let c=_({activeCtx:u,element:i,options:n,compactionMap:n.compactionMap});n.compactArrays&&!n.graph&&g(c)?1===c.length?c=c[0]:0===c.length&&(c={}):n.graph&&y(c)&&(c=[c]),y(r)&&"@context"in r&&(r=r["@context"]),r=o.clone(r),g(r)||(r=[r]);const l=r;r=[];for(let e=0;e<l.length;++e)(!y(l[e])||Object.keys(l[e]).length>0)&&r.push(l[e]);const h=r.length>0;if(1===r.length&&(r=r[0]),g(c)){const e=I({activeCtx:u,iri:"@graph",relativeTo:{vocab:!0}}),t=c;c={},h&&(c["@context"]=r),c[e]=t}else if(y(c)&&h){const e=c;c={"@context":r};for(const t in e)c[t]=e[t]}if(n.framing){const e=I({activeCtx:u,iri:"@graph",relativeTo:{vocab:!0}});
// remove @preserve from results
n.link={},c[e]=N(u,c[e],n)}return c}),e.expand=o.callbackify(async function(t,r){if(arguments.length<1)throw new TypeError("Could not expand, too few arguments.");!1===(r=C(r,{keepFreeFloatingNodes:!1})).expansionMap&&(r.expansionMap=void 0);const n={},i=[];if("expandContext"in r){const e=o.clone(r.expandContext);y(e)&&"@context"in e?n.expandContext=e:n.expandContext={"@context":e},i.push(n.expandContext)}let a;if(m(t)){const o=await e.get(t,r);a=o.documentUrl,n.input=o.document,o.contextUrl&&(n.remoteContext={"@context":o.contextUrl},i.push(n.remoteContext))}else n.input=o.clone(t);"base"in r||(r.base=a||""),await x(n,r);let s=b(r);i.forEach(e=>{s=w({activeCtx:s,localCtx:e,options:r})});let u=l({activeCtx:s,element:n.input,options:r,expansionMap:r.expansionMap});return y(u)&&"@graph"in u&&1===Object.keys(u).length?u=u["@graph"]:null===u&&(u=[]),g(u)||(u=[u]),u}),e.flatten=o.callbackify(async function(t,r,n){if(arguments.length<1)return new TypeError("Could not flatten, too few arguments.");r="function"==typeof r?null:r||null,n=C(n,{base:m(t)?t:""});const i=await e.expand(t,n),o=h(i);if(null===r)return o;n.graph=!0,n.skipExpansion=!0;const a=await e.compact(o,r,n);return a}),e.frame=o.callbackify(async function(t,r,n){if(arguments.length<2)throw new TypeError("Could not frame, too few arguments.");if(n=C(n,{base:m(t)?t:"",embed:"@last",explicit:!1,requireAll:!0,omitDefault:!1,pruneBlankNodeIdentifiers:!0,bnodesToClear:[]}),m(r)){const t=await e.get(r,n);if(r=t.document,t.contextUrl){let e=r["@context"];e?g(e)?e.push(t.contextUrl):e=[e,t.contextUrl]:e=t.contextUrl,r["@context"]=e}}const i=r&&r["@context"]||{},a=await e.expand(t,n),s=o.clone(n);s.isFrame=!0,s.keepFreeFloatingNodes=!0;const u=await e.expand(r,s);let c;s.merged=!("@graph"in r),c=p(a,u,s),s.graph=!0,s.skipExpansion=!0,s.link={},s.framing=!0;const l=await e.compact(c,i,s);return l}),e.link=o.callbackify(async function(t,r,n){const i={};return r&&(i["@context"]=r),i["@embed"]="@link",e.frame(t,i,n)}),e.normalize=e.canonize=o.callbackify(async function(t,r){if(arguments.length<1)throw new TypeError("Could not canonize, too few arguments.");if("inputFormat"in(r=C(r,{base:m(t)?t:"",algorithm:"URDNA2015",skipExpansion:!1}))){if("application/n-quads"!==r.inputFormat&&"application/nquads"!==r.inputFormat)throw new s("Unknown canonicalization input format.","jsonld.CanonizeError");const e=u.parse(t);return i.canonize(e,r)}const n=o.clone(r);delete n.format,n.produceGeneralizedRdf=!1;const a=await e.toRDF(t,n);return i.canonize(a,r)}),e.fromRDF=o.callbackify(async function(e,r){if(arguments.length<1)throw new TypeError("Could not convert from RDF, too few arguments.");r=C(r,{format:m(e)?"application/n-quads":void 0});let n,{format:i,rdfParser:o}=r;if(i){if(!(o=o||t[i]))throw new s("Unknown input format.","jsonld.UnknownFormat",{format:i})}else o=()=>e;return n=o.length>1?new Promise((t,r)=>{o(e,(e,n)=>{e?r(e):t(n)})}):Promise.resolve(o(e)),n=await n,Array.isArray(n)||(n=u.legacyDatasetToQuads(n)),f(n,r)}),e.toRDF=o.callbackify(async function(t,r){if(arguments.length<1)throw new TypeError("Could not convert to RDF, too few arguments.");let n;n=(r=C(r,{base:m(t)?t:"",skipExpansion:!1})).skipExpansion?t:await e.expand(t,r);const i=d(n,r);if(r.format){if("application/n-quads"===r.format||"application/nquads"===r.format)return await u.serialize(i);throw new s("Unknown output format.","jsonld.UnknownFormat",{format:r.format})}return i}),e.createNodeMap=o.callbackify(async function(t,r){if(arguments.length<1)throw new TypeError("Could not create node map, too few arguments.");r=C(r,{base:m(t)?t:""});const n=await e.expand(t,r);return S(n,r)}),e.merge=o.callbackify(async function(t,r,n){if(arguments.length<1)throw new TypeError("Could not merge, too few arguments.");if(!g(t))throw new TypeError('Could not merge, "docs" must be an array.');r="function"==typeof r?null:r||null,n=C(n,{});const i=await Promise.all(t.map(t=>{const r=Object.assign({},n);return e.expand(t,r)}));let s=!0;"mergeNodes"in n&&(s=n.mergeNodes);const u=n.issuer||new a("_:b"),c={"@default":{}};for(let e=0;e<i.length;++e){const t=o.relabelBlankNodes(i[e],{issuer:new a("_:b"+e+"-")}),r=s||0===e?c:{"@default":{}};if(T(t,r,"@default",u),r!==c)for(const e in r){const t=r[e];if(!(e in c)){c[e]=t;continue}const n=c[e];for(const e in t)e in n||(n[e]=t[e])}}const l=j(c),h=[],f=Object.keys(l).sort();for(let e=0;e<f.length;++e){const t=l[f[e]];v(t)||h.push(t)}if(null===r)return h;n.graph=!0,n.skipExpansion=!0;const d=await e.compact(h,r,n);return d}),Object.defineProperty(e,"documentLoader",{get:()=>e._documentLoader,set:t=>e._documentLoader=o.normalizeDocumentLoader(t)}),e.documentLoader=async e=>{throw new s("Could not retrieve a JSON-LD document from the URL. URL dereferencing not implemented.","jsonld.LoadDocumentError",{code:"loading document failed",url:e})},e.loadDocument=o.callbackify(async function(){return e.documentLoader.apply(null,arguments)}),e.get=o.callbackify(async function(t,r){let n;n="function"==typeof r.documentLoader?o.normalizeDocumentLoader(r.documentLoader):e.documentLoader;const i=await n(t);try{if(!i.document)throw new s("No remote document found at the given URL.","jsonld.NullRemoteDocument");m(i.document)&&(i.document=JSON.parse(i.document))}catch(e){throw new s("Could not retrieve a JSON-LD document from the URL.","jsonld.LoadDocumentError",{code:"loading document failed",cause:e,remoteDoc:i})}return i}),e.processContext=o.callbackify(async function(e,t,r){if(r=C(r,{base:""}),null===t)return b(r);t=o.clone(t),y(t)&&"@context"in t||(t={"@context":t});const n=await x(t,r);return w({activeCtx:e,localCtx:n,options:r})}),e.getContextValue=r(10).getContextValue,e.documentLoaders={},e.documentLoaders.node=r(111),e.documentLoaders.xhr=r(114),e.useDocumentLoader=function(t){if(!(t in e.documentLoaders))throw new s('Unknown document loader type: "'+t+'"',"jsonld.UnknownDocumentLoader",{type:t});e.documentLoader=e.documentLoaders[t].apply(e,Array.prototype.slice.call(arguments,1))};const t={};function C(t,{documentLoader:r=e.documentLoader,...n}){return Object.assign({},{documentLoader:r},n,t)}return e.registerRDFParser=function(e,r){t[e]=r},e.unregisterRDFParser=function(e){delete t[e]},e.registerRDFParser("application/n-quads",u.parse),e.registerRDFParser("application/nquads",u.parse),e.registerRDFParser("rdfa-api",c.parse),e.url=r(18),e.util=o,Object.assign(e,o),e.promises=e,e.RequestQueue=r(31),e.JsonLdProcessor=r(115)(e),R&&void 0===n.JsonLdProcessor&&Object.defineProperty(n,"JsonLdProcessor",{writable:!0,enumerable:!1,configurable:!0,value:e.JsonLdProcessor}),E?e.useDocumentLoader("node"):"undefined"!=typeof XMLHttpRequest&&e.useDocumentLoader("xhr"),e},A=function(){return C(function(){return A()})};C(A),e.exports=A}).call(this,r(2),r(0))},function(e,t,r){"use strict";const n=r(94),i=r(28),o=r(51),a=r(53),s=r(30),u=r(9),c={subject:"s",object:"o",graph:"g"};e.exports=class extends n{constructor(e){super(e=e||{}),this.name="URDNA2015",this.options=Object.assign({},e),this.blankNodeInfo={},this.hashToBlankNodes={},this.canonicalIssuer=new i("_:c14n"),this.hashAlgorithm="sha256",this.quads}main(e,t){const r=this;let n;r.schedule.start=Date.now(),r.quads=e;const o={};r.waterfall([t=>{r.forEach(e,(e,t,n)=>{r.forEachComponent(e,t=>{if("BlankNode"!==t.termType)return;const n=t.value;n in r.blankNodeInfo?r.blankNodeInfo[n].quads.push(e):(o[n]=!0,r.blankNodeInfo[n]={quads:[e]})}),n()},t)},e=>{let t=!0;r.whilst(()=>t,e=>{t=!1,r.hashToBlankNodes={},r.waterfall([e=>{r.forEach(o,(e,t,n)=>{r.hashFirstDegreeQuads(t,(e,i)=>{if(e)return n(e);i in r.hashToBlankNodes?r.hashToBlankNodes[i].push(t):r.hashToBlankNodes[i]=[t],n()})},e)},e=>{const n=Object.keys(r.hashToBlankNodes).sort();r.forEach(n,(e,n,i)=>{const a=r.hashToBlankNodes[e];if(a.length>1)return i();const s=a[0];r.canonicalIssuer.getId(s),delete o[s],delete r.hashToBlankNodes[e],t=!0,i()},e)}],e)},e)},e=>{const t=Object.keys(r.hashToBlankNodes).sort();r.forEach(t,(e,t,n)=>{const o=[],a=r.hashToBlankNodes[e];r.waterfall([e=>{r.forEach(a,(e,t,n)=>{if(r.canonicalIssuer.hasId(e))return n();const a=new i("_:b");a.getId(e),r.hashNDegreeQuads(e,a,(e,t)=>{if(e)return n(e);o.push(t),n()})},e)},e=>{o.sort((e,t)=>e.hash<t.hash?-1:e.hash>t.hash?1:0),r.forEach(o,(e,t,n)=>{for(const t in e.issuer.existing)r.canonicalIssuer.getId(t);n()},e)}],n)},e)},e=>{const t=[];r.waterfall([e=>{r.forEach(r.quads,(e,n,i)=>{r.forEachComponent(e,e=>{"BlankNode"!==e.termType||e.value.startsWith(r.canonicalIssuer.prefix)||(e.value=r.canonicalIssuer.getId(e.value))}),t.push(s.serializeQuad(e)),i()},e)},e=>(t.sort(),n=t.join(""),e())],e)}],e=>t(e,n))}hashFirstDegreeQuads(e,t){const r=this,n=r.blankNodeInfo[e];if("hash"in n)return t(null,n.hash);const i=[],a=n.quads;r.forEach(a,(t,n,o)=>{const a={predicate:t.predicate};r.forEachComponent(t,(t,n)=>{a[n]=r.modifyFirstDegreeComponent(e,t,n)}),i.push(s.serializeQuad(a)),o()},e=>{if(e)return t(e);i.sort();const a=new o(r.hashAlgorithm);for(let e=0;e<i.length;++e)a.update(i[e]);n.hash=a.digest(),t(null,n.hash)})}hashRelatedBlankNode(e,t,r,n,i){const a=this;let s;a.waterfall([t=>a.canonicalIssuer.hasId(e)?(s=a.canonicalIssuer.getId(e),t()):r.hasId(e)?(s=r.getId(e),t()):void a.hashFirstDegreeQuads(e,(e,r)=>{if(e)return t(e);s=r,t()})],e=>{if(e)return i(e);const r=new o(a.hashAlgorithm);return r.update(n),"g"!==n&&r.update(a.getRelatedPredicate(t)),r.update(s),i(null,r.digest())})}hashNDegreeQuads(e,t,r){const n=this;let i;const s=new o(n.hashAlgorithm);n.waterfall([r=>n.createHashToRelated(e,t,(e,t)=>{if(e)return r(e);i=t,r()}),e=>{const r=Object.keys(i).sort();n.forEach(r,(e,r,o)=>{s.update(e);let u,c="";const l=new a(i[e]);n.whilst(()=>l.hasNext(),e=>{const r=l.next();let i=t.clone(),o="";const a=[];n.waterfall([t=>{n.forEach(r,(t,r,s)=>{if(n.canonicalIssuer.hasId(t)?o+=n.canonicalIssuer.getId(t):(i.hasId(t)||a.push(t),o+=i.getId(t)),0!==c.length&&o.length>=c.length&&o>c)return e();s()},t)},t=>{n.forEach(a,(t,r,a)=>{n.hashNDegreeQuads(t,i,(r,n)=>r?a(r):(o+=i.getId(t),o+="<"+n.hash+">",i=n.issuer,0!==c.length&&o.length>=c.length&&o>c?e():void a()))},t)},e=>{(0===c.length||o<c)&&(c=o,u=i),e()}],e)},e=>{if(e)return o(e);s.update(c),t=u,o()})},e)}],e=>{r(e,{hash:s.digest(),issuer:t})})}modifyFirstDegreeComponent(e,t){return"BlankNode"!==t.termType?t:((t=u.clone(t)).value=t.value===e?"_:a":"_:z",t)}getRelatedPredicate(e){return"<"+e.predicate.value+">"}createHashToRelated(e,t,r){const n=this,i={},o=n.blankNodeInfo[e].quads;n.forEach(o,(r,o,a)=>{n.forEach(r,(o,a,s)=>{if("predicate"===a||"BlankNode"!==o.termType||o.value===e)return s();const u=o.value,l=c[a];n.hashRelatedBlankNode(u,r,t,l,(e,t)=>{if(e)return s(e);t in i?i[t].push(u):i[t]=[u],s()})},a)},e=>r(e,i))}forEachComponent(e,t){for(const r in e)"predicate"!==r&&t(e[r],r,e)}}},function(e,t,r){"use strict";const n=r(16);r(29),r(95),r(97),e.exports=class{constructor(e){this.md=n.md[e].create()}update(e){this.md.update(e,"utf8")}digest(){return this.md.digest().toHex()}}},function(e,t,r){(function(t,n,i,o){var a=r(16),s=r(96),u=e.exports=a.util=a.util||{};function c(e){if(8!==e&&16!==e&&24!==e&&32!==e)throw new Error("Only 8, 16, 24, or 32 bits supported: "+e)}function l(e){if(this.data="",this.read=0,"string"==typeof e)this.data=e;else if(u.isArrayBuffer(e)||u.isArrayBufferView(e))if(void 0!==o&&e instanceof o)this.data=e.toString("binary");else{var t=new Uint8Array(e);try{this.data=String.fromCharCode.apply(null,t)}catch(e){for(var r=0;r<t.length;++r)this.putByte(t[r])}}else(e instanceof l||"object"==typeof e&&"string"==typeof e.data&&"number"==typeof e.read)&&(this.data=e.data,this.read=e.read);this._constructedStringLength=0}!function(){if(void 0!==t&&t.nextTick&&!t.browser)return u.nextTick=t.nextTick,void(u.setImmediate="function"==typeof n?n:u.nextTick);if("function"==typeof n)return u.setImmediate=function(){return n.apply(void 0,arguments)},void(u.nextTick=function(e){return n(e)});if(u.setImmediate=function(e){setTimeout(e,0)},"undefined"!=typeof window&&"function"==typeof window.postMessage){var e="forge.setImmediate",r=[];u.setImmediate=function(t){r.push(t),1===r.length&&window.postMessage(e,"*")},window.addEventListener("message",function(t){if(t.source===window&&t.data===e){t.stopPropagation();var n=r.slice();r.length=0,n.forEach(function(e){e()})}},!0)}if("undefined"!=typeof MutationObserver){var i=Date.now(),o=!0,a=document.createElement("div");r=[];new MutationObserver(function(){var e=r.slice();r.length=0,e.forEach(function(e){e()})}).observe(a,{attributes:!0});var s=u.setImmediate;u.setImmediate=function(e){Date.now()-i>15?(i=Date.now(),s(e)):(r.push(e),1===r.length&&a.setAttribute("a",o=!o))}}u.nextTick=u.setImmediate}(),u.isNodejs=void 0!==t&&t.versions&&t.versions.node,u.globalScope=u.isNodejs?i:"undefined"==typeof self?window:self,u.isArray=Array.isArray||function(e){return"[object Array]"===Object.prototype.toString.call(e)},u.isArrayBuffer=function(e){return"undefined"!=typeof ArrayBuffer&&e instanceof ArrayBuffer},u.isArrayBufferView=function(e){return e&&u.isArrayBuffer(e.buffer)&&void 0!==e.byteLength},u.ByteBuffer=l,u.ByteStringBuffer=l;u.ByteStringBuffer.prototype._optimizeConstructedString=function(e){this._constructedStringLength+=e,this._constructedStringLength>4096&&(this.data.substr(0,1),this._constructedStringLength=0)},u.ByteStringBuffer.prototype.length=function(){return this.data.length-this.read},u.ByteStringBuffer.prototype.isEmpty=function(){return this.length()<=0},u.ByteStringBuffer.prototype.putByte=function(e){return this.putBytes(String.fromCharCode(e))},u.ByteStringBuffer.prototype.fillWithByte=function(e,t){e=String.fromCharCode(e);for(var r=this.data;t>0;)1&t&&(r+=e),(t>>>=1)>0&&(e+=e);return this.data=r,this._optimizeConstructedString(t),this},u.ByteStringBuffer.prototype.putBytes=function(e){return this.data+=e,this._optimizeConstructedString(e.length),this},u.ByteStringBuffer.prototype.putString=function(e){return this.putBytes(u.encodeUtf8(e))},u.ByteStringBuffer.prototype.putInt16=function(e){return this.putBytes(String.fromCharCode(e>>8&255)+String.fromCharCode(255&e))},u.ByteStringBuffer.prototype.putInt24=function(e){return this.putBytes(String.fromCharCode(e>>16&255)+String.fromCharCode(e>>8&255)+String.fromCharCode(255&e))},u.ByteStringBuffer.prototype.putInt32=function(e){return this.putBytes(String.fromCharCode(e>>24&255)+String.fromCharCode(e>>16&255)+String.fromCharCode(e>>8&255)+String.fromCharCode(255&e))},u.ByteStringBuffer.prototype.putInt16Le=function(e){return this.putBytes(String.fromCharCode(255&e)+String.fromCharCode(e>>8&255))},u.ByteStringBuffer.prototype.putInt24Le=function(e){return this.putBytes(String.fromCharCode(255&e)+String.fromCharCode(e>>8&255)+String.fromCharCode(e>>16&255))},u.ByteStringBuffer.prototype.putInt32Le=function(e){return this.putBytes(String.fromCharCode(255&e)+String.fromCharCode(e>>8&255)+String.fromCharCode(e>>16&255)+String.fromCharCode(e>>24&255))},u.ByteStringBuffer.prototype.putInt=function(e,t){c(t);var r="";do{t-=8,r+=String.fromCharCode(e>>t&255)}while(t>0);return this.putBytes(r)},u.ByteStringBuffer.prototype.putSignedInt=function(e,t){return e<0&&(e+=2<<t-1),this.putInt(e,t)},u.ByteStringBuffer.prototype.putBuffer=function(e){return this.putBytes(e.getBytes())},u.ByteStringBuffer.prototype.getByte=function(){return this.data.charCodeAt(this.read++)},u.ByteStringBuffer.prototype.getInt16=function(){var e=this.data.charCodeAt(this.read)<<8^this.data.charCodeAt(this.read+1);return this.read+=2,e},u.ByteStringBuffer.prototype.getInt24=function(){var e=this.data.charCodeAt(this.read)<<16^this.data.charCodeAt(this.read+1)<<8^this.data.charCodeAt(this.read+2);return this.read+=3,e},u.ByteStringBuffer.prototype.getInt32=function(){var e=this.data.charCodeAt(this.read)<<24^this.data.charCodeAt(this.read+1)<<16^this.data.charCodeAt(this.read+2)<<8^this.data.charCodeAt(this.read+3);return this.read+=4,e},u.ByteStringBuffer.prototype.getInt16Le=function(){var e=this.data.charCodeAt(this.read)^this.data.charCodeAt(this.read+1)<<8;return this.read+=2,e},u.ByteStringBuffer.prototype.getInt24Le=function(){var e=this.data.charCodeAt(this.read)^this.data.charCodeAt(this.read+1)<<8^this.data.charCodeAt(this.read+2)<<16;return this.read+=3,e},u.ByteStringBuffer.prototype.getInt32Le=function(){var e=this.data.charCodeAt(this.read)^this.data.charCodeAt(this.read+1)<<8^this.data.charCodeAt(this.read+2)<<16^this.data.charCodeAt(this.read+3)<<24;return this.read+=4,e},u.ByteStringBuffer.prototype.getInt=function(e){c(e);var t=0;do{t=(t<<8)+this.data.charCodeAt(this.read++),e-=8}while(e>0);return t},u.ByteStringBuffer.prototype.getSignedInt=function(e){var t=this.getInt(e),r=2<<e-2;return t>=r&&(t-=r<<1),t},u.ByteStringBuffer.prototype.getBytes=function(e){var t;return e?(e=Math.min(this.length(),e),t=this.data.slice(this.read,this.read+e),this.read+=e):0===e?t="":(t=0===this.read?this.data:this.data.slice(this.read),this.clear()),t},u.ByteStringBuffer.prototype.bytes=function(e){return void 0===e?this.data.slice(this.read):this.data.slice(this.read,this.read+e)},u.ByteStringBuffer.prototype.at=function(e){return this.data.charCodeAt(this.read+e)},u.ByteStringBuffer.prototype.setAt=function(e,t){return this.data=this.data.substr(0,this.read+e)+String.fromCharCode(t)+this.data.substr(this.read+e+1),this},u.ByteStringBuffer.prototype.last=function(){return this.data.charCodeAt(this.data.length-1)},u.ByteStringBuffer.prototype.copy=function(){var e=u.createBuffer(this.data);return e.read=this.read,e},u.ByteStringBuffer.prototype.compact=function(){return this.read>0&&(this.data=this.data.slice(this.read),this.read=0),this},u.ByteStringBuffer.prototype.clear=function(){return this.data="",this.read=0,this},u.ByteStringBuffer.prototype.truncate=function(e){var t=Math.max(0,this.length()-e);return this.data=this.data.substr(this.read,t),this.read=0,this},u.ByteStringBuffer.prototype.toHex=function(){for(var e="",t=this.read;t<this.data.length;++t){var r=this.data.charCodeAt(t);r<16&&(e+="0"),e+=r.toString(16)}return e},u.ByteStringBuffer.prototype.toString=function(){return u.decodeUtf8(this.bytes())},u.DataBuffer=function(e,t){t=t||{},this.read=t.readOffset||0,this.growSize=t.growSize||1024;var r=u.isArrayBuffer(e),n=u.isArrayBufferView(e);if(r||n)return this.data=r?new DataView(e):new DataView(e.buffer,e.byteOffset,e.byteLength),void(this.write="writeOffset"in t?t.writeOffset:this.data.byteLength);this.data=new DataView(new ArrayBuffer(0)),this.write=0,null!=e&&this.putBytes(e),"writeOffset"in t&&(this.write=t.writeOffset)},u.DataBuffer.prototype.length=function(){return this.write-this.read},u.DataBuffer.prototype.isEmpty=function(){return this.length()<=0},u.DataBuffer.prototype.accommodate=function(e,t){if(this.length()>=e)return this;t=Math.max(t||this.growSize,e);var r=new Uint8Array(this.data.buffer,this.data.byteOffset,this.data.byteLength),n=new Uint8Array(this.length()+t);return n.set(r),this.data=new DataView(n.buffer),this},u.DataBuffer.prototype.putByte=function(e){return this.accommodate(1),this.data.setUint8(this.write++,e),this},u.DataBuffer.prototype.fillWithByte=function(e,t){this.accommodate(t);for(var r=0;r<t;++r)this.data.setUint8(e);return this},u.DataBuffer.prototype.putBytes=function(e,t){if(u.isArrayBufferView(e)){var r=(n=new Uint8Array(e.buffer,e.byteOffset,e.byteLength)).byteLength-n.byteOffset;return this.accommodate(r),new Uint8Array(this.data.buffer,this.write).set(n),this.write+=r,this}if(u.isArrayBuffer(e)){var n=new Uint8Array(e);return this.accommodate(n.byteLength),new Uint8Array(this.data.buffer).set(n,this.write),this.write+=n.byteLength,this}if(e instanceof u.DataBuffer||"object"==typeof e&&"number"==typeof e.read&&"number"==typeof e.write&&u.isArrayBufferView(e.data)){n=new Uint8Array(e.data.byteLength,e.read,e.length());return this.accommodate(n.byteLength),new Uint8Array(e.data.byteLength,this.write).set(n),this.write+=n.byteLength,this}if(e instanceof u.ByteStringBuffer&&(e=e.data,t="binary"),t=t||"binary","string"==typeof e){var i;if("hex"===t)return this.accommodate(Math.ceil(e.length/2)),i=new Uint8Array(this.data.buffer,this.write),this.write+=u.binary.hex.decode(e,i,this.write),this;if("base64"===t)return this.accommodate(3*Math.ceil(e.length/4)),i=new Uint8Array(this.data.buffer,this.write),this.write+=u.binary.base64.decode(e,i,this.write),this;if("utf8"===t&&(e=u.encodeUtf8(e),t="binary"),"binary"===t||"raw"===t)return this.accommodate(e.length),i=new Uint8Array(this.data.buffer,this.write),this.write+=u.binary.raw.decode(i),this;if("utf16"===t)return this.accommodate(2*e.length),i=new Uint16Array(this.data.buffer,this.write),this.write+=u.text.utf16.encode(i),this;throw new Error("Invalid encoding: "+t)}throw Error("Invalid parameter: "+e)},u.DataBuffer.prototype.putBuffer=function(e){return this.putBytes(e),e.clear(),this},u.DataBuffer.prototype.putString=function(e){return this.putBytes(e,"utf16")},u.DataBuffer.prototype.putInt16=function(e){return this.accommodate(2),this.data.setInt16(this.write,e),this.write+=2,this},u.DataBuffer.prototype.putInt24=function(e){return this.accommodate(3),this.data.setInt16(this.write,e>>8&65535),this.data.setInt8(this.write,e>>16&255),this.write+=3,this},u.DataBuffer.prototype.putInt32=function(e){return this.accommodate(4),this.data.setInt32(this.write,e),this.write+=4,this},u.DataBuffer.prototype.putInt16Le=function(e){return this.accommodate(2),this.data.setInt16(this.write,e,!0),this.write+=2,this},u.DataBuffer.prototype.putInt24Le=function(e){return this.accommodate(3),this.data.setInt8(this.write,e>>16&255),this.data.setInt16(this.write,e>>8&65535,!0),this.write+=3,this},u.DataBuffer.prototype.putInt32Le=function(e){return this.accommodate(4),this.data.setInt32(this.write,e,!0),this.write+=4,this},u.DataBuffer.prototype.putInt=function(e,t){c(t),this.accommodate(t/8);do{t-=8,this.data.setInt8(this.write++,e>>t&255)}while(t>0);return this},u.DataBuffer.prototype.putSignedInt=function(e,t){return c(t),this.accommodate(t/8),e<0&&(e+=2<<t-1),this.putInt(e,t)},u.DataBuffer.prototype.getByte=function(){return this.data.getInt8(this.read++)},u.DataBuffer.prototype.getInt16=function(){var e=this.data.getInt16(this.read);return this.read+=2,e},u.DataBuffer.prototype.getInt24=function(){var e=this.data.getInt16(this.read)<<8^this.data.getInt8(this.read+2);return this.read+=3,e},u.DataBuffer.prototype.getInt32=function(){var e=this.data.getInt32(this.read);return this.read+=4,e},u.DataBuffer.prototype.getInt16Le=function(){var e=this.data.getInt16(this.read,!0);return this.read+=2,e},u.DataBuffer.prototype.getInt24Le=function(){var e=this.data.getInt8(this.read)^this.data.getInt16(this.read+1,!0)<<8;return this.read+=3,e},u.DataBuffer.prototype.getInt32Le=function(){var e=this.data.getInt32(this.read,!0);return this.read+=4,e},u.DataBuffer.prototype.getInt=function(e){c(e);var t=0;do{t=(t<<8)+this.data.getInt8(this.read++),e-=8}while(e>0);return t},u.DataBuffer.prototype.getSignedInt=function(e){var t=this.getInt(e),r=2<<e-2;return t>=r&&(t-=r<<1),t},u.DataBuffer.prototype.getBytes=function(e){var t;return e?(e=Math.min(this.length(),e),t=this.data.slice(this.read,this.read+e),this.read+=e):0===e?t="":(t=0===this.read?this.data:this.data.slice(this.read),this.clear()),t},u.DataBuffer.prototype.bytes=function(e){return void 0===e?this.data.slice(this.read):this.data.slice(this.read,this.read+e)},u.DataBuffer.prototype.at=function(e){return this.data.getUint8(this.read+e)},u.DataBuffer.prototype.setAt=function(e,t){return this.data.setUint8(e,t),this},u.DataBuffer.prototype.last=function(){return this.data.getUint8(this.write-1)},u.DataBuffer.prototype.copy=function(){return new u.DataBuffer(this)},u.DataBuffer.prototype.compact=function(){if(this.read>0){var e=new Uint8Array(this.data.buffer,this.read),t=new Uint8Array(e.byteLength);t.set(e),this.data=new DataView(t),this.write-=this.read,this.read=0}return this},u.DataBuffer.prototype.clear=function(){return this.data=new DataView(new ArrayBuffer(0)),this.read=this.write=0,this},u.DataBuffer.prototype.truncate=function(e){return this.write=Math.max(0,this.length()-e),this.read=Math.min(this.read,this.write),this},u.DataBuffer.prototype.toHex=function(){for(var e="",t=this.read;t<this.data.byteLength;++t){var r=this.data.getUint8(t);r<16&&(e+="0"),e+=r.toString(16)}return e},u.DataBuffer.prototype.toString=function(e){var t=new Uint8Array(this.data,this.read,this.length());if("binary"===(e=e||"utf8")||"raw"===e)return u.binary.raw.encode(t);if("hex"===e)return u.binary.hex.encode(t);if("base64"===e)return u.binary.base64.encode(t);if("utf8"===e)return u.text.utf8.decode(t);if("utf16"===e)return u.text.utf16.decode(t);throw new Error("Invalid encoding: "+e)},u.createBuffer=function(e,t){return t=t||"raw",void 0!==e&&"utf8"===t&&(e=u.encodeUtf8(e)),new u.ByteBuffer(e)},u.fillString=function(e,t){for(var r="";t>0;)1&t&&(r+=e),(t>>>=1)>0&&(e+=e);return r},u.xorBytes=function(e,t,r){for(var n="",i="",o="",a=0,s=0;r>0;--r,++a)i=e.charCodeAt(a)^t.charCodeAt(a),s>=10&&(n+=o,o="",s=0),o+=String.fromCharCode(i),++s;return n+=o},u.hexToBytes=function(e){var t="",r=0;for(!0&e.length&&(r=1,t+=String.fromCharCode(parseInt(e[0],16)));r<e.length;r+=2)t+=String.fromCharCode(parseInt(e.substr(r,2),16));return t},u.bytesToHex=function(e){return u.createBuffer(e).toHex()},u.int32ToBytes=function(e){return String.fromCharCode(e>>24&255)+String.fromCharCode(e>>16&255)+String.fromCharCode(e>>8&255)+String.fromCharCode(255&e)};var h="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",f=[62,-1,-1,-1,63,52,53,54,55,56,57,58,59,60,61,-1,-1,-1,64,-1,-1,-1,0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,-1,-1,-1,-1,-1,-1,26,27,28,29,30,31,32,33,34,35,36,37,38,39,40,41,42,43,44,45,46,47,48,49,50,51],d="123456789ABCDEFGHJKLMNPQRSTUVWXYZabcdefghijkmnopqrstuvwxyz";u.encode64=function(e,t){for(var r,n,i,o="",a="",s=0;s<e.length;)r=e.charCodeAt(s++),n=e.charCodeAt(s++),i=e.charCodeAt(s++),o+=h.charAt(r>>2),o+=h.charAt((3&r)<<4|n>>4),isNaN(n)?o+="==":(o+=h.charAt((15&n)<<2|i>>6),o+=isNaN(i)?"=":h.charAt(63&i)),t&&o.length>t&&(a+=o.substr(0,t)+"\r\n",o=o.substr(t));return a+=o},u.decode64=function(e){e=e.replace(/[^A-Za-z0-9\+\/\=]/g,"");for(var t,r,n,i,o="",a=0;a<e.length;)t=f[e.charCodeAt(a++)-43],r=f[e.charCodeAt(a++)-43],n=f[e.charCodeAt(a++)-43],i=f[e.charCodeAt(a++)-43],o+=String.fromCharCode(t<<2|r>>4),64!==n&&(o+=String.fromCharCode((15&r)<<4|n>>2),64!==i&&(o+=String.fromCharCode((3&n)<<6|i)));return o},u.encodeUtf8=function(e){return unescape(encodeURIComponent(e))},u.decodeUtf8=function(e){return decodeURIComponent(escape(e))},u.binary={raw:{},hex:{},base64:{},base58:{},baseN:{encode:s.encode,decode:s.decode}},u.binary.raw.encode=function(e){return String.fromCharCode.apply(null,e)},u.binary.raw.decode=function(e,t,r){var n=t;n||(n=new Uint8Array(e.length));for(var i=r=r||0,o=0;o<e.length;++o)n[i++]=e.charCodeAt(o);return t?i-r:n},u.binary.hex.encode=u.bytesToHex,u.binary.hex.decode=function(e,t,r){var n=t;n||(n=new Uint8Array(Math.ceil(e.length/2)));var i=0,o=r=r||0;for(1&e.length&&(i=1,n[o++]=parseInt(e[0],16));i<e.length;i+=2)n[o++]=parseInt(e.substr(i,2),16);return t?o-r:n},u.binary.base64.encode=function(e,t){for(var r,n,i,o="",a="",s=0;s<e.byteLength;)r=e[s++],n=e[s++],i=e[s++],o+=h.charAt(r>>2),o+=h.charAt((3&r)<<4|n>>4),isNaN(n)?o+="==":(o+=h.charAt((15&n)<<2|i>>6),o+=isNaN(i)?"=":h.charAt(63&i)),t&&o.length>t&&(a+=o.substr(0,t)+"\r\n",o=o.substr(t));return a+=o},u.binary.base64.decode=function(e,t,r){var n,i,o,a,s=t;s||(s=new Uint8Array(3*Math.ceil(e.length/4))),e=e.replace(/[^A-Za-z0-9\+\/\=]/g,"");for(var u=0,c=r=r||0;u<e.length;)n=f[e.charCodeAt(u++)-43],i=f[e.charCodeAt(u++)-43],o=f[e.charCodeAt(u++)-43],a=f[e.charCodeAt(u++)-43],s[c++]=n<<2|i>>4,64!==o&&(s[c++]=(15&i)<<4|o>>2,64!==a&&(s[c++]=(3&o)<<6|a));return t?c-r:s.subarray(0,c)},u.binary.base58.encode=function(e,t){return u.binary.baseN.encode(e,d,t)},u.binary.base58.decode=function(e,t){return u.binary.baseN.decode(e,d,t)},u.text={utf8:{},utf16:{}},u.text.utf8.encode=function(e,t,r){e=u.encodeUtf8(e);var n=t;n||(n=new Uint8Array(e.length));for(var i=r=r||0,o=0;o<e.length;++o)n[i++]=e.charCodeAt(o);return t?i-r:n},u.text.utf8.decode=function(e){return u.decodeUtf8(String.fromCharCode.apply(null,e))},u.text.utf16.encode=function(e,t,r){var n=t;n||(n=new Uint8Array(2*e.length));for(var i=new Uint16Array(n.buffer),o=r=r||0,a=r,s=0;s<e.length;++s)i[a++]=e.charCodeAt(s),o+=2;return t?o-r:n},u.text.utf16.decode=function(e){return String.fromCharCode.apply(null,new Uint16Array(e.buffer))},u.deflate=function(e,t,r){if(t=u.decode64(e.deflate(u.encode64(t)).rval),r){var n=2;32&t.charCodeAt(1)&&(n=6),t=t.substring(n,t.length-4)}return t},u.inflate=function(e,t,r){var n=e.inflate(u.encode64(t)).rval;return null===n?null:u.decode64(n)};var p=function(e,t,r){if(!e)throw new Error("WebStorage not available.");var n;if(null===r?n=e.removeItem(t):(r=u.encode64(JSON.stringify(r)),n=e.setItem(t,r)),void 0!==n&&!0!==n.rval){var i=new Error(n.error.message);throw i.id=n.error.id,i.name=n.error.name,i}},g=function(e,t){if(!e)throw new Error("WebStorage not available.");var r=e.getItem(t);if(e.init)if(null===r.rval){if(r.error){var n=new Error(r.error.message);throw n.id=r.error.id,n.name=r.error.name,n}r=null}else r=r.rval;return null!==r&&(r=JSON.parse(u.decode64(r))),r},y=function(e,t,r,n){var i=g(e,t);null===i&&(i={}),i[r]=n,p(e,t,i)},m=function(e,t,r){var n=g(e,t);return null!==n&&(n=r in n?n[r]:null),n},v=function(e,t,r){var n=g(e,t);if(null!==n&&r in n){delete n[r];var i=!0;for(var o in n){i=!1;break}i&&(n=null),p(e,t,n)}},b=function(e,t){p(e,t,null)},w=function(e,t,r){var n,i=null;void 0===r&&(r=["web","flash"]);var o=!1,a=null;for(var s in r){n=r[s];try{if("flash"===n||"both"===n){if(null===t[0])throw new Error("Flash local storage not available.");i=e.apply(this,t),o="flash"===n}"web"!==n&&"both"!==n||(t[0]=localStorage,i=e.apply(this,t),o=!0)}catch(e){a=e}if(o)break}if(!o)throw a;return i};u.setItem=function(e,t,r,n,i){w(y,arguments,i)},u.getItem=function(e,t,r,n){return w(m,arguments,n)},u.removeItem=function(e,t,r,n){w(v,arguments,n)},u.clearItems=function(e,t,r){w(b,arguments,r)},u.parseUrl=function(e){var t=/^(https?):\/\/([^:&^\/]*):?(\d*)(.*)$/g;t.lastIndex=0;var r=t.exec(e),n=null===r?null:{full:e,scheme:r[1],host:r[2],port:r[3],path:r[4]};return n&&(n.fullHost=n.host,n.port?80!==n.port&&"http"===n.scheme?n.fullHost+=":"+n.port:443!==n.port&&"https"===n.scheme&&(n.fullHost+=":"+n.port):"http"===n.scheme?n.port=80:"https"===n.scheme&&(n.port=443),n.full=n.scheme+"://"+n.fullHost),n};var x=null;u.getQueryVariables=function(e){var t,r=function(e){for(var t={},r=e.split("&"),n=0;n<r.length;n++){var i,o,a=r[n].indexOf("=");a>0?(i=r[n].substring(0,a),o=r[n].substring(a+1)):(i=r[n],o=null),i in t||(t[i]=[]),i in Object.prototype||null===o||t[i].push(unescape(o))}return t};return void 0===e?(null===x&&(x="undefined"!=typeof window&&window.location&&window.location.search?r(window.location.search.substring(1)):{}),t=x):t=r(e),t},u.parseFragment=function(e){var t=e,r="",n=e.indexOf("?");n>0&&(t=e.substring(0,n),r=e.substring(n+1));var i=t.split("/");return i.length>0&&""===i[0]&&i.shift(),{pathString:t,queryString:r,path:i,query:""===r?{}:u.getQueryVariables(r)}},u.makeRequest=function(e){var t=u.parseFragment(e),r={path:t.pathString,query:t.queryString,getPath:function(e){return void 0===e?t.path:t.path[e]},getQuery:function(e,r){var n;return void 0===e?n=t.query:(n=t.query[e])&&void 0!==r&&(n=n[r]),n},getQueryLast:function(e,t){var n=r.getQuery(e);return n?n[n.length-1]:t}};return r},u.makeLink=function(e,t,r){e=jQuery.isArray(e)?e.join("/"):e;var n=jQuery.param(t||{});return r=r||"",e+(n.length>0?"?"+n:"")+(r.length>0?"#"+r:"")},u.setPath=function(e,t,r){if("object"==typeof e&&null!==e)for(var n=0,i=t.length;n<i;){var o=t[n++];if(n==i)e[o]=r;else{var a=o in e;(!a||a&&"object"!=typeof e[o]||a&&null===e[o])&&(e[o]={}),e=e[o]}}},u.getPath=function(e,t,r){for(var n=0,i=t.length,o=!0;o&&n<i&&"object"==typeof e&&null!==e;){var a=t[n++];(o=a in e)&&(e=e[a])}return o?e:r},u.deletePath=function(e,t){if("object"==typeof e&&null!==e)for(var r=0,n=t.length;r<n;){var i=t[r++];if(r==n)delete e[i];else{if(!(i in e)||"object"!=typeof e[i]||null===e[i])break;e=e[i]}}},u.isEmpty=function(e){for(var t in e)if(e.hasOwnProperty(t))return!1;return!0},u.format=function(e){for(var t,r,n=/%./g,i=0,o=[],a=0;t=n.exec(e);){(r=e.substring(a,n.lastIndex-2)).length>0&&o.push(r),a=n.lastIndex;var s=t[0][1];switch(s){case"s":case"o":i<arguments.length?o.push(arguments[1+i++]):o.push("<?>");break;case"%":o.push("%");break;default:o.push("<%"+s+"?>")}}return o.push(e.substring(a)),o.join("")},u.formatNumber=function(e,t,r,n){var i=e,o=isNaN(t=Math.abs(t))?2:t,a=void 0===r?",":r,s=void 0===n?".":n,u=i<0?"-":"",c=parseInt(i=Math.abs(+i||0).toFixed(o),10)+"",l=c.length>3?c.length%3:0;return u+(l?c.substr(0,l)+s:"")+c.substr(l).replace(/(\d{3})(?=\d)/g,"$1"+s)+(o?a+Math.abs(i-c).toFixed(o).slice(2):"")},u.formatSize=function(e){return e=e>=1073741824?u.formatNumber(e/1073741824,2,".","")+" GiB":e>=1048576?u.formatNumber(e/1048576,2,".","")+" MiB":e>=1024?u.formatNumber(e/1024,0)+" KiB":u.formatNumber(e,0)+" bytes"},u.bytesFromIP=function(e){return-1!==e.indexOf(".")?u.bytesFromIPv4(e):-1!==e.indexOf(":")?u.bytesFromIPv6(e):null},u.bytesFromIPv4=function(e){if(4!==(e=e.split(".")).length)return null;for(var t=u.createBuffer(),r=0;r<e.length;++r){var n=parseInt(e[r],10);if(isNaN(n))return null;t.putByte(n)}return t.getBytes()},u.bytesFromIPv6=function(e){for(var t=0,r=2*(8-(e=e.split(":").filter(function(e){return 0===e.length&&++t,!0})).length+t),n=u.createBuffer(),i=0;i<8;++i)if(e[i]&&0!==e[i].length){var o=u.hexToBytes(e[i]);o.length<2&&n.putByte(0),n.putBytes(o)}else n.fillWithByte(0,r),r=0;return n.getBytes()},u.bytesToIP=function(e){return 4===e.length?u.bytesToIPv4(e):16===e.length?u.bytesToIPv6(e):null},u.bytesToIPv4=function(e){if(4!==e.length)return null;for(var t=[],r=0;r<e.length;++r)t.push(e.charCodeAt(r));return t.join(".")},u.bytesToIPv6=function(e){if(16!==e.length)return null;for(var t=[],r=[],n=0,i=0;i<e.length;i+=2){for(var o=u.bytesToHex(e[i]+e[i+1]);"0"===o[0]&&"0"!==o;)o=o.substr(1);if("0"===o){var a=r[r.length-1],s=t.length;a&&s===a.end+1?(a.end=s,a.end-a.start>r[n].end-r[n].start&&(n=r.length-1)):r.push({start:s,end:s})}t.push(o)}if(r.length>0){var c=r[n];c.end-c.start>0&&(t.splice(c.start,c.end-c.start+1,""),0===c.start&&t.unshift(""),7===c.end&&t.push(""))}return t.join(":")},u.estimateCores=function(e,t){if("function"==typeof e&&(t=e,e={}),e=e||{},"cores"in u&&!e.update)return t(null,u.cores);if("undefined"!=typeof navigator&&"hardwareConcurrency"in navigator&&navigator.hardwareConcurrency>0)return u.cores=navigator.hardwareConcurrency,t(null,u.cores);if("undefined"==typeof Worker)return u.cores=1,t(null,u.cores);if("undefined"==typeof Blob)return u.cores=2,t(null,u.cores);var r=URL.createObjectURL(new Blob(["(",function(){self.addEventListener("message",function(e){for(var t=Date.now(),r=t+4;Date.now()<r;);self.postMessage({st:t,et:r})})}.toString(),")()"],{type:"application/javascript"}));!function e(n,i,o){if(0===i){var a=Math.floor(n.reduce(function(e,t){return e+t},0)/n.length);return u.cores=Math.max(1,a),URL.revokeObjectURL(r),t(null,u.cores)}!function(e,t){for(var n=[],i=[],o=0;o<e;++o){var a=new Worker(r);a.addEventListener("message",function(r){if(i.push(r.data),i.length===e){for(var o=0;o<e;++o)n[o].terminate();t(null,i)}}),n.push(a)}for(var o=0;o<e;++o)n[o].postMessage(o)}(o,function(t,r){n.push(function(e,t){for(var r=[],n=0;n<e;++n)for(var i=t[n],o=r[n]=[],a=0;a<e;++a)if(n!==a){var s=t[a];(i.st>s.st&&i.st<s.et||s.st>i.st&&s.st<i.et)&&o.push(a)}return r.reduce(function(e,t){return Math.max(e,t.length)},0)}(o,r)),e(n,i-1,o)})}([],5,16)}}).call(this,r(2),r(11).setImmediate,r(0),r(6).Buffer)},function(e,t,r){"use strict";e.exports=class{constructor(e){this.list=e.sort(),this.done=!1,this.left={};for(let t=0;t<e.length;++t)this.left[e[t]]=!0}hasNext(){return!this.done}next(){const e=this.list.slice();let t=null,r=0;const n=this.list.length;for(let e=0;e<n;++e){const i=this.list[e],o=this.left[i];(null===t||i>t)&&(o&&e>0&&i>this.list[e-1]||!o&&e<n-1&&i>this.list[e+1])&&(t=i,r=e)}if(null===t)this.done=!0;else{const e=this.left[t]?r-1:r+1;this.list[r]=this.list[e],this.list[e]=t;for(let e=0;e<n;++e)this.list[e]>t&&(this.left[this.list[e]]=!this.left[this.list[e]])}return e}}},function(e,t,r){"use strict";const n=r(28),i=r(51),o=r(53),a=r(30),s=r(9),u={subject:"s",object:"o",graph:"g"};e.exports=class{constructor(){this.name="URDNA2015",this.blankNodeInfo={},this.hashToBlankNodes={},this.canonicalIssuer=new n("_:c14n"),this.hashAlgorithm="sha256",this.quads}main(e){const t=this;t.quads=e;const r={};for(const n of e)t.forEachComponent(n,e=>{if("BlankNode"!==e.termType)return;const i=e.value;i in t.blankNodeInfo?t.blankNodeInfo[i].quads.push(n):(r[i]=!0,t.blankNodeInfo[i]={quads:[n]})});let i=!0;for(;i;){i=!1,t.hashToBlankNodes={};for(const e in r){const r=t.hashFirstDegreeQuads(e);r in t.hashToBlankNodes?t.hashToBlankNodes[r].push(e):t.hashToBlankNodes[r]=[e]}const e=Object.keys(t.hashToBlankNodes).sort();for(let n=0;n<e.length;++n){const o=e[n],a=t.hashToBlankNodes[o];if(a.length>1)continue;const s=a[0];t.canonicalIssuer.getId(s),delete r[s],delete t.hashToBlankNodes[o],i=!0}}const o=Object.keys(t.hashToBlankNodes).sort();for(let e=0;e<o.length;++e){const r=[],i=o[e],a=t.hashToBlankNodes[i];for(let e=0;e<a.length;++e){const i=a[e];if(t.canonicalIssuer.hasId(i))continue;const o=new n("_:b");o.getId(i);const s=t.hashNDegreeQuads(i,o);r.push(s)}r.sort((e,t)=>e.hash<t.hash?-1:e.hash>t.hash?1:0);for(let e=0;e<r.length;++e){const n=r[e];for(const e in n.issuer.existing)t.canonicalIssuer.getId(e)}}const s=[];for(let e=0;e<t.quads.length;++e){const r=t.quads[e];t.forEachComponent(r,e=>{"BlankNode"!==e.termType||e.value.startsWith(t.canonicalIssuer.prefix)||(e.value=t.canonicalIssuer.getId(e.value))}),s.push(a.serializeQuad(r))}return s.sort(),s.join("")}hashFirstDegreeQuads(e){const t=this,r=t.blankNodeInfo[e];if("hash"in r)return r.hash;const n=[],o=r.quads;for(let r=0;r<o.length;++r){const i=o[r],s={predicate:i.predicate};t.forEachComponent(i,(r,n)=>{s[n]=t.modifyFirstDegreeComponent(e,r,n)}),n.push(a.serializeQuad(s))}n.sort();const s=new i(t.hashAlgorithm);for(let e=0;e<n.length;++e)s.update(n[e]);return r.hash=s.digest(),r.hash}hashRelatedBlankNode(e,t,r,n){const o=this;let a;a=o.canonicalIssuer.hasId(e)?o.canonicalIssuer.getId(e):r.hasId(e)?r.getId(e):o.hashFirstDegreeQuads(e);const s=new i(o.hashAlgorithm);return s.update(n),"g"!==n&&s.update(o.getRelatedPredicate(t)),s.update(a),s.digest()}hashNDegreeQuads(e,t){const r=this,n=new i(r.hashAlgorithm),a=r.createHashToRelated(e,t),s=Object.keys(a).sort();for(let e=0;e<s.length;++e){const i=s[e];n.update(i);let u,c="";const l=new o(a[i]);for(;l.hasNext();){const e=l.next();let n=t.clone(),i="";const o=[];let a=!1;for(let t=0;t<e.length;++t){const s=e[t];if(r.canonicalIssuer.hasId(s)?i+=r.canonicalIssuer.getId(s):(n.hasId(s)||o.push(s),i+=n.getId(s)),0!==c.length&&i.length>=c.length&&i>c){a=!0;break}}if(!a){for(let e=0;e<o.length;++e){const t=o[e],s=r.hashNDegreeQuads(t,n);if(i+=n.getId(t),i+="<"+s.hash+">",n=s.issuer,0!==c.length&&i.length>=c.length&&i>c){a=!0;break}}a||(0===c.length||i<c)&&(c=i,u=n)}}n.update(c),t=u}return{hash:n.digest(),issuer:t}}modifyFirstDegreeComponent(e,t){return"BlankNode"!==t.termType?t:((t=s.clone(t)).value=t.value===e?"_:a":"_:z",t)}getRelatedPredicate(e){return"<"+e.predicate.value+">"}createHashToRelated(e,t){const r=this,n={},i=r.blankNodeInfo[e].quads;for(let o=0;o<i.length;++o){const a=i[o];for(const i in a){const o=a[i];if("predicate"===i||"BlankNode"!==o.termType||o.value===e)continue;const s=o.value,c=u[i],l=r.hashRelatedBlankNode(s,a,t,c);l in n?n[l].push(s):n[l]=[s]}}return n}forEachComponent(e,t){for(const r in e)"predicate"!==r&&t(e[r],r,e)}}},function(e,t){function r(){this.value=""}r.prototype.equals=function(e){return!!e&&e.termType===this.termType},r.prototype.termType="DefaultGraph",e.exports=r},function(e,t){function r(e){this.value=e}r.prototype.equals=function(e){return!!e&&e.termType===this.termType&&e.value===this.value},r.prototype.termType="NamedNode",e.exports=r},function(e,t,r){window.ldfetch=r(58)},function(e,t,r){r(33);const n=r(34),i=r(62),o=r(25),a=r(89),{DOMParser:s}=r(91),u=r(93),c=r(121),l=r(125),h=r(49),f=r(32),d=r(13);e.exports=class extends d{constructor(e){super(),this.prefixes={};var t="application/trig;q=1.0,application/n-quads,application/ld+json;q=.9,application/rdf+xml;q=.8,text/turtle,application/n-triples";e&&e.headers?this.fetcher=new i(t,e.headers):this.fetcher=new i(t),this.fetcher.on("cache-miss",e=>{this.emit("cache-miss",e)}),this.fetcher.on("cache-hit",e=>{this.emit("cache-hit",e)}),this.fetcher.on("downloaded",e=>{this.emit("downloaded",e)})}async frame(e,t){"string"==typeof e&&(e=await this.get(e).then(e=>e.triples));var r={"@graph":[]},n={};for(var i of e){"BlankNode"===i.subject.termType&&(i.subject.value="_:"+i.subject.value),"BlankNode"===i.predicate.termType&&(i.predicate.value="_:"+i.predicate.value),"BlankNode"===i.object.termType&&(i.object.value="_:"+i.object.value),"BlankNode"===i.graph.termType&&(i.graph.value="_:"+i.graph.value),i.graph.value&&!n[i.graph.value]&&(n[i.graph.value]={"@id":i.graph.value,"@graph":[]});var o={"@id":i.subject.value};"Literal"===i.object.termType?(o[i.predicate.value]={"@value":i.object.value},i.predicate.language&&(o[i.predicate.value]["@language"]=i.object.language),i.object.datatype&&(o[i.predicate.value]["@type"]=i.object.datatype.value)):"http://www.w3.org/1999/02/22-rdf-syntax-ns#type"===i.predicate.value?o["@type"]=i.object.value:o[i.predicate.value]={"@id":i.object.value},i.graph.value?n[i.graph.value]["@graph"].push(o):r["@graph"].push(o)}return r["@graph"].push(Object.values(n)),h.frame(r,t)}addPrefix(e,t){this.prefixes[e]=t}getCacheStats(){return this.fetcher.getCacheStats()}get(e){return this.emit("request",e),this.fetcher.get(e).then(t=>{e!==t.url&&this.emit("redirect",{from:e,to:t.url}),this.emit("response",t.url);var r=[],i={},h=n.defer();if("application/ld+json"===t.type||"application/json"===t.type)return new u({documentIRI:t.url,factory:f}).parse(t.body,(e,n,o)=>{this.emit("parsed",t.url),e?h.reject(e):n?r.push(n):(i=Object.assign(this.prefixes,i),h.resolve({triples:r,prefixes:i,statusCode:t.statusCode,url:t.url})),o&&(i=Object.assign(i,o))}),h.promise;if("text/html"===t.type){for(var d=[],p=0,g=l(t.body,t.url),y=g.querySelectorAll("script[type*='application/ld+json']"),m=0;m<y.length;m++){var v=y[m];d[m]=n.defer();new u({documentIRI:t.url}).parse(v.textContent,(e,t,n)=>{t?r.push(t):e?(console.error("WARNING: an error was given while processing a JSON-LD snippet: ",e),d[p].resolve(),p++):(d[p].resolve(),p++)})}new c({documentIRI:t.url,factory:f}).parse(g,(e,n,o)=>{this.emit("parsed",t.url),e?h.reject(e):n?r.push(n):(i=Object.assign(this.prefixes,i),h.resolve()),o&&(i=Object.assign(i,o))});var b=[h].concat(d).map(e=>e.promise);return n.all(b).then(()=>({triples:r,prefixes:i,statusCode:t.statusCode,url:t.url}))}if(["application/trig","application/n-quads","text/turtle","application/n-triples","text/n3"].indexOf(t.type.toLowerCase())>-1)new o.Parser({documentIRI:t.url,factory:f}).parse(t.body,(e,n,o)=>{this.emit("parsed",t.url),e?h.reject(e):n?r.push(n):(i=Object.assign(i,this.prefixes),h.resolve({triples:r,prefixes:i,statusCode:t.statusCode,url:t.url})),o&&(i=Object.assign(i,o))});else if(["application/rdf+xml"].indexOf(t.type.toLowerCase())>-1){(new a).parse((new s).parseFromString(t.body),t.url,t.url,e=>{this.emit("parsed",t.url),e?r.push(e):h.resolve({triples:r,statusCode:t.statusCode,url:t.url})})}else h.resolve({statusCode:t.statusCode,triples:r,prefixes:i,url:t.url,error:"Cannot parse "+t.type});return h.promise})}}},function(e,t){e.exports=function(e){return e&&"object"==typeof e&&"function"==typeof e.copy&&"function"==typeof e.fill&&"function"==typeof e.readUInt8}},function(e,t){"function"==typeof Object.create?e.exports=function(e,t){e.super_=t,e.prototype=Object.create(t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}})}:e.exports=function(e,t){e.super_=t;var r=function(){};r.prototype=t.prototype,e.prototype=new r,e.prototype.constructor=e}},function(e,t,r){(function(e,t){!function(e,r){"use strict";if(!e.setImmediate){var n,i,o,a,s,u=1,c={},l=!1,h=e.document,f=Object.getPrototypeOf&&Object.getPrototypeOf(e);f=f&&f.setTimeout?f:e,"[object process]"==={}.toString.call(e.process)?n=function(e){t.nextTick(function(){p(e)})}:!function(){if(e.postMessage&&!e.importScripts){var t=!0,r=e.onmessage;return e.onmessage=function(){t=!1},e.postMessage("","*"),e.onmessage=r,t}}()?e.MessageChannel?((o=new MessageChannel).port1.onmessage=function(e){p(e.data)},n=function(e){o.port2.postMessage(e)}):h&&"onreadystatechange"in h.createElement("script")?(i=h.documentElement,n=function(e){var t=h.createElement("script");t.onreadystatechange=function(){p(e),t.onreadystatechange=null,i.removeChild(t),t=null},i.appendChild(t)}):n=function(e){setTimeout(p,0,e)}:(a="setImmediate$"+Math.random()+"$",s=function(t){t.source===e&&"string"==typeof t.data&&0===t.data.indexOf(a)&&p(+t.data.slice(a.length))},e.addEventListener?e.addEventListener("message",s,!1):e.attachEvent("onmessage",s),n=function(t){e.postMessage(a+t,"*")}),f.setImmediate=function(e){"function"!=typeof e&&(e=new Function(""+e));for(var t=new Array(arguments.length-1),r=0;r<t.length;r++)t[r]=arguments[r+1];var i={callback:e,args:t};return c[u]=i,n(u),u++},f.clearImmediate=d}function d(e){delete c[e]}function p(e){if(l)setTimeout(p,0,e);else{var t=c[e];if(t){l=!0;try{!function(e){var t=e.callback,n=e.args;switch(n.length){case 0:t();break;case 1:t(n[0]);break;case 2:t(n[0],n[1]);break;case 3:t(n[0],n[1],n[2]);break;default:t.apply(r,n)}}(t)}finally{d(e),l=!1}}}}}("undefined"==typeof self?void 0===e?this:e:self)}).call(this,r(0),r(2))},function(e,t,r){
/*! @license 2013 Ruben Verborgh, 2016 Pieter Colpaert - Data Science Lab / iMinds / Ghent University */
var n=r(34),i=r(35),o=r(80),a=r(33),s=r(24),u=r(13);function c(e,t){u.call(this),this._accept=e||"application/ld+json;q=1.0",this._customHeaders=t||{}}a.inherits(c,u),c.prototype.get=function(e){return this.request(e,"GET")},c.prototype.request=function(e,t){this.emit("request",e);var r=t||"GET",a=this,u=n.defer(),c=s.parse(e),l={Accept:this._accept};if(Object.keys(a._customHeaders).length>0)for(let[e,t]of Object.entries(a._customHeaders))l[e]=t;var h={hostname:c.hostname,port:c.port,path:c.path,headers:l,withCredentials:!1,method:r},f=function(t){var r=t,n=[],i=0;r.on("data",function(e){i+=e.length,n.push(e)}),t.on("error",function(e){p(e)}),r.on("end",function(){a.emit("downloaded",{url:e,totalBytes:i}),p(null,t,n.join(""))})},d={};function p(t,r,n){var i;if(i=d._xhr?d._xhr.responseURL:d._fetchResponse.url,a.emit("response",i),t)return u.reject(new Error(t));if(r.statusCode>=500)return u.reject(new Error("Request failed: "+e));var o=/^[^;]+/.exec(r.headers["content-type"]||"text/html")[0];u.resolve({url:i,type:o,body:n,status:r.statusCode})}return"https:"===c.protocol?d=o.request(h,f):"http:"===c.protocol?d=i.request(h,f):console.error("Only http or https supported. Not "+c.protocol),d.on("error",function(e){u.reject(e)}),d.end(null),u.promise},c.prototype.cancelAll=function(){},e.exports=c},function(e,t,r){(function(t,n,i){var o=r(37),a=r(7),s=r(38),u=r(12),c=r(71),l=s.IncomingMessage,h=s.readyStates;var f=e.exports=function(e){var r,n=this;u.Writable.call(n),n._opts=e,n._body=[],n._headers={},e.auth&&n.setHeader("Authorization","Basic "+new t(e.auth).toString("base64")),Object.keys(e.headers).forEach(function(t){n.setHeader(t,e.headers[t])});var i=!0;if("disable-fetch"===e.mode||"requestTimeout"in e&&!o.abortController)i=!1,r=!0;else if("prefer-streaming"===e.mode)r=!1;else if("allow-wrong-content-type"===e.mode)r=!o.overrideMimeType;else{if(e.mode&&"default"!==e.mode&&"prefer-fast"!==e.mode)throw new Error("Invalid value for opts.mode");r=!0}n._mode=function(e,t){return o.fetch&&t?"fetch":o.mozchunkedarraybuffer?"moz-chunked-arraybuffer":o.msstream?"ms-stream":o.arraybuffer&&e?"arraybuffer":o.vbArray&&e?"text:vbarray":"text"}(r,i),n._fetchTimer=null,n.on("finish",function(){n._onFinish()})};a(f,u.Writable),f.prototype.setHeader=function(e,t){var r=e.toLowerCase();-1===d.indexOf(r)&&(this._headers[r]={name:e,value:t})},f.prototype.getHeader=function(e){var t=this._headers[e.toLowerCase()];return t?t.value:null},f.prototype.removeHeader=function(e){delete this._headers[e.toLowerCase()]},f.prototype._onFinish=function(){var e=this;if(!e._destroyed){var r=e._opts,a=e._headers,s=null;"GET"!==r.method&&"HEAD"!==r.method&&(s=o.arraybuffer?c(t.concat(e._body)):o.blobConstructor?new n.Blob(e._body.map(function(e){return c(e)}),{type:(a["content-type"]||{}).value||""}):t.concat(e._body).toString());var u=[];if(Object.keys(a).forEach(function(e){var t=a[e].name,r=a[e].value;Array.isArray(r)?r.forEach(function(e){u.push([t,e])}):u.push([t,r])}),"fetch"===e._mode){var l=null;if(o.abortController){var f=new AbortController;l=f.signal,e._fetchAbortController=f,"requestTimeout"in r&&0!==r.requestTimeout&&(e._fetchTimer=n.setTimeout(function(){e.emit("requestTimeout"),e._fetchAbortController&&e._fetchAbortController.abort()},r.requestTimeout))}n.fetch(e._opts.url,{method:e._opts.method,headers:u,body:s||void 0,mode:"cors",credentials:r.withCredentials?"include":"same-origin",signal:l}).then(function(t){e._fetchResponse=t,e._connect()},function(t){n.clearTimeout(e._fetchTimer),e._destroyed||e.emit("error",t)})}else{var d=e._xhr=new n.XMLHttpRequest;try{d.open(e._opts.method,e._opts.url,!0)}catch(t){return void i.nextTick(function(){e.emit("error",t)})}"responseType"in d&&(d.responseType=e._mode.split(":")[0]),"withCredentials"in d&&(d.withCredentials=!!r.withCredentials),"text"===e._mode&&"overrideMimeType"in d&&d.overrideMimeType("text/plain; charset=x-user-defined"),"requestTimeout"in r&&(d.timeout=r.requestTimeout,d.ontimeout=function(){e.emit("requestTimeout")}),u.forEach(function(e){d.setRequestHeader(e[0],e[1])}),e._response=null,d.onreadystatechange=function(){switch(d.readyState){case h.LOADING:case h.DONE:e._onXHRProgress()}},"moz-chunked-arraybuffer"===e._mode&&(d.onprogress=function(){e._onXHRProgress()}),d.onerror=function(){e._destroyed||e.emit("error",new Error("XHR error"))};try{d.send(s)}catch(t){return void i.nextTick(function(){e.emit("error",t)})}}}},f.prototype._onXHRProgress=function(){(function(e){try{var t=e.status;return null!==t&&0!==t}catch(e){return!1}})(this._xhr)&&!this._destroyed&&(this._response||this._connect(),this._response._onXHRProgress())},f.prototype._connect=function(){var e=this;e._destroyed||(e._response=new l(e._xhr,e._fetchResponse,e._mode,e._fetchTimer),e._response.on("error",function(t){e.emit("error",t)}),e.emit("response",e._response))},f.prototype._write=function(e,t,r){this._body.push(e),r()},f.prototype.abort=f.prototype.destroy=function(){this._destroyed=!0,n.clearTimeout(this._fetchTimer),this._response&&(this._response._destroyed=!0),this._xhr?this._xhr.abort():this._fetchAbortController&&this._fetchAbortController.abort()},f.prototype.end=function(e,t,r){"function"==typeof e&&(r=e,e=void 0),u.Writable.prototype.end.call(this,e,t,r)},f.prototype.flushHeaders=function(){},f.prototype.setTimeout=function(){},f.prototype.setNoDelay=function(){},f.prototype.setSocketKeepAlive=function(){};var d=["accept-charset","accept-encoding","access-control-request-headers","access-control-request-method","connection","content-length","cookie","cookie2","date","dnt","expect","host","keep-alive","origin","referer","te","trailer","transfer-encoding","upgrade","via"]}).call(this,r(6).Buffer,r(0),r(2))},function(e,t,r){"use strict";t.byteLength=function(e){var t=c(e),r=t[0],n=t[1];return 3*(r+n)/4-n},t.toByteArray=function(e){for(var t,r=c(e),n=r[0],a=r[1],s=new o(function(e,t,r){return 3*(t+r)/4-r}(0,n,a)),u=0,l=a>0?n-4:n,h=0;h<l;h+=4)t=i[e.charCodeAt(h)]<<18|i[e.charCodeAt(h+1)]<<12|i[e.charCodeAt(h+2)]<<6|i[e.charCodeAt(h+3)],s[u++]=t>>16&255,s[u++]=t>>8&255,s[u++]=255&t;2===a&&(t=i[e.charCodeAt(h)]<<2|i[e.charCodeAt(h+1)]>>4,s[u++]=255&t);1===a&&(t=i[e.charCodeAt(h)]<<10|i[e.charCodeAt(h+1)]<<4|i[e.charCodeAt(h+2)]>>2,s[u++]=t>>8&255,s[u++]=255&t);return s},t.fromByteArray=function(e){for(var t,r=e.length,i=r%3,o=[],a=0,s=r-i;a<s;a+=16383)o.push(l(e,a,a+16383>s?s:a+16383));1===i?(t=e[r-1],o.push(n[t>>2]+n[t<<4&63]+"==")):2===i&&(t=(e[r-2]<<8)+e[r-1],o.push(n[t>>10]+n[t>>4&63]+n[t<<2&63]+"="));return o.join("")};for(var n=[],i=[],o="undefined"!=typeof Uint8Array?Uint8Array:Array,a="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",s=0,u=a.length;s<u;++s)n[s]=a[s],i[a.charCodeAt(s)]=s;function c(e){var t=e.length;if(t%4>0)throw new Error("Invalid string. Length must be a multiple of 4");var r=e.indexOf("=");return-1===r&&(r=t),[r,r===t?0:4-r%4]}function l(e,t,r){for(var i,o,a=[],s=t;s<r;s+=3)i=(e[s]<<16&16711680)+(e[s+1]<<8&65280)+(255&e[s+2]),a.push(n[(o=i)>>18&63]+n[o>>12&63]+n[o>>6&63]+n[63&o]);return a.join("")}i["-".charCodeAt(0)]=62,i["_".charCodeAt(0)]=63},function(e,t){t.read=function(e,t,r,n,i){var o,a,s=8*i-n-1,u=(1<<s)-1,c=u>>1,l=-7,h=r?i-1:0,f=r?-1:1,d=e[t+h];for(h+=f,o=d&(1<<-l)-1,d>>=-l,l+=s;l>0;o=256*o+e[t+h],h+=f,l-=8);for(a=o&(1<<-l)-1,o>>=-l,l+=n;l>0;a=256*a+e[t+h],h+=f,l-=8);if(0===o)o=1-c;else{if(o===u)return a?NaN:1/0*(d?-1:1);a+=Math.pow(2,n),o-=c}return(d?-1:1)*a*Math.pow(2,o-n)},t.write=function(e,t,r,n,i,o){var a,s,u,c=8*o-i-1,l=(1<<c)-1,h=l>>1,f=23===i?Math.pow(2,-24)-Math.pow(2,-77):0,d=n?0:o-1,p=n?1:-1,g=t<0||0===t&&1/t<0?1:0;for(t=Math.abs(t),isNaN(t)||t===1/0?(s=isNaN(t)?1:0,a=l):(a=Math.floor(Math.log(t)/Math.LN2),t*(u=Math.pow(2,-a))<1&&(a--,u*=2),(t+=a+h>=1?f/u:f*Math.pow(2,1-h))*u>=2&&(a++,u/=2),a+h>=l?(s=0,a=l):a+h>=1?(s=(t*u-1)*Math.pow(2,i),a+=h):(s=t*Math.pow(2,h-1)*Math.pow(2,i),a=0));i>=8;e[r+d]=255&s,d+=p,s/=256,i-=8);for(a=a<<i|s,c+=i;c>0;e[r+d]=255&a,d+=p,a/=256,c-=8);e[r+d-p]|=128*g}},function(e,t){},function(e,t,r){"use strict";var n=r(20).Buffer,i=r(68);e.exports=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.head=null,this.tail=null,this.length=0}return e.prototype.push=function(e){var t={data:e,next:null};this.length>0?this.tail.next=t:this.head=t,this.tail=t,++this.length},e.prototype.unshift=function(e){var t={data:e,next:this.head};0===this.length&&(this.tail=t),this.head=t,++this.length},e.prototype.shift=function(){if(0!==this.length){var e=this.head.data;return 1===this.length?this.head=this.tail=null:this.head=this.head.next,--this.length,e}},e.prototype.clear=function(){this.head=this.tail=null,this.length=0},e.prototype.join=function(e){if(0===this.length)return"";for(var t=this.head,r=""+t.data;t=t.next;)r+=e+t.data;return r},e.prototype.concat=function(e){if(0===this.length)return n.alloc(0);if(1===this.length)return this.head.data;for(var t,r,i,o=n.allocUnsafe(e>>>0),a=this.head,s=0;a;)t=a.data,r=o,i=s,t.copy(r,i),s+=a.data.length,a=a.next;return o},e}(),i&&i.inspect&&i.inspect.custom&&(e.exports.prototype[i.inspect.custom]=function(){var e=i.inspect({length:this.length});return this.constructor.name+" "+e})},function(e,t){},function(e,t,r){(function(t){function r(e){try{if(!t.localStorage)return!1}catch(e){return!1}var r=t.localStorage[e];return null!=r&&"true"===String(r).toLowerCase()}e.exports=function(e,t){if(r("noDeprecation"))return e;var n=!1;return function(){if(!n){if(r("throwDeprecation"))throw new Error(t);r("traceDeprecation")?console.trace(t):console.warn(t),n=!0}return e.apply(this,arguments)}}}).call(this,r(0))},function(e,t,r){"use strict";e.exports=o;var n=r(43),i=r(14);function o(e){if(!(this instanceof o))return new o(e);n.call(this,e)}i.inherits=r(7),i.inherits(o,n),o.prototype._transform=function(e,t,r){r(null,e)}},function(e,t,r){var n=r(6).Buffer;e.exports=function(e){if(e instanceof Uint8Array){if(0===e.byteOffset&&e.byteLength===e.buffer.byteLength)return e.buffer;if("function"==typeof e.buffer.slice)return e.buffer.slice(e.byteOffset,e.byteOffset+e.byteLength)}if(n.isBuffer(e)){for(var t=new Uint8Array(e.length),r=e.length,i=0;i<r;i++)t[i]=e[i];return t.buffer}throw new Error("Argument must be a Buffer")}},function(e,t){e.exports=function(){for(var e={},t=0;t<arguments.length;t++){var n=arguments[t];for(var i in n)r.call(n,i)&&(e[i]=n[i])}return e};var r=Object.prototype.hasOwnProperty},function(e,t){e.exports={100:"Continue",101:"Switching Protocols",102:"Processing",200:"OK",201:"Created",202:"Accepted",203:"Non-Authoritative Information",204:"No Content",205:"Reset Content",206:"Partial Content",207:"Multi-Status",208:"Already Reported",226:"IM Used",300:"Multiple Choices",301:"Moved Permanently",302:"Found",303:"See Other",304:"Not Modified",305:"Use Proxy",307:"Temporary Redirect",308:"Permanent Redirect",400:"Bad Request",401:"Unauthorized",402:"Payment Required",403:"Forbidden",404:"Not Found",405:"Method Not Allowed",406:"Not Acceptable",407:"Proxy Authentication Required",408:"Request Timeout",409:"Conflict",410:"Gone",411:"Length Required",412:"Precondition Failed",413:"Payload Too Large",414:"URI Too Long",415:"Unsupported Media Type",416:"Range Not Satisfiable",417:"Expectation Failed",418:"I'm a teapot",421:"Misdirected Request",422:"Unprocessable Entity",423:"Locked",424:"Failed Dependency",425:"Unordered Collection",426:"Upgrade Required",428:"Precondition Required",429:"Too Many Requests",431:"Request Header Fields Too Large",451:"Unavailable For Legal Reasons",500:"Internal Server Error",501:"Not Implemented",502:"Bad Gateway",503:"Service Unavailable",504:"Gateway Timeout",505:"HTTP Version Not Supported",506:"Variant Also Negotiates",507:"Insufficient Storage",508:"Loop Detected",509:"Bandwidth Limit Exceeded",510:"Not Extended",511:"Network Authentication Required"}},function(e,t,r){(function(e,n){var i;/*! https://mths.be/punycode v1.4.1 by @mathias */!function(o){t&&t.nodeType,e&&e.nodeType;var a="object"==typeof n&&n;a.global!==a&&a.window!==a&&a.self;var s,u=2147483647,c=36,l=1,h=26,f=38,d=700,p=72,g=128,y="-",m=/^xn--/,v=/[^\x20-\x7E]/,b=/[\x2E\u3002\uFF0E\uFF61]/g,w={overflow:"Overflow: input needs wider integers to process","not-basic":"Illegal input >= 0x80 (not a basic code point)","invalid-input":"Invalid input"},x=c-l,_=Math.floor,I=String.fromCharCode;function N(e){throw new RangeError(w[e])}function T(e,t){for(var r=e.length,n=[];r--;)n[r]=t(e[r]);return n}function S(e,t){var r=e.split("@"),n="";return r.length>1&&(n=r[0]+"@",e=r[1]),n+T((e=e.replace(b,".")).split("."),t).join(".")}function j(e){for(var t,r,n=[],i=0,o=e.length;i<o;)(t=e.charCodeAt(i++))>=55296&&t<=56319&&i<o?56320==(64512&(r=e.charCodeAt(i++)))?n.push(((1023&t)<<10)+(1023&r)+65536):(n.push(t),i--):n.push(t);return n}function E(e){return T(e,function(e){var t="";return e>65535&&(t+=I((e-=65536)>>>10&1023|55296),e=56320|1023&e),t+=I(e)}).join("")}function R(e,t){return e+22+75*(e<26)-((0!=t)<<5)}function C(e,t,r){var n=0;for(e=r?_(e/d):e>>1,e+=_(e/t);e>x*h>>1;n+=c)e=_(e/x);return _(n+(x+1)*e/(e+f))}function A(e){var t,r,n,i,o,a,s,f,d,m,v,b=[],w=e.length,x=0,I=g,T=p;for((r=e.lastIndexOf(y))<0&&(r=0),n=0;n<r;++n)e.charCodeAt(n)>=128&&N("not-basic"),b.push(e.charCodeAt(n));for(i=r>0?r+1:0;i<w;){for(o=x,a=1,s=c;i>=w&&N("invalid-input"),((f=(v=e.charCodeAt(i++))-48<10?v-22:v-65<26?v-65:v-97<26?v-97:c)>=c||f>_((u-x)/a))&&N("overflow"),x+=f*a,!(f<(d=s<=T?l:s>=T+h?h:s-T));s+=c)a>_(u/(m=c-d))&&N("overflow"),a*=m;T=C(x-o,t=b.length+1,0==o),_(x/t)>u-I&&N("overflow"),I+=_(x/t),x%=t,b.splice(x++,0,I)}return E(b)}function k(e){var t,r,n,i,o,a,s,f,d,m,v,b,w,x,T,S=[];for(b=(e=j(e)).length,t=g,r=0,o=p,a=0;a<b;++a)(v=e[a])<128&&S.push(I(v));for(n=i=S.length,i&&S.push(y);n<b;){for(s=u,a=0;a<b;++a)(v=e[a])>=t&&v<s&&(s=v);for(s-t>_((u-r)/(w=n+1))&&N("overflow"),r+=(s-t)*w,t=s,a=0;a<b;++a)if((v=e[a])<t&&++r>u&&N("overflow"),v==t){for(f=r,d=c;!(f<(m=d<=o?l:d>=o+h?h:d-o));d+=c)T=f-m,x=c-m,S.push(I(R(m+T%x,0))),f=_(T/x);S.push(I(R(f,0))),o=C(r,w,n==i),r=0,++n}++r,++t}return S.join("")}s={version:"1.4.1",ucs2:{decode:j,encode:E},decode:A,encode:k,toASCII:function(e){return S(e,function(e){return v.test(e)?"xn--"+k(e):e})},toUnicode:function(e){return S(e,function(e){return m.test(e)?A(e.slice(4).toLowerCase()):e})}},void 0===(i=function(){return s}.call(t,r,t,e))||(e.exports=i)}()}).call(this,r(75)(e),r(0))},function(e,t){e.exports=function(e){return e.webpackPolyfill||(e.deprecate=function(){},e.paths=[],e.children||(e.children=[]),Object.defineProperty(e,"loaded",{enumerable:!0,get:function(){return e.l}}),Object.defineProperty(e,"id",{enumerable:!0,get:function(){return e.i}}),e.webpackPolyfill=1),e}},function(e,t,r){"use strict";e.exports={isString:function(e){return"string"==typeof e},isObject:function(e){return"object"==typeof e&&null!==e},isNull:function(e){return null===e},isNullOrUndefined:function(e){return null==e}}},function(e,t,r){"use strict";t.decode=t.parse=r(78),t.encode=t.stringify=r(79)},function(e,t,r){"use strict";function n(e,t){return Object.prototype.hasOwnProperty.call(e,t)}e.exports=function(e,t,r,o){t=t||"&",r=r||"=";var a={};if("string"!=typeof e||0===e.length)return a;var s=/\+/g;e=e.split(t);var u=1e3;o&&"number"==typeof o.maxKeys&&(u=o.maxKeys);var c=e.length;u>0&&c>u&&(c=u);for(var l=0;l<c;++l){var h,f,d,p,g=e[l].replace(s,"%20"),y=g.indexOf(r);y>=0?(h=g.substr(0,y),f=g.substr(y+1)):(h=g,f=""),d=decodeURIComponent(h),p=decodeURIComponent(f),n(a,d)?i(a[d])?a[d].push(p):a[d]=[a[d],p]:a[d]=p}return a};var i=Array.isArray||function(e){return"[object Array]"===Object.prototype.toString.call(e)}},function(e,t,r){"use strict";var n=function(e){switch(typeof e){case"string":return e;case"boolean":return e?"true":"false";case"number":return isFinite(e)?e:"";default:return""}};e.exports=function(e,t,r,s){return t=t||"&",r=r||"=",null===e&&(e=void 0),"object"==typeof e?o(a(e),function(a){var s=encodeURIComponent(n(a))+r;return i(e[a])?o(e[a],function(e){return s+encodeURIComponent(n(e))}).join(t):s+encodeURIComponent(n(e[a]))}).join(t):s?encodeURIComponent(n(s))+r+encodeURIComponent(n(e)):""};var i=Array.isArray||function(e){return"[object Array]"===Object.prototype.toString.call(e)};function o(e,t){if(e.map)return e.map(t);for(var r=[],n=0;n<e.length;n++)r.push(t(e[n],n));return r}var a=Object.keys||function(e){var t=[];for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.push(r);return t}},function(e,t,r){var n=r(35),i=r(24),o=e.exports;for(var a in n)n.hasOwnProperty(a)&&(o[a]=n[a]);function s(e){if("string"==typeof e&&(e=i.parse(e)),e.protocol||(e.protocol="https:"),"https:"!==e.protocol)throw new Error('Protocol "'+e.protocol+'" not supported. Expected "https:"');return e}o.request=function(e,t){return e=s(e),n.request.call(this,e,t)},o.get=function(e,t){return e=s(e),n.get.call(this,e,t)}},function(e,t,r){var n=r(15),i=r(26).Readable,o=n.internal.toId,a=n.internal.fromId;function s(e){return"string"==typeof e||e instanceof String}e.exports=class{constructor(e,t){this._size=0,this._graphs=Object.create(null),this._id=0,this._ids=Object.create(null),this._ids["><"]=0,this._entities=Object.create(null),this._blankNodeIndex=0,t||!e||e[0]||(t=e,e=null),t=t||{},this._factory=t.factory||n,e&&this.addQuads(e)}get size(){var e=this._size;if(null!==e)return e;e=0;var t,r,n=this._graphs;for(var i in n)for(var o in t=n[i].subjects)for(var a in r=t[o])e+=Object.keys(r[a]).length;return this._size=e}_addToIndex(e,t,r,n){var i=e[t]||(e[t]={}),o=i[r]||(i[r]={}),a=n in o;return a||(o[n]=null),!a}_removeFromIndex(e,t,r,n){var i,o=e[t],a=o[r];for(i in delete a[n],a)return;for(i in delete o[r],o)return;delete e[t]}_findInIndex(e,t,r,n,i,o,s,u,c,l){var h,f,d,p=!t+!r+!n>1?Object.keys(this._ids):this._entities;for(var g in t&&((h=e,e={})[t]=h[t]),e){var y=p[g];if(f=e[g])for(var m in r&&((h=f,f={})[r]=h[r]),f){var v=p[m];if(d=f[m])for(var b=(n?n in d?[n]:[]:Object.keys(d)),w=0;w<b.length;w++){var x={subject:null,predicate:null,object:null};x[i]=a(y,this._factory),x[o]=a(v,this._factory),x[s]=a(p[b[w]],this._factory);var _=this._factory.quad(x.subject,x.predicate,x.object,a(u,this._factory));if(l)l.push(_);else if(c(_))return!0}}}return l}_loop(e,t){for(var r in e)t(r)}_loopByKey0(e,t,r){var n,i;if(n=e[t])for(i in n)r(i)}_loopByKey1(e,t,r){var n;for(n in e)e[n][t]&&r(n)}_loopBy2Keys(e,t,r,n){var i,o,a;if((i=e[t])&&(o=i[r]))for(a in o)n(a)}_countInIndex(e,t,r,n){var i,o,a,s=0;for(var u in t&&((i=e,e={})[t]=i[t]),e)if(o=e[u])for(var c in r&&((i=o,o={})[r]=i[r]),o)(a=o[c])&&(n?n in a&&s++:s+=Object.keys(a).length);return s}_getGraphs(e){if(!s(e))return this._graphs;var t={};return t[e]=this._graphs[e],t}_uniqueEntities(e){var t=Object.create(null),r=this._entities;return function(n){n in t||(t[n]=!0,e(a(r[n])))}}addQuad(e,t,r,n){t||(n=e.graph,r=e.object,t=e.predicate,e=e.subject),e=o(e),t=o(t),r=o(r),n=o(n);var i=this._graphs[n];i||(i=this._graphs[n]={subjects:{},predicates:{},objects:{}},Object.freeze(i));var a=this._ids,s=this._entities;e=a[e]||(a[s[++this._id]=e]=this._id),t=a[t]||(a[s[++this._id]=t]=this._id),r=a[r]||(a[s[++this._id]=r]=this._id);var u=this._addToIndex(i.subjects,e,t,r);return this._addToIndex(i.predicates,t,r,e),this._addToIndex(i.objects,r,e,t),this._size=null,u}addQuads(e){for(var t=0;t<e.length;t++)this.addQuad(e[t])}import(e){var t=this;return e.on("data",function(e){t.addQuad(e)}),e}removeQuad(e,t,r,n){t||(n=e.graph,r=e.object,t=e.predicate,e=e.subject),e=o(e),t=o(t),r=o(r),n=o(n);var i,a,s,u=this._ids,c=this._graphs;if(!((e=u[e])&&(t=u[t])&&(r=u[r])&&(i=c[n])&&(a=i.subjects[e])&&(s=a[t])&&r in s))return!1;for(e in this._removeFromIndex(i.subjects,e,t,r),this._removeFromIndex(i.predicates,t,r,e),this._removeFromIndex(i.objects,r,e,t),null!==this._size&&this._size--,i.subjects)return!0;return delete c[n],!0}removeQuads(e){for(var t=0;t<e.length;t++)this.removeQuad(e[t])}remove(e){var t=this;return e.on("data",function(e){t.removeQuad(e)}),e}removeMatches(e,t,r,n){return this.remove(this.match(e,t,r,n))}deleteGraph(e){return this.removeMatches(null,null,null,e)}getQuads(e,t,r,n){e=e&&o(e),t=t&&o(t),r=r&&o(r),n=n&&o(n);var i,a,u,c,l=[],h=this._getGraphs(n),f=this._ids;if(s(e)&&!(a=f[e])||s(t)&&!(u=f[t])||s(r)&&!(c=f[r]))return l;for(var d in h)(i=h[d])&&(a?c?this._findInIndex(i.objects,c,a,u,"object","subject","predicate",d,null,l):this._findInIndex(i.subjects,a,u,null,"subject","predicate","object",d,null,l):u?this._findInIndex(i.predicates,u,c,null,"predicate","object","subject",d,null,l):c?this._findInIndex(i.objects,c,null,null,"object","subject","predicate",d,null,l):this._findInIndex(i.subjects,null,null,null,"subject","predicate","object",d,null,l));return l}match(e,t,r,n){var o=this,a=new i({objectMode:!0});return a._read=function(){a._read=function(){};var i=o.getQuads(e,t,r,n);for(var s of i)a.push(s);a.push(null)},a}countQuads(e,t,r,n){e=e&&o(e),t=t&&o(t),r=r&&o(r),n=n&&o(n);var i,a,u,c,l=0,h=this._getGraphs(n),f=this._ids;if(s(e)&&!(a=f[e])||s(t)&&!(u=f[t])||s(r)&&!(c=f[r]))return 0;for(var d in h)(i=h[d])&&(l+=e?r?this._countInIndex(i.objects,c,a,u):this._countInIndex(i.subjects,a,u,c):t?this._countInIndex(i.predicates,u,c,a):this._countInIndex(i.objects,c,a,u));return l}forEach(e,t,r,n,i){this.some(function(t){return e(t),!1},t,r,n,i)}every(e,t,r,n,i){var o=!1,a=!this.some(function(t){return o=!0,!e(t)},t,r,n,i);return o&&a}some(e,t,r,n,i){t=t&&o(t),r=r&&o(r),n=n&&o(n),i=i&&o(i);var a,u,c,l,h=this._getGraphs(i),f=this._ids;if(s(t)&&!(u=f[t])||s(r)&&!(c=f[r])||s(n)&&!(l=f[n]))return!1;for(var d in h)if(a=h[d])if(u){if(l){if(this._findInIndex(a.objects,l,u,c,"object","subject","predicate",d,e,null))return!0}else if(this._findInIndex(a.subjects,u,c,null,"subject","predicate","object",d,e,null))return!0}else if(c){if(this._findInIndex(a.predicates,c,l,null,"predicate","object","subject",d,e,null))return!0}else if(l){if(this._findInIndex(a.objects,l,null,null,"object","subject","predicate",d,e,null))return!0}else if(this._findInIndex(a.subjects,null,null,null,"subject","predicate","object",d,e,null))return!0;return!1}getSubjects(e,t,r){var n=[];return this.forSubjects(function(e){n.push(e)},e,t,r),n}forSubjects(e,t,r,n){t=t&&o(t),r=r&&o(r),n=n&&o(n);var i,a,u,c=this._ids,l=this._getGraphs(n);if(e=this._uniqueEntities(e),!(s(t)&&!(a=c[t])||s(r)&&!(u=c[r])))for(n in l)(i=l[n])&&(a?u?this._loopBy2Keys(i.predicates,a,u,e):this._loopByKey1(i.subjects,a,e):u?this._loopByKey0(i.objects,u,e):this._loop(i.subjects,e))}getPredicates(e,t,r){var n=[];return this.forPredicates(function(e){n.push(e)},e,t,r),n}forPredicates(e,t,r,n){t=t&&o(t),r=r&&o(r),n=n&&o(n);var i,a,u,c=this._ids,l=this._getGraphs(n);if(e=this._uniqueEntities(e),!(s(t)&&!(a=c[t])||s(r)&&!(u=c[r])))for(n in l)(i=l[n])&&(a?u?this._loopBy2Keys(i.objects,u,a,e):this._loopByKey0(i.subjects,a,e):u?this._loopByKey1(i.predicates,u,e):this._loop(i.predicates,e))}getObjects(e,t,r){var n=[];return this.forObjects(function(e){n.push(e)},e,t,r),n}forObjects(e,t,r,n){t=t&&o(t),r=r&&o(r),n=n&&o(n);var i,a,u,c=this._ids,l=this._getGraphs(n);if(e=this._uniqueEntities(e),!(s(t)&&!(a=c[t])||s(r)&&!(u=c[r])))for(n in l)(i=l[n])&&(a?u?this._loopBy2Keys(i.subjects,a,u,e):this._loopByKey1(i.objects,a,e):u?this._loopByKey0(i.predicates,u,e):this._loop(i.objects,e))}getGraphs(e,t,r){var n=[];return this.forGraphs(function(e){n.push(e)},e,t,r),n}forGraphs(e,t,r,n){for(var i in this._graphs)this.some(function(t){return e(t.graph),!0},t,r,n,i)}createBlankNode(e){var t,r;if(e)for(t=e="_:"+e,r=1;this._ids[t];)t=e+r++;else do{t="_:b"+this._blankNodeIndex++}while(this._ids[t]);return this._ids[t]=++this._id,this._entities[this._id]=t,this._factory.blankNode(t.substr(2))}}},function(e,t,r){e.exports=r(23)},function(e,t,r){e.exports=r(8)},function(e,t,r){e.exports=r(12).Transform},function(e,t,r){e.exports=r(12).PassThrough},function(e,t,r){var n=r(26).Transform,i=r(45);e.exports=class extends n{constructor(e){super({decodeStrings:!0}),this._readableState.objectMode=!0;var t,r,n=this;new i(e).parse({on:function(e,n){switch(e){case"data":t=n;break;case"end":r=n}}},function(e,t){e&&n.emit("error",e)||t&&n.push(t)},function(e,t){n.emit("prefix",e,t)}),this._transform=function(e,r,n){t(e),n()},this._flush=function(e){r(),e()}}import(e){var t=this;return e.on("data",function(e){t.write(e)}),e.on("end",function(){t.end()}),e.on("error",function(e){t.emit("error",e)}),this}}},function(e,t,r){var n=r(26).Transform,i=r(46);e.exports=class extends n{constructor(e){super({encoding:"utf8"}),this._writableState.objectMode=!0;var t=this,r=this._writer=new i({write:function(e,r,n){t.push(e),n&&n()},end:function(e){t.push(null),e&&e()}},e);this._transform=function(e,t,n){r.addQuad(e,n)},this._flush=function(e){r.end(e)}}import(e){var t=this;return e.on("data",function(e){t.write(e)}),e.on("end",function(){t.end()}),e.on("error",function(e){t.emit("error",e)}),e.on("prefix",function(e,r){t._writer.addPrefix(e,r)}),this}}},function(e,t,r){var n=r(15),i={isNamedNode:function(e){return!!e&&"NamedNode"===e.termType},isBlankNode:function(e){return!!e&&"BlankNode"===e.termType},isLiteral:function(e){return!!e&&"Literal"===e.termType},isVariable:function(e){return!!e&&"Variable"===e.termType},isDefaultGraph:function(e){return!!e&&"DefaultGraph"===e.termType},inDefaultGraph:function(e){return i.isDefaultGraph(e.graph)},prefix:function(e,t){return i.prefixes({"":e},t)("")},prefixes:function(e,t){var r=Object.create(null);for(var i in e)o(i,e[i]);function o(e,n){if("string"==typeof n){var i=Object.create(null);r[e]=function(e){return i[e]||(i[e]=t.namedNode(n+e))}}else if(!(e in r))throw new Error("Unknown prefix: "+e);return r[e]}return t=t||n,o}};e.exports=i},function(e,t,r){const n={join:r(47)},i=r(90),o=r(25).DataFactory;e.exports=class{constructor(e){this.factory=e||o,this.ns={RDF:"http://www.w3.org/1999/02/22-rdf-syntax-ns#",RDFS:"http://www.w3.org/2000/01/rdf-schema#"},this.nodeType={ELEMENT:1,ATTRIBUTE:2,TEXT:3,CDATA_SECTION:4,ENTITY_REFERENCE:5,ENTITY:6,PROCESSING_INSTRUCTION:7,COMMENT:8,DOCUMENT:9,DOCUMENT_TYPE:10,DOCUMENT_FRAGMENT:11,NOTATION:12},this.bnodes={},this.why=null,this.reify=!1}getAttributeNodeNS(e,t,r){var n=null;if(e.getAttributeNodeNS)n=e.getAttributeNodeNS(t,r);else for(var i,o=e.attributes,a=0;a<o.length;++a)if((i=o[a]).namespaceURI===t&&(i.prefix?i.prefix+":"+r:r)===i.nodeName){n=i;break}return n}parse(e,t,r,n){n?r=this.factory.namedNode(r):(n=r,r=this.factory.defaultGraph()),this.writeTriple=(e,t,r,i)=>{n(this.factory.quad(e,t,r,i))},this.finalize=()=>{n(null)};var o,a=e.childNodes;if(this.cleanParser(),e.nodeType===this.nodeType.DOCUMENT){for(var s=0;s<a.length;s++)if(a[s].nodeType===this.nodeType.ELEMENT){o=a[s];break}}else{if(e.nodeType!==this.nodeType.ELEMENT)throw new Error("RDFXMLProcessor: can't find root in "+t+". Halting. ");o=e}this.why=r;var u=new i(this);this.base=t,u.base=t,u.lang=null,this.parseDOM(this.buildFrame(u,o))}parseDOM(e){for(var t,r=function(e){var t="";if(null==e.namespaceURI)throw new Error("RDF/XML syntax error: No namespace for "+e.localName+" in "+this.base);return e.namespaceURI&&(t+=e.namespaceURI),e.localName?t+=e.localName:e.nodeName&&(e.nodeName.indexOf(":")>=0?t+=e.nodeName.split(":")[1]:t+=e.nodeName),t}.bind(this),i=!0;e.parent;){var o=e.element,a=o.attributes;if(o.nodeType===this.nodeType.TEXT||o.nodeType===this.nodeType.CDATA_SECTION)e.parent.nodeType===e.NODE&&(e.addArc(this.ns.RDF+"value"),e=this.buildFrame(e)),e.addLiteral(o.nodeValue);else if(r(o)!==this.ns.RDF+"RDF")if(e.parent&&e.parent.collection&&(e.addCollectionArc(),(e=this.buildFrame(e,e.element)).parent.element=null),e.parent&&e.parent.nodeType&&e.parent.nodeType!==e.ARC){e.addArc(r(o)),this.reify&&(t=this.getAttributeNodeNS(o,this.ns.RDF,"ID"))&&(e.rdfid=t.nodeValue,o.removeAttributeNode(t));var s=this.getAttributeNodeNS(o,this.ns.RDF,"parseType"),u=this.getAttributeNodeNS(o,this.ns.RDF,"datatype");if(u&&(e.datatype=u.nodeValue,o.removeAttributeNode(u)),s){var c=s.nodeValue;"Literal"===c?(e.datatype=this.ns.RDF+"XMLLiteral",(e=this.buildFrame(e)).addLiteral(o.childNodes),i=!1):"Resource"===c?((e=this.buildFrame(e,e.element)).parent.element=null,e.addBNode()):"Collection"===c&&((e=this.buildFrame(e,e.element)).parent.element=null,e.addCollection()),o.removeAttributeNode(s)}if(0!==a.length){var l=this.getAttributeNodeNS(o,this.ns.RDF,"resource"),h=this.getAttributeNodeNS(o,this.ns.RDF,"nodeID");e=this.buildFrame(e),l?(e.addNode(l.nodeValue),o.removeAttributeNode(l)):h?(e.addBNode(h.nodeValue),o.removeAttributeNode(h)):e.addBNode();for(var f=a.length-1;f>=0;f--){var d=this.buildFrame(e);d.addArc(r(a[f])),r(a[f])===this.ns.RDF+"type"?this.buildFrame(d).addNode(a[f].nodeValue):this.buildFrame(d).addLiteral(a[f].nodeValue)}}else 0===o.childNodes.length&&this.buildFrame(e).addLiteral("")}else{var p=this.getAttributeNodeNS(o,this.ns.RDF,"about");if(t=this.getAttributeNodeNS(o,this.ns.RDF,"ID"),p&&t)throw new Error("RDFXMLProcessor: "+o.nodeName+" has both rdf:id and rdf:about. Halting. Only one of these properties may be specified on a node.");if(!p&&t)e.addNode("#"+t.nodeValue),o.removeAttributeNode(t);else if(null==p&&null==t){var g=this.getAttributeNodeNS(o,this.ns.RDF,"nodeID");g?(e.addBNode(g.nodeValue),o.removeAttributeNode(g)):e.addBNode()}else e.addNode(p.nodeValue),o.removeAttributeNode(p);var y=this.getAttributeNodeNS(o,this.ns.RDF,"type");this.ns.RDF+"Description"!==r(o)&&(y={nodeValue:r(o)}),null!=y&&(this.writeTriple(e.node,this.factory.namedNode(this.ns.RDF+"type"),this.factory.namedNode(n.join(y.nodeValue,e.base)),this.why),y.nodeName&&o.removeAttributeNode(y));for(var m=a.length-1;m>=0;m--)this.writeTriple(e.node,this.factory.namedNode(r(a[m])),this.factory.literal(a[m].nodeValue,e.lang),this.why)}for(o=e.element;e.parent;){for(var v=e;null==o;)o=(e=e.parent).element;var b=o.childNodes&&o.childNodes[e.lastChild];if(b&&i){if((b.nodeType===this.nodeType.ELEMENT||b.nodeType===this.nodeType.TEXT||b.nodeType===this.nodeType.CDATA_SECTION)&&(b.nodeType!==this.nodeType.TEXT&&b.nodeType!==this.nodeType.CDATA_SECTION||1===o.childNodes.length)){e.lastChild++,e=this.buildFrame(v,o.childNodes[e.lastChild-1]);break}e.lastChild++}else{if(e.terminateFrame(),!(e=e.parent))break;o=e.element,i=!0}}}this.finalize()}cleanParser(){this.bnodes={},this.why=null}buildFrame(e,t){var r=new i(this,e,t);if(e&&(r.base=e.base,r.lang=e.lang),!t||t.nodeType===this.nodeType.TEXT||t.nodeType===this.nodeType.CDATA_SECTION)return r;var o=t.attributes,a=t.getAttributeNode("xml:base");null!=a&&(r.base=a.nodeValue,t.removeAttribute("xml:base"));var s=t.getAttributeNode("xml:lang");null!=s&&(r.lang=s.nodeValue,t.removeAttribute("xml:lang"));for(var u=o.length-1;u>=0;u--)if("xml"===o[u].nodeName.substr(0,3)){if("xmlns:"===o[u].name.slice(0,6)){var c=o[u].nodeValue;this.base&&(c=n.join(c,this.base))}t.removeAttributeNode(o[u])}return r}}},function(e,t,r){const n={join:r(47)};e.exports=class{constructor(e,t,r){this.ns=e.ns,this.NODE=1,this.ARC=2,this.parent=t,this.parser=e,this.factory=e.factory,this.element=r,this.lastChild=0,this.base=null,this.lang=null,this.node=null,this.nodeType=null,this.listIndex=1,this.rdfid=null,this.datatype=null,this.collection=!1,this.restTriple=null}terminateFrame(){this.collection&&this.parser.writeTriple(this.parser.restTriple.s,this.parser.restTriple.p,this.ns.RDF+"nil",this.parser.restTriple.g)}addSymbol(e,t){t=n.join(t,this.base),this.node=this.factory.namedNode(t),this.nodeType=e}loadTriple(){if(this.parent.parent.collection){this.parser.restTriple&&this.parser.writeTriple(this.parser.restTriple.s,this.parser.restTriple.p,this.parser.restTriple.o,this.parser.restTriple.g),this.parser.writeTriple(this.parent.parent.node,this.ns.RDF+"first",this.node,this.parser.why);var e=this.factory.blankNode();this.parser.restTriple={s:this.parent.parent.node,p:this.ns.RDF+"rest",o:e,g:this.parser.why},this.parent.parent.node=e}else this.parser.writeTriple(this.parent.parent.node,this.parent.node,this.node,this.parser.why);if(null!=this.parent.rdfid){var t=this.factory.namedNode(n.join("#"+this.parent.rdfid,this.base));this.parser.writeTriple(t,this.factory.namedNode(this.ns.RDF+"type"),this.factory.namedNode(this.ns.RDF+"Statement"),this.parser.why),this.parser.writeTriple(t,this.factory.namedNode(this.ns.RDF+"subject"),this.parent.parent.node,this.parser.why),this.parser.writeTriple(t,this.factory.namedNode(this.ns.RDF+"predicate"),this.parent.node,this.parser.why),this.parser.writeTriple(t,this.factory.namedNode(this.ns.RDF+"object"),this.node,this.parser.why)}}isTripleToLoad(){return null!=this.parent&&null!=this.parent.parent&&this.nodeType===this.NODE&&this.parent.nodeType===this.ARC&&this.parent.parent.nodeType===this.NODE}addNode(e){this.addSymbol(this.NODE,e),this.isTripleToLoad()&&this.loadTriple()}addCollection(){this.nodeType=this.NODE,this.node=this.factory.blankNode(),this.collection=!0,this.isTripleToLoad()&&this.loadTriple()}addCollectionArc(){this.nodeType=this.ARC}addBNode(e){null!=e?null!=this.parser.bnodes[e]?this.node=this.parser.bnodes[e]:this.node=this.parser.bnodes[e]=this.factory.blankNode():this.node=this.factory.blankNode(),this.nodeType=this.NODE,this.isTripleToLoad()&&this.loadTriple()}addArc(e){e===this.ns.RDF+"li"&&(e=this.ns.RDF+"_"+this.parent.listIndex,this.parent.listIndex++),this.addSymbol(this.ARC,e)}addLiteral(e){this.parent.datatype?this.node=this.factory.literal(e,"",this.parent.datatype):this.node=this.factory.literal(e,this.lang),this.nodeType=this.NODE,this.isTripleToLoad()&&this.loadTriple()}}},function(e,t,r){function n(e){this.options=e||{locator:{}}}function i(){this.cdata=!1}function o(e,t){t.lineNumber=e.lineNumber,t.columnNumber=e.columnNumber}function a(e){if(e)return"\n@"+(e.systemId||"")+"#[line:"+e.lineNumber+",col:"+e.columnNumber+"]"}function s(e,t,r){return"string"==typeof e?e.substr(t,r):e.length>=t+r||t?new java.lang.String(e,t,r)+"":e}function u(e,t){e.currentElement?e.currentElement.appendChild(t):e.doc.appendChild(t)}n.prototype.parseFromString=function(e,t){var r=this.options,n=new c,o=r.domBuilder||new i,s=r.errorHandler,u=r.locator,l=r.xmlns||{},h={lt:"<",gt:">",amp:"&",quot:'"',apos:"'"};return u&&o.setDocumentLocator(u),n.errorHandler=function(e,t,r){if(!e){if(t instanceof i)return t;e=t}var n={},o=e instanceof Function;function s(t){var i=e[t];!i&&o&&(i=2==e.length?function(r){e(t,r)}:e),n[t]=i&&function(e){i("[xmldom "+t+"]\t"+e+a(r))}||function(){}}return r=r||{},s("warning"),s("error"),s("fatalError"),n}(s,o,u),n.domBuilder=r.domBuilder||o,/\/x?html?$/.test(t)&&(h.nbsp="",h.copy="",l[""]="http://www.w3.org/1999/xhtml"),l.xml=l.xml||"http://www.w3.org/XML/1998/namespace",e?n.parse(e,l,h):n.errorHandler.error("invalid doc source"),o.doc},i.prototype={startDocument:function(){this.doc=(new l).createDocument(null,null,null),this.locator&&(this.doc.documentURI=this.locator.systemId)},startElement:function(e,t,r,n){var i=this.doc,a=i.createElementNS(e,r||t),s=n.length;u(this,a),this.currentElement=a,this.locator&&o(this.locator,a);for(var c=0;c<s;c++){e=n.getURI(c);var l=n.getValue(c),h=(r=n.getQName(c),i.createAttributeNS(e,r));this.locator&&o(n.getLocator(c),h),h.value=h.nodeValue=l,a.setAttributeNode(h)}},endElement:function(e,t,r){var n=this.currentElement;n.tagName;this.currentElement=n.parentNode},startPrefixMapping:function(e,t){},endPrefixMapping:function(e){},processingInstruction:function(e,t){var r=this.doc.createProcessingInstruction(e,t);this.locator&&o(this.locator,r),u(this,r)},ignorableWhitespace:function(e,t,r){},characters:function(e,t,r){if(e=s.apply(this,arguments)){if(this.cdata)var n=this.doc.createCDATASection(e);else n=this.doc.createTextNode(e);this.currentElement?this.currentElement.appendChild(n):/^\s*$/.test(e)&&this.doc.appendChild(n),this.locator&&o(this.locator,n)}},skippedEntity:function(e){},endDocument:function(){this.doc.normalize()},setDocumentLocator:function(e){(this.locator=e)&&(e.lineNumber=0)},comment:function(e,t,r){e=s.apply(this,arguments);var n=this.doc.createComment(e);this.locator&&o(this.locator,n),u(this,n)},startCDATA:function(){this.cdata=!0},endCDATA:function(){this.cdata=!1},startDTD:function(e,t,r){var n=this.doc.implementation;if(n&&n.createDocumentType){var i=n.createDocumentType(e,t,r);this.locator&&o(this.locator,i),u(this,i)}},warning:function(e){console.warn("[xmldom warning]\t"+e,a(this.locator))},error:function(e){console.error("[xmldom error]\t"+e,a(this.locator))},fatalError:function(e){throw console.error("[xmldom fatalError]\t"+e,a(this.locator)),e}},"endDTD,startEntity,endEntity,attributeDecl,elementDecl,externalEntityDecl,internalEntityDecl,resolveEntity,getExternalSubset,notationDecl,unparsedEntityDecl".replace(/\w+/g,function(e){i.prototype[e]=function(){return null}});var c=r(92).XMLReader,l=t.DOMImplementation=r(48).DOMImplementation;t.XMLSerializer=r(48).XMLSerializer,t.DOMParser=n},function(e,t){var r=/[A-Z_a-z\xC0-\xD6\xD8-\xF6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD]/,n=new RegExp("[\\-\\.0-9"+r.source.slice(1,-1)+"\\u00B7\\u0300-\\u036F\\u203F-\\u2040]"),i=new RegExp("^"+r.source+n.source+"*(?::"+r.source+n.source+"*)?$"),o=0,a=1,s=2,u=3,c=4,l=5,h=6,f=7;function d(){}function p(e,t){return t.lineNumber=e.lineNumber,t.columnNumber=e.columnNumber,t}function g(e,t,r,n,i,d){for(var p,g=++t,y=o;;){var m=e.charAt(g);switch(m){case"=":if(y===a)p=e.slice(t,g),y=u;else{if(y!==s)throw new Error("attribute equal must after attrName");y=u}break;case"'":case'"':if(y===u||y===a){if(y===a&&(d.warning('attribute value must after "="'),p=e.slice(t,g)),t=g+1,!((g=e.indexOf(m,t))>0))throw new Error("attribute value no end '"+m+"' match");v=e.slice(t,g).replace(/&#?\w+;/g,i),r.add(p,v,t-1),y=l}else{if(y!=c)throw new Error('attribute value must after "="');v=e.slice(t,g).replace(/&#?\w+;/g,i),r.add(p,v,t),d.warning('attribute "'+p+'" missed start quot('+m+")!!"),t=g+1,y=l}break;case"/":switch(y){case o:r.setTagName(e.slice(t,g));case l:case h:case f:y=f,r.closed=!0;case c:case a:case s:break;default:throw new Error("attribute invalid close char('/')")}break;case"":return d.error("unexpected end of input"),y==o&&r.setTagName(e.slice(t,g)),g;case">":switch(y){case o:r.setTagName(e.slice(t,g));case l:case h:case f:break;case c:case a:"/"===(v=e.slice(t,g)).slice(-1)&&(r.closed=!0,v=v.slice(0,-1));case s:y===s&&(v=p),y==c?(d.warning('attribute "'+v+'" missed quot(")!!'),r.add(p,v.replace(/&#?\w+;/g,i),t)):("http://www.w3.org/1999/xhtml"===n[""]&&v.match(/^(?:disabled|checked|selected)$/i)||d.warning('attribute "'+v+'" missed value!! "'+v+'" instead!!'),r.add(v,v,t));break;case u:throw new Error("attribute value missed!!")}return g;case"":m=" ";default:if(m<=" ")switch(y){case o:r.setTagName(e.slice(t,g)),y=h;break;case a:p=e.slice(t,g),y=s;break;case c:var v=e.slice(t,g).replace(/&#?\w+;/g,i);d.warning('attribute "'+v+'" missed quot(")!!'),r.add(p,v,t);case l:y=h}else switch(y){case s:r.tagName;"http://www.w3.org/1999/xhtml"===n[""]&&p.match(/^(?:disabled|checked|selected)$/i)||d.warning('attribute "'+p+'" missed value!! "'+p+'" instead2!!'),r.add(p,p,t),t=g,y=a;break;case l:d.warning('attribute space is required"'+p+'"!!');case h:y=a,t=g;break;case u:y=c,t=g;break;case f:throw new Error("elements closed character '/' and '>' must be connected to")}}g++}}function y(e,t,r){for(var n=e.tagName,i=null,o=e.length;o--;){var a=e[o],s=a.qName,u=a.value;if((f=s.indexOf(":"))>0)var c=a.prefix=s.slice(0,f),l=s.slice(f+1),h="xmlns"===c&&l;else l=s,c=null,h="xmlns"===s&&"";a.localName=l,!1!==h&&(null==i&&(i={},b(r,r={})),r[h]=i[h]=u,a.uri="http://www.w3.org/2000/xmlns/",t.startPrefixMapping(h,u))}for(o=e.length;o--;){(c=(a=e[o]).prefix)&&("xml"===c&&(a.uri="http://www.w3.org/XML/1998/namespace"),"xmlns"!==c&&(a.uri=r[c||""]))}var f;(f=n.indexOf(":"))>0?(c=e.prefix=n.slice(0,f),l=e.localName=n.slice(f+1)):(c=null,l=e.localName=n);var d=e.uri=r[c||""];if(t.startElement(d,l,n,e),!e.closed)return e.currentNSMap=r,e.localNSMap=i,!0;if(t.endElement(d,l,n),i)for(c in i)t.endPrefixMapping(c)}function m(e,t,r,n,i){if(/^(?:script|textarea)$/i.test(r)){var o=e.indexOf("</"+r+">",t),a=e.substring(t+1,o);if(/[&<]/.test(a))return/^script$/i.test(r)?(i.characters(a,0,a.length),o):(a=a.replace(/&#?\w+;/g,n),i.characters(a,0,a.length),o)}return t+1}function v(e,t,r,n){var i=n[r];return null==i&&((i=e.lastIndexOf("</"+r+">"))<t&&(i=e.lastIndexOf("</"+r)),n[r]=i),i<t}function b(e,t){for(var r in e)t[r]=e[r]}function w(e,t,r,n){switch(e.charAt(t+2)){case"-":return"-"===e.charAt(t+3)?(i=e.indexOf("--\x3e",t+4))>t?(r.comment(e,t+4,i-t-4),i+3):(n.error("Unclosed comment"),-1):-1;default:if("CDATA["==e.substr(t+3,6)){var i=e.indexOf("]]>",t+9);return r.startCDATA(),r.characters(e,t+9,i-t-9),r.endCDATA(),i+3}var o=function(e,t){var r,n=[],i=/'[^']+'|"[^"]+"|[^\s<>\/=]+=?|(\/?\s*>|<)/g;i.lastIndex=t,i.exec(e);for(;r=i.exec(e);)if(n.push(r),r[1])return n}(e,t),a=o.length;if(a>1&&/!doctype/i.test(o[0][0])){var s=o[1][0],u=a>3&&/^public$/i.test(o[2][0])&&o[3][0],c=a>4&&o[4][0],l=o[a-1];return r.startDTD(s,u&&u.replace(/^(['"])(.*?)\1$/,"$2"),c&&c.replace(/^(['"])(.*?)\1$/,"$2")),r.endDTD(),l.index+l[0].length}}return-1}function x(e,t,r){var n=e.indexOf("?>",t);if(n){var i=e.substring(t,n).match(/^<\?(\S*)\s*([\s\S]*?)\s*$/);if(i){i[0].length;return r.processingInstruction(i[1],i[2]),n+2}return-1}return-1}function _(e){}function I(e,t){return e.__proto__=t,e}d.prototype={parse:function(e,t,r){var n=this.domBuilder;n.startDocument(),b(t,t={}),function(e,t,r,n,i){function o(e){var t=e.slice(1,-1);return t in r?r[t]:"#"===t.charAt(0)?function(e){if(e>65535){var t=55296+((e-=65536)>>10),r=56320+(1023&e);return String.fromCharCode(t,r)}return String.fromCharCode(e)}(parseInt(t.substr(1).replace("x","0x"))):(i.error("entity not found:"+e),e)}function a(t){if(t>b){var r=e.substring(b,t).replace(/&#?\w+;/g,o);h&&s(b),n.characters(r,0,t-b),b=t}}function s(t,r){for(;t>=c&&(r=l.exec(e));)u=r.index,c=u+r[0].length,h.lineNumber++;h.columnNumber=t-u+1}var u=0,c=0,l=/.*(?:\r\n?|\n)|.*$/g,h=n.locator,f=[{currentNSMap:t}],d={},b=0;for(;;){try{var I=e.indexOf("<",b);if(I<0){if(!e.substr(b).match(/^\s*$/)){var N=n.doc,T=N.createTextNode(e.substr(b));N.appendChild(T),n.currentElement=T}return}switch(I>b&&a(I),e.charAt(I+1)){case"/":var S=e.indexOf(">",I+3),j=e.substring(I+2,S),E=f.pop();S<0?(j=e.substring(I+2).replace(/[\s<].*/,""),i.error("end tag name: "+j+" is not complete:"+E.tagName),S=I+1+j.length):j.match(/\s</)&&(j=j.replace(/[\s<].*/,""),i.error("end tag name: "+j+" maybe not complete"),S=I+1+j.length);var R=E.localNSMap,C=E.tagName==j,A=C||E.tagName&&E.tagName.toLowerCase()==j.toLowerCase();if(A){if(n.endElement(E.uri,E.localName,j),R)for(var k in R)n.endPrefixMapping(k);C||i.fatalError("end tag name: "+j+" is not match the current start tagName:"+E.tagName)}else f.push(E);S++;break;case"?":h&&s(I),S=x(e,I,n);break;case"!":h&&s(I),S=w(e,I,n,i);break;default:h&&s(I);var O=new _,D=f[f.length-1].currentNSMap,S=g(e,I,O,D,o,i),L=O.length;if(!O.closed&&v(e,S,O.tagName,d)&&(O.closed=!0,r.nbsp||i.warning("unclosed xml attribute")),h&&L){for(var M=p(h,{}),B=0;B<L;B++){var P=O[B];s(P.offset),P.locator=p(h,{})}n.locator=M,y(O,n,D)&&f.push(O),n.locator=h}else y(O,n,D)&&f.push(O);"http://www.w3.org/1999/xhtml"!==O.uri||O.closed?S++:S=m(e,S,O.tagName,o,n)}}catch(e){i.error("element parse error: "+e),S=-1}S>b?b=S:a(Math.max(I,b)+1)}}(e,t,r,n,this.errorHandler),n.endDocument()}},_.prototype={setTagName:function(e){if(!i.test(e))throw new Error("invalid tagName:"+e);this.tagName=e},add:function(e,t,r){if(!i.test(e))throw new Error("invalid attribute:"+e);this[this.length++]={qName:e,value:t,offset:r}},length:0,getLocalName:function(e){return this[e].localName},getLocator:function(e){return this[e].locator},getQName:function(e){return this[e].qName},getURI:function(e){return this[e].uri},getValue:function(e){return this[e].value}},I({},I.prototype)instanceof I||(I=function(e,t){function r(){}for(t in r.prototype=t,r=new r,e)r[t]=e[t];return r}),t.XMLReader=d},function(e,t,r){const n=r(49),i=r(32);e.exports=class{constructor(e){this.documentIRI=e.documentIRI,this.factory=e.factory||i}term(e){switch(e.termType){case"NamedNode":return i.namedNode(e.value);case"BlankNode":return i.blankNode(e.value.substr(2));case"Literal":return i.literal(e.value,e.language||i.namedNode(e.datatype.value));case"DefaultGraph":return i.defaultGraph();default:throw Error("unknown termType: "+e.termType)}}addEqualsMethodToQuad(e){return e.subject=this.term(e.subject),e.predicate=this.term(e.predicate),e.object=this.term(e.object),e.graph=this.term(e.graph),e}parse(e,t){n.toRDF(JSON.parse(e),{base:this.documentIRI},(e,r)=>{for(var n in r){var i=r[n];t(null,this.addEqualsMethodToQuad(i)),n==r.length-1&&t(null,null)}e&&t(e)})}}},function(e,t,r){"use strict";const n=r(9);e.exports=class{constructor({maxCallStackDepth:e=500,maxTotalCallStackDepth:t=4294967295,timeSlice:r=10}={}){this.schedule={},this.schedule.MAX_DEPTH=e,this.schedule.MAX_TOTAL_DEPTH=t,this.schedule.depth=0,this.schedule.totalDepth=0,this.schedule.timeSlice=r}doWork(e,t){const r=this.schedule;if(r.totalDepth>=r.MAX_TOTAL_DEPTH)return t(new Error("Maximum total call stack depth exceeded; canonicalization aborting."));!function i(){if(r.depth===r.MAX_DEPTH)return r.depth=0,r.running=!1,n.nextTick(i);const o=Date.now();if(r.running||(r.start=Date.now(),r.deadline=r.start+r.timeSlice),o<r.deadline)return r.running=!0,r.depth++,r.totalDepth++,e((e,n)=>{r.depth--,r.totalDepth--,t(e,n)});r.depth=0,r.running=!1,n.setImmediate(i)}()}forEach(e,t,r){const n=this;let i,o,a=0;if(Array.isArray(e))o=e.length,i=()=>a!==o&&(i.value=e[a++],i.key=a,!0);else{const t=Object.keys(e);o=t.length,i=()=>a!==o&&(i.key=t[a++],i.value=e[i.key],!0)}!function e(o){return o?r(o):i()?n.doWork(()=>t(i.value,i.key,e)):void r()}()}waterfall(e,t){const r=this;r.forEach(e,(e,t,n)=>r.doWork(e,n),t)}whilst(e,t,r){const n=this;!function i(o){return o?r(o):e()?void n.doWork(t,i):r()}()}}},function(e,t,r){var n=r(16);r(29),r(52);var i=e.exports=n.sha1=n.sha1||{};n.md.sha1=n.md.algorithms.sha1=i,i.create=function(){a||(o=String.fromCharCode(128),o+=n.util.fillString(String.fromCharCode(0),64),a=!0);var e=null,t=n.util.createBuffer(),r=new Array(80),i={algorithm:"sha1",blockLength:64,digestLength:20,messageLength:0,fullMessageLength:null,messageLengthSize:8,start:function(){i.messageLength=0,i.fullMessageLength=i.messageLength64=[];for(var r=i.messageLengthSize/4,o=0;o<r;++o)i.fullMessageLength.push(0);return t=n.util.createBuffer(),e={h0:1732584193,h1:4023233417,h2:2562383102,h3:271733878,h4:3285377520},i}};return i.start(),i.update=function(o,a){"utf8"===a&&(o=n.util.encodeUtf8(o));var u=o.length;i.messageLength+=u,u=[u/4294967296>>>0,u>>>0];for(var c=i.fullMessageLength.length-1;c>=0;--c)i.fullMessageLength[c]+=u[1],u[1]=u[0]+(i.fullMessageLength[c]/4294967296>>>0),i.fullMessageLength[c]=i.fullMessageLength[c]>>>0,u[0]=u[1]/4294967296>>>0;return t.putBytes(o),s(e,r,t),(t.read>2048||0===t.length())&&t.compact(),i},i.digest=function(){var a=n.util.createBuffer();a.putBytes(t.bytes());var u,c=i.fullMessageLength[i.fullMessageLength.length-1]+i.messageLengthSize&i.blockLength-1;a.putBytes(o.substr(0,i.blockLength-c));for(var l=8*i.fullMessageLength[0],h=0;h<i.fullMessageLength.length-1;++h)l+=(u=8*i.fullMessageLength[h+1])/4294967296>>>0,a.putInt32(l>>>0),l=u>>>0;a.putInt32(l);var f={h0:e.h0,h1:e.h1,h2:e.h2,h3:e.h3,h4:e.h4};s(f,r,a);var d=n.util.createBuffer();return d.putInt32(f.h0),d.putInt32(f.h1),d.putInt32(f.h2),d.putInt32(f.h3),d.putInt32(f.h4),d},i};var o=null,a=!1;function s(e,t,r){for(var n,i,o,a,s,u,c,l=r.length();l>=64;){for(i=e.h0,o=e.h1,a=e.h2,s=e.h3,u=e.h4,c=0;c<16;++c)n=r.getInt32(),t[c]=n,n=(i<<5|i>>>27)+(s^o&(a^s))+u+1518500249+n,u=s,s=a,a=(o<<30|o>>>2)>>>0,o=i,i=n;for(;c<20;++c)n=(n=t[c-3]^t[c-8]^t[c-14]^t[c-16])<<1|n>>>31,t[c]=n,n=(i<<5|i>>>27)+(s^o&(a^s))+u+1518500249+n,u=s,s=a,a=(o<<30|o>>>2)>>>0,o=i,i=n;for(;c<32;++c)n=(n=t[c-3]^t[c-8]^t[c-14]^t[c-16])<<1|n>>>31,t[c]=n,n=(i<<5|i>>>27)+(o^a^s)+u+1859775393+n,u=s,s=a,a=(o<<30|o>>>2)>>>0,o=i,i=n;for(;c<40;++c)n=(n=t[c-6]^t[c-16]^t[c-28]^t[c-32])<<2|n>>>30,t[c]=n,n=(i<<5|i>>>27)+(o^a^s)+u+1859775393+n,u=s,s=a,a=(o<<30|o>>>2)>>>0,o=i,i=n;for(;c<60;++c)n=(n=t[c-6]^t[c-16]^t[c-28]^t[c-32])<<2|n>>>30,t[c]=n,n=(i<<5|i>>>27)+(o&a|s&(o^a))+u+2400959708+n,u=s,s=a,a=(o<<30|o>>>2)>>>0,o=i,i=n;for(;c<80;++c)n=(n=t[c-6]^t[c-16]^t[c-28]^t[c-32])<<2|n>>>30,t[c]=n,n=(i<<5|i>>>27)+(o^a^s)+u+3395469782+n,u=s,s=a,a=(o<<30|o>>>2)>>>0,o=i,i=n;e.h0=e.h0+i|0,e.h1=e.h1+o|0,e.h2=e.h2+a|0,e.h3=e.h3+s|0,e.h4=e.h4+u|0,l-=64}}},function(e,t,r){(function(t){var r={};e.exports=r;var n={};r.encode=function(e,t,r){if("string"!=typeof t)throw new TypeError('"alphabet" must be a string.');if(void 0!==r&&"number"!=typeof r)throw new TypeError('"maxline" must be a number.');var n="";if(e instanceof Uint8Array){var i=0,o=t.length,a=t.charAt(0),s=[0];for(i=0;i<e.length;++i){for(var u=0,c=e[i];u<s.length;++u)c+=s[u]<<8,s[u]=c%o,c=c/o|0;for(;c>0;)s.push(c%o),c=c/o|0}for(i=0;0===e[i]&&i<e.length-1;++i)n+=a;for(i=s.length-1;i>=0;--i)n+=t[s[i]]}else n=function(e,t){var r=0,n=t.length,i=t.charAt(0),o=[0];for(r=0;r<e.length();++r){for(var a=0,s=e.at(r);a<o.length;++a)s+=o[a]<<8,o[a]=s%n,s=s/n|0;for(;s>0;)o.push(s%n),s=s/n|0}var u="";for(r=0;0===e.at(r)&&r<e.length()-1;++r)u+=i;for(r=o.length-1;r>=0;--r)u+=t[o[r]];return u}(e,t);if(r){var l=new RegExp(".{1,"+r+"}","g");n=n.match(l).join("\r\n")}return n},r.decode=function(e,r){if("string"!=typeof e)throw new TypeError('"input" must be a string.');if("string"!=typeof r)throw new TypeError('"alphabet" must be a string.');var i=n[r];if(!i){i=n[r]=[];for(var o=0;o<r.length;++o)i[r.charCodeAt(o)]=o}e=e.replace(/\s/g,"");var a=r.length,s=r.charAt(0),u=[0];for(o=0;o<e.length;o++){var c=i[e.charCodeAt(o)];if(void 0===c)return;for(var l=0,h=c;l<u.length;++l)h+=u[l]*a,u[l]=255&h,h>>=8;for(;h>0;)u.push(255&h),h>>=8}for(var f=0;e[f]===s&&f<e.length-1;++f)u.push(0);return void 0!==t?t.from(u.reverse()):new Uint8Array(u.reverse())}}).call(this,r(6).Buffer)},function(e,t,r){var n=r(16);r(29),r(52);var i=e.exports=n.sha256=n.sha256||{};n.md.sha256=n.md.algorithms.sha256=i,i.create=function(){a||(o=String.fromCharCode(128),o+=n.util.fillString(String.fromCharCode(0),64),s=[1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298],a=!0);var e=null,t=n.util.createBuffer(),r=new Array(64),i={algorithm:"sha256",blockLength:64,digestLength:32,messageLength:0,fullMessageLength:null,messageLengthSize:8,start:function(){i.messageLength=0,i.fullMessageLength=i.messageLength64=[];for(var r=i.messageLengthSize/4,o=0;o<r;++o)i.fullMessageLength.push(0);return t=n.util.createBuffer(),e={h0:1779033703,h1:3144134277,h2:1013904242,h3:2773480762,h4:1359893119,h5:2600822924,h6:528734635,h7:1541459225},i}};return i.start(),i.update=function(o,a){"utf8"===a&&(o=n.util.encodeUtf8(o));var s=o.length;i.messageLength+=s,s=[s/4294967296>>>0,s>>>0];for(var c=i.fullMessageLength.length-1;c>=0;--c)i.fullMessageLength[c]+=s[1],s[1]=s[0]+(i.fullMessageLength[c]/4294967296>>>0),i.fullMessageLength[c]=i.fullMessageLength[c]>>>0,s[0]=s[1]/4294967296>>>0;return t.putBytes(o),u(e,r,t),(t.read>2048||0===t.length())&&t.compact(),i},i.digest=function(){var a=n.util.createBuffer();a.putBytes(t.bytes());var s,c=i.fullMessageLength[i.fullMessageLength.length-1]+i.messageLengthSize&i.blockLength-1;a.putBytes(o.substr(0,i.blockLength-c));for(var l=8*i.fullMessageLength[0],h=0;h<i.fullMessageLength.length-1;++h)l+=(s=8*i.fullMessageLength[h+1])/4294967296>>>0,a.putInt32(l>>>0),l=s>>>0;a.putInt32(l);var f={h0:e.h0,h1:e.h1,h2:e.h2,h3:e.h3,h4:e.h4,h5:e.h5,h6:e.h6,h7:e.h7};u(f,r,a);var d=n.util.createBuffer();return d.putInt32(f.h0),d.putInt32(f.h1),d.putInt32(f.h2),d.putInt32(f.h3),d.putInt32(f.h4),d.putInt32(f.h5),d.putInt32(f.h6),d.putInt32(f.h7),d},i};var o=null,a=!1,s=null;function u(e,t,r){for(var n,i,o,a,u,c,l,h,f,d,p,g,y,m=r.length();m>=64;){for(u=0;u<16;++u)t[u]=r.getInt32();for(;u<64;++u)n=((n=t[u-2])>>>17|n<<15)^(n>>>19|n<<13)^n>>>10,i=((i=t[u-15])>>>7|i<<25)^(i>>>18|i<<14)^i>>>3,t[u]=n+t[u-7]+i+t[u-16]|0;for(c=e.h0,l=e.h1,h=e.h2,f=e.h3,d=e.h4,p=e.h5,g=e.h6,y=e.h7,u=0;u<64;++u)o=(c>>>2|c<<30)^(c>>>13|c<<19)^(c>>>22|c<<10),a=c&l|h&(c^l),n=y+((d>>>6|d<<26)^(d>>>11|d<<21)^(d>>>25|d<<7))+(g^d&(p^g))+s[u]+t[u],y=g,g=p,p=d,d=f+n>>>0,f=h,h=l,l=c,c=n+(i=o+a)>>>0;e.h0=e.h0+c|0,e.h1=e.h1+l|0,e.h2=e.h2+h|0,e.h3=e.h3+f|0,e.h4=e.h4+d|0,e.h5=e.h5+p|0,e.h6=e.h6+g|0,e.h7=e.h7+y|0,m-=64}}},function(e,t,r){"use strict";const n=r(50),i=r(9);e.exports=class extends n{constructor(e){super(e),this.name="URGNA2012",this.hashAlgorithm="sha1"}modifyFirstDegreeComponent(e,t,r){return"BlankNode"!==t.termType?t:((t=i.clone(t)).value="name"===r?"_:g":t.value===e?"_:a":"_:z",t)}getRelatedPredicate(e){return e.predicate.value}createHashToRelated(e,t,r){const n=this,i={},o=n.blankNodeInfo[e].quads;n.forEach(o,(r,o,a)=>{let s,u;if("BlankNode"===r.subject.termType&&r.subject.value!==e)u=r.subject.value,s="p";else{if("BlankNode"!==r.object.termType||r.object.value===e)return a();u=r.object.value,s="r"}n.hashRelatedBlankNode(u,r,t,s,(e,t)=>{if(e)return a(e);t in i?i[t].push(u):i[t]=[u],a()})},e=>r(e,i))}}},function(e,t,r){"use strict";const n=r(54),i=r(9);e.exports=class extends n{constructor(){super(),this.name="URGNA2012",this.hashAlgorithm="sha1"}modifyFirstDegreeComponent(e,t,r){return"BlankNode"!==t.termType?t:((t=i.clone(t)).value="name"===r?"_:g":t.value===e?"_:a":"_:z",t)}getRelatedPredicate(e){return e.predicate.value}createHashToRelated(e,t){const r=this,n={},i=r.blankNodeInfo[e].quads;for(let o=0;o<i.length;++o){const a=i[o];let s,u;if("BlankNode"===a.subject.termType&&a.subject.value!==e)u=a.subject.value,s="p";else{if("BlankNode"!==a.object.termType||a.object.value===e)continue;u=a.object.value,s="r"}const c=r.hashRelatedBlankNode(u,a,t,s);c in n?n[c].push(u):n[c]=[u]}return n}}},function(e,t){},function(e,t,r){"use strict";e.exports=r(27).NQuads},function(e,t,r){"use strict";const{RDF_LANGSTRING:n,RDF_PLAIN_LITERAL:i,RDF_OBJECT:o,RDF_XML_LITERAL:a,XSD_STRING:s}=r(17);let u;function c(){return"undefined"==typeof XMLSerializer?r(103).XMLSerializer:XMLSerializer}u="undefined"!=typeof Node?Node:{ELEMENT_NODE:1,ATTRIBUTE_NODE:2,TEXT_NODE:3,CDATA_SECTION_NODE:4,ENTITY_REFERENCE_NODE:5,ENTITY_NODE:6,PROCESSING_INSTRUCTION_NODE:7,COMMENT_NODE:8,DOCUMENT_NODE:9,DOCUMENT_TYPE_NODE:10,DOCUMENT_FRAGMENT_NODE:11,NOTATION_NODE:12},e.exports=class{parse(e){const t={"@default":[]},r=e.getSubjects();for(let l=0;l<r.length;++l){const h=r[l];if(null===h)continue;const f=e.getSubjectTriples(h);if(null===f)continue;const d=f.predicates;for(const e in d){const r=d[e].objects;for(let l=0;l<r.length;++l){const f=r[l],d={};0===h.indexOf("_:")?d.subject={type:"blank node",value:h}:d.subject={type:"IRI",value:h},0===e.indexOf("_:")?d.predicate={type:"blank node",value:e}:d.predicate={type:"IRI",value:e};let p=f.value;if(f.type===a){const e=new(c());p="";for(let t=0;t<f.value.length;t++)f.value[t].nodeType===u.ELEMENT_NODE?p+=e.serializeToString(f.value[t]):f.value[t].nodeType===u.TEXT_NODE&&(p+=f.value[t].nodeValue)}d.object={},f.type===o?0===f.value.indexOf("_:")?d.object.type="blank node":d.object.type="IRI":(d.object.type="literal",f.type===i?f.language?(d.object.datatype=n,d.object.language=f.language):d.object.datatype=s:d.object.datatype=f.type),d.object.value=p,t["@default"].push(d)}}}return t}}},function(e,t){},function(e,t,r){"use strict";const n=r(5),{isArray:i,isObject:o,isEmptyObject:a,isString:s,isUndefined:u}=r(3),{isList:c,isValue:l,isGraph:h}=r(4),{expandIri:f,getContextValue:d,isKeyword:p,process:g}=r(10),{isAbsolute:y}=r(18),{addValue:m,asArray:v,getValues:b,validateTypeValue:w}=r(1),x={};function _(e,t,r){const o=[],a=Object.keys(t).sort();for(const u of a){const a=f(e,u,{vocab:!0},r);let c=t[u];i(c)||(c=[c]);for(const e of c){if(null===e)continue;if(!s(e))throw new n("Invalid JSON-LD syntax; language map values must be strings.","jsonld.SyntaxError",{code:"invalid language map value",languageMap:t});const r={"@value":e};"@none"!==a&&(r["@language"]=u.toLowerCase()),o.push(r)}}return o}function I({activeCtx:e,options:t,activeProperty:r,value:n,expansionMap:o,asGraph:a,indexKey:s}){const c=[],l=Object.keys(n).sort(),p="@type"===s;for(let y of l){if(p){const r=d(e,y,"@context");u(r)||(e=g({activeCtx:e,localCtx:r,isTypeScopedContext:!0,options:t}))}let l=n[y];i(l)||(l=[l]);const m=f(e,y,{vocab:!0},t);"@id"===s?y=f(e,y,{base:!0},t):p&&(y=m),l=x.expand({activeCtx:e,activeProperty:r,element:l,options:t,insideList:!1,insideIndex:!0,expansionMap:o});for(let e of l)a&&!h(e)&&(e={"@graph":[e]}),"@type"===s?"@none"===m||(e["@type"]?e["@type"]=[y].concat(e["@type"]):e["@type"]=[y]):"@none"===m||s in e||(e[s]=y),c.push(e)}return c}e.exports=x,x.expand=({activeCtx:e,activeProperty:t=null,element:r,options:N={},insideList:T=!1,insideIndex:S=!1,typeScopedContext:j=null,expansionMap:E=(()=>void 0)})=>{if(null==r)return null;if("@default"===t&&(N=Object.assign({},N,{isFrame:!1})),!i(r)&&!o(r)){if(!T&&(null===t||"@graph"===f(e,t,{vocab:!0},N))){const n=E({unmappedValue:r,activeCtx:e,activeProperty:t,options:N,insideList:T});return void 0===n?null:n}return function({activeCtx:e,activeProperty:t,value:r,options:n}){if(null==r)return null;const i=f(e,t,{vocab:!0},n);if("@id"===i)return f(e,r,{base:!0},n);if("@type"===i)return f(e,r,{vocab:!0,base:!0},n);const o=d(e,t,"@type");if(("@id"===o||"@graph"===i)&&s(r))return{"@id":f(e,r,{base:!0},n)};if("@vocab"===o&&s(r))return{"@id":f(e,r,{vocab:!0,base:!0},n)};if(p(i))return r;const a={};if(o&&!["@id","@vocab"].includes(o))a["@type"]=o;else if(s(r)){const r=d(e,t,"@language");null!==r&&(a["@language"]=r)}["boolean","number","string"].includes(typeof r)||(r=r.toString());return a["@value"]=r,a}({activeCtx:e,activeProperty:t,value:r,options:N})}if(i(r)){let o=[];const a=d(e,t,"@container")||[];T=T||a.includes("@list");for(let a=0;a<r.length;++a){let s=x.expand({activeCtx:e,activeProperty:t,element:r[a],options:N,expansionMap:E,insideIndex:S,typeScopedContext:j});if(T&&(i(s)||c(s)))throw new n("Invalid JSON-LD syntax; lists of lists are not permitted.","jsonld.SyntaxError",{code:"list of lists"});null===s&&void 0===(s=E({unmappedValue:r[a],activeCtx:e,activeProperty:t,parent:r,index:a,options:N,expandedParent:o,insideList:T}))||(i(s)?o=o.concat(s):o.push(s))}return o}const R=f(e,t,{vocab:!0},N);j=j||(e.previousContext?e:null);let C=Object.keys(r).sort(),A=!S;if(A&&j&&C.length<=2&&!C.includes("@context"))for(const t of C){const r=f(j,t,{vocab:!0},N);if("@value"===r){A=!1,e=j;break}if("@id"===r&&1===C.length){A=!1;break}}A&&(e=e.revertTypeScopedContext()),"@context"in r&&(e=g({activeCtx:e,localCtx:r["@context"],options:N}));for(const t of C){if("@type"===f(e,t,{vocab:!0},N)){const n=r[t],i=Array.isArray(n)?n.length>1?n.slice().sort():n:[n];for(const t of i){const r=d(e.previousContext||e,t,"@context");u(r)||(e=g({activeCtx:e,localCtx:r,options:N,isTypeScopedContext:!0}))}}}let k={};!function e({activeCtx:t,activeProperty:r,expandedActiveProperty:b,element:N,expandedParent:T,options:S={},insideList:j,expansionMap:E}){const R=Object.keys(N).sort();const C=[];for(const e of R){let R,A=N[e];if("@context"===e)continue;let k=f(t,e,{vocab:!0},S);if((null===k||!y(k)&&!p(k))&&void 0===(k=E({unmappedProperty:e,activeCtx:t,activeProperty:r,parent:N,options:S,insideList:j,value:A,expandedParent:T})))continue;if(p(k)){if("@reverse"===b)throw new n("Invalid JSON-LD syntax; a keyword cannot be used as a @reverse property.","jsonld.SyntaxError",{code:"invalid reverse property map",value:A});if(k in T)throw new n("Invalid JSON-LD syntax; colliding keywords detected.","jsonld.SyntaxError",{code:"colliding keywords",keyword:k})}if("@id"===k){if(!s(A)){if(!S.isFrame)throw new n('Invalid JSON-LD syntax; "@id" value must a string.',"jsonld.SyntaxError",{code:"invalid @id value",value:A});if(o(A)){if(!a(A))throw new n('Invalid JSON-LD syntax; "@id" value an empty object or array of strings, if framing',"jsonld.SyntaxError",{code:"invalid @id value",value:A})}else{if(!i(A))throw new n('Invalid JSON-LD syntax; "@id" value an empty object or array of strings, if framing',"jsonld.SyntaxError",{code:"invalid @id value",value:A});if(!A.every(e=>s(e)))throw new n('Invalid JSON-LD syntax; "@id" value an empty object or array of strings, if framing',"jsonld.SyntaxError",{code:"invalid @id value",value:A})}}m(T,"@id",v(A).map(e=>s(e)?f(t,e,{base:!0},S):e),{propertyIsArray:S.isFrame});continue}if("@type"===k){w(A),m(T,"@type",v(A).map(e=>s(e)?f(t.previousContext||t,e,{base:!0,vocab:!0},S):e),{propertyIsArray:S.isFrame});continue}if("@graph"===k&&!o(A)&&!i(A))throw new n('Invalid JSON-LD syntax; "@graph" value must not be an object or an array.',"jsonld.SyntaxError",{code:"invalid @graph value",value:A});if("@value"===k){if((o(A)||i(A))&&!S.isFrame)throw new n('Invalid JSON-LD syntax; "@value" value must not be an object or an array.',"jsonld.SyntaxError",{code:"invalid value object value",value:A});m(T,"@value",A,{propertyIsArray:S.isFrame});continue}if("@language"===k){if(null===A)continue;if(!s(A)&&!S.isFrame)throw new n('Invalid JSON-LD syntax; "@language" value must be a string.',"jsonld.SyntaxError",{code:"invalid language-tagged string",value:A});A=v(A).map(e=>s(e)?e.toLowerCase():e),m(T,"@language",A,{propertyIsArray:S.isFrame});continue}if("@index"===k){if(!s(A))throw new n('Invalid JSON-LD syntax; "@index" value must be a string.',"jsonld.SyntaxError",{code:"invalid @index value",value:A});m(T,"@index",A);continue}if("@reverse"===k){if(!o(A))throw new n('Invalid JSON-LD syntax; "@reverse" value must be an object.',"jsonld.SyntaxError",{code:"invalid @reverse value",value:A});if("@reverse"in(R=x.expand({activeCtx:t,activeProperty:"@reverse",element:A,options:S,expansionMap:E})))for(const e in R["@reverse"])m(T,e,R["@reverse"][e],{propertyIsArray:!0});let e=T["@reverse"]||null;for(const t in R){if("@reverse"===t)continue;null===e&&(e=T["@reverse"]={}),m(e,t,[],{propertyIsArray:!0});const r=R[t];for(let i=0;i<r.length;++i){const o=r[i];if(l(o)||c(o))throw new n('Invalid JSON-LD syntax; "@reverse" value must not be a @value or an @list.',"jsonld.SyntaxError",{code:"invalid reverse property value",value:R});m(e,t,o,{propertyIsArray:!0})}}continue}if("@nest"===k){C.push(e);continue}let O=t;const D=d(t,e,"@context");u(D)||(O=g({activeCtx:t,localCtx:D,isPropertyTermScopedContext:!0,options:S}));const L=d(O,e,"@container")||[];if(L.includes("@language")&&o(A))R=_(O,A,S);else if(L.includes("@index")&&o(A)){const t=L.includes("@graph");R=I({activeCtx:O,options:S,activeProperty:e,value:A,expansionMap:E,asGraph:t,indexKey:"@index"})}else if(L.includes("@id")&&o(A)){const t=L.includes("@graph");R=I({activeCtx:O,options:S,activeProperty:e,value:A,expansionMap:E,asGraph:t,indexKey:"@id"})}else if(L.includes("@type")&&o(A))R=I({activeCtx:O.revertTypeScopedContext(),options:S,activeProperty:e,value:A,expansionMap:E,asGraph:!1,indexKey:"@type"});else{const t="@list"===k;if(t||"@set"===k){let e=r;if(t&&"@graph"===b&&(e=null),R=x.expand({activeCtx:O,activeProperty:e,element:A,options:S,insideList:t,expansionMap:E}),t&&c(R))throw new n("Invalid JSON-LD syntax; lists of lists are not permitted.","jsonld.SyntaxError",{code:"list of lists"})}else R=x.expand({activeCtx:O,activeProperty:e,element:A,options:S,insideList:!1,expansionMap:E})}if(null===R&&"@value"!==k&&void 0===(R=E({unmappedValue:A,expandedProperty:k,activeCtx:O,activeProperty:r,parent:N,options:S,insideList:j,key:e,expandedParent:T})))continue;if("@list"!==k&&!c(R)&&L.includes("@list")&&(R={"@list":v(R)}),L.includes("@graph")&&!L.some(e=>"@id"===e||"@index"===e)&&(R=v(R).map(e=>h(e)?e:{"@graph":v(e)})),O.mappings.has(e)&&O.mappings.get(e).reverse){const e=T["@reverse"]=T["@reverse"]||{};R=v(R);for(let t=0;t<R.length;++t){const r=R[t];if(l(r)||c(r))throw new n('Invalid JSON-LD syntax; "@reverse" value must not be a @value or an @list.',"jsonld.SyntaxError",{code:"invalid reverse property value",value:R});m(e,k,r,{propertyIsArray:!0})}continue}const M=!["@index","@id","@type","@value","@language"].includes(k);m(T,k,R,{propertyIsArray:M})}for(const a of C){const s=i(N[a])?N[a]:[N[a]];for(const i of s){if(!o(i)||Object.keys(i).some(e=>"@value"===f(t,e,{vocab:!0},S)))throw new n("Invalid JSON-LD syntax; nested value must be a node object.","jsonld.SyntaxError",{code:"invalid @nest value",value:i});e({activeCtx:t,activeProperty:r,expandedActiveProperty:b,element:i,expandedParent:T,options:S,insideList:j,expansionMap:E})}}}({activeCtx:e,activeProperty:t,expandedActiveProperty:R,element:r,expandedParent:k,options:N,insideList:T,typeScopedContext:j,expansionMap:E});let O=(C=Object.keys(k)).length;if("@value"in k){if("@type"in k&&"@language"in k)throw new n('Invalid JSON-LD syntax; an element containing "@value" may not contain both "@type" and "@language".',"jsonld.SyntaxError",{code:"invalid value object",element:k});let i=O-1;if("@type"in k&&(i-=1),"@index"in k&&(i-=1),"@language"in k&&(i-=1),0!==i)throw new n('Invalid JSON-LD syntax; an element containing "@value" may only have an "@index" property and at most one other property which can be "@type" or "@language".',"jsonld.SyntaxError",{code:"invalid value object",element:k});const o=null===k["@value"]?[]:v(k["@value"]),u=b(k,"@type");if(0===o.length){const n=E({unmappedValue:k,activeCtx:e,activeProperty:t,element:r,options:N,insideList:T});k=void 0!==n?n:null}else{if(!o.every(e=>s(e)||a(e))&&"@language"in k)throw new n("Invalid JSON-LD syntax; only strings may be language-tagged.","jsonld.SyntaxError",{code:"invalid language-tagged value",element:k});if(!u.every(e=>y(e)&&!(s(e)&&0===e.indexOf("_:"))||a(e)))throw new n('Invalid JSON-LD syntax; an element containing "@value" and "@type" must have an absolute IRI for the value of "@type".',"jsonld.SyntaxError",{code:"invalid typed value",element:k})}}else if("@type"in k&&!i(k["@type"]))k["@type"]=[k["@type"]];else if("@set"in k||"@list"in k){if(O>1&&!(2===O&&"@index"in k))throw new n('Invalid JSON-LD syntax; if an element has the property "@set" or "@list", then it can have at most one other property that is "@index".',"jsonld.SyntaxError",{code:"invalid set or list object",element:k});"@set"in k&&(k=k["@set"],O=(C=Object.keys(k)).length)}else if(1===O&&"@language"in k){const n=E(k,{unmappedValue:k,activeCtx:e,activeProperty:t,element:r,options:N,insideList:T});k=void 0!==n?n:null}if(o(k)&&!N.keepFreeFloatingNodes&&!T&&(null===t||"@graph"===R)&&(0===O||"@value"in k||"@list"in k||1===O&&"@id"in k)){const n=E({unmappedValue:k,activeCtx:e,activeProperty:t,element:r,options:N,insideList:T});k=void 0!==n?n:null}return k}},function(e,t,r){"use strict";const{clone:n}=r(1);e.exports=class{constructor(e=100){this.order=[],this.cache=new Map,this.size=e}get(e,t){const r=this.cache.get(e);if(r){const e=JSON.stringify(t);return r.get(e)||null}return null}set(e,t,r){if(this.order.length===this.size){const e=this.order.shift();this.cache.get(e.activeCtx).delete(e.localCtx)}const i=JSON.stringify(t);this.order.push({activeCtx:e,localCtx:i});let o=this.cache.get(e);o||(o=new Map,this.cache.set(e,o)),o.set(i,n(r))}}},function(e,t,r){"use strict";const{isSubjectReference:n}=r(4),{createMergedNodeMap:i}=r(22),o={};e.exports=o,o.flatten=e=>{const t=i(e),r=[],o=Object.keys(t).sort();for(let e=0;e<o.length;++e){const i=t[o[e]];n(i)||r.push(i)}return r}},function(e,t,r){"use strict";const n=r(4),i=r(3),o=r(1),{RDF_LIST:a,RDF_FIRST:s,RDF_REST:u,RDF_NIL:c,RDF_TYPE:l,XSD_BOOLEAN:h,XSD_DOUBLE:f,XSD_INTEGER:d,XSD_STRING:p}=r(17),g={};function y(e,t){if(e.termType.endsWith("Node"))return{"@id":e.value};const r={"@value":e.value};if(e.language)r["@language"]=e.language;else{let n=e.datatype.value;if(n||(n=p),t){if(n===h)"true"===r["@value"]?r["@value"]=!0:"false"===r["@value"]&&(r["@value"]=!1);else if(i.isNumeric(r["@value"]))if(n===d){const e=parseInt(r["@value"],10);e.toFixed(0)===r["@value"]&&(r["@value"]=e)}else n===f&&(r["@value"]=parseFloat(r["@value"]));[h,d,f,p].includes(n)||(r["@type"]=n)}else n!==p&&(r["@type"]=n)}return r}e.exports=g,g.fromRDF=async(e,{useRdfType:t=!1,useNativeTypes:r=!1})=>{const h={},f={"@default":h},d={};for(const n of e){const e="DefaultGraph"===n.graph.termType?"@default":n.graph.value;e in f||(f[e]={}),"@default"===e||e in h||(h[e]={"@id":e});const i=f[e],a=n.subject.value,s=n.predicate.value,u=n.object;a in i||(i[a]={"@id":a});const p=i[a],g=u.termType.endsWith("Node");if(!g||u.value in i||(i[u.value]={"@id":u.value}),s===l&&!t&&g){o.addValue(p,"@type",u.value,{propertyIsArray:!0});continue}const m=y(u,r);if(o.addValue(p,s,m,{propertyIsArray:!0}),g)if(u.value===c){const e=i[u.value];"usages"in e||(e.usages=[]),e.usages.push({node:p,property:s,value:m})}else u.value in d?d[u.value]=!1:d[u.value]={node:p,property:s,value:m}}for(const e in f){const t=f[e];if(!(c in t))continue;const r=t[c];if(r.usages){for(let e of r.usages){let r=e.node,o=e.property,l=e.value;const h=[],f=[];let p=Object.keys(r).length;for(;o===u&&i.isObject(d[r["@id"]])&&i.isArray(r[s])&&1===r[s].length&&i.isArray(r[u])&&1===r[u].length&&(3===p||4===p&&i.isArray(r["@type"])&&1===r["@type"].length&&r["@type"][0]===a)&&(h.push(r[s][0]),f.push(r["@id"]),r=(e=d[r["@id"]]).node,o=e.property,l=e.value,p=Object.keys(r).length,n.isBlankNode(r)););if(o===s){if(r["@id"]===c)continue;u in t[l["@id"]]&&(l=t[l["@id"]][u][0]),h.pop(),f.pop()}delete l["@id"],l["@list"]=h.reverse();for(const e of f)delete t[e]}delete r.usages}}const p=[],g=Object.keys(h).sort();for(const e of g){const t=h[e];if(e in f){const r=t["@graph"]=[],i=f[e],o=Object.keys(i).sort();for(const e of o){const t=i[e];n.isSubjectReference(t)||r.push(t)}}n.isSubjectReference(t)||p.push(t)}return p}},function(e,t,r){"use strict";const{createNodeMap:n}=r(22),{isKeyword:i}=r(10),o=r(4),a=r(3),s=r(1),{RDF_FIRST:u,RDF_REST:c,RDF_NIL:l,RDF_TYPE:h,RDF_LANGSTRING:f,XSD_BOOLEAN:d,XSD_DOUBLE:p,XSD_INTEGER:g,XSD_STRING:y}=r(17),{isAbsolute:m}=r(18),v={};function b(e,t,r,n,a){const s=Object.keys(t).sort();for(let u=0;u<s.length;++u){const c=s[u],l=t[c],f=Object.keys(l).sort();for(let t of f){const s=l[t];if("@type"===t)t=h;else if(i(t))continue;for(const i of s){const s={termType:c.startsWith("_:")?"BlankNode":"NamedNode",value:c};if(!m(c))continue;const u={termType:t.startsWith("_:")?"BlankNode":"NamedNode",value:t};if(m(t)&&("BlankNode"!==u.termType||a.produceGeneralizedRdf))if(o.isList(i))w(i["@list"],n,s,u,e,r);else{const t=x(i);t&&e.push({subject:s,predicate:u,object:t,graph:r})}}}}}function w(e,t,r,n,i,o){const a={termType:"NamedNode",value:u},s={termType:"NamedNode",value:c},h={termType:"NamedNode",value:l};for(const u of e){const e={termType:"BlankNode",value:t.getId()};i.push({subject:r,predicate:n,object:e,graph:o}),r=e,n=a;const c=x(u);c&&i.push({subject:r,predicate:n,object:c,graph:o}),n=s}i.push({subject:r,predicate:n,object:h,graph:o})}function x(e){const t={};if(o.isValue(e)){t.termType="Literal",t.value=void 0,t.datatype={termType:"NamedNode"};let r=e["@value"];const n=e["@type"]||null;a.isBoolean(r)?(t.value=r.toString(),t.datatype.value=n||d):a.isDouble(r)||n===p?(a.isDouble(r)||(r=parseFloat(r)),t.value=r.toExponential(15).replace(/(\d)0*e\+?/,"$1E"),t.datatype.value=n||p):a.isNumber(r)?(t.value=r.toFixed(0),t.datatype.value=n||g):"@language"in e?(t.value=r,t.datatype.value=n||f,t.language=e["@language"]):(t.value=r,t.datatype.value=n||y)}else{const r=a.isObject(e)?e["@id"]:e;t.termType=r.startsWith("_:")?"BlankNode":"NamedNode",t.value=r}return"NamedNode"!==t.termType||m(t.value)?t:null}e.exports=v,v.toRDF=(e,t)=>{const r=new s.IdentifierIssuer("_:b"),i={"@default":{}};n(e,i,"@default",r);const o=[],a=Object.keys(i).sort();for(const e of a){let n;if("@default"===e)n={termType:"DefaultGraph",value:""};else{if(!m(e))continue;(n=e.startsWith("_:")?{termType:"BlankNode"}:{termType:"NamedNode"}).value=e}b(o,i[e],n,r,t)}return o}},function(e,t,r){"use strict";const{isKeyword:n}=r(10),i=r(4),o=r(3),a=r(1),s=r(5),{createNodeMap:u,mergeNodeMapGraphs:c}=r(22),l={};function h(e){const t={};for(const r in e)void 0!==e[r]&&(t["@"+r]=[e[r]]);return[t]}function f(e,t,r){for(let n=r.length-1;n>=0;--n){const i=r[n];if(i.graph===t&&i.subject["@id"]===e["@id"])return!0}return!1}function d(e,t,r){const n="@"+r;let i=n in e?e[n][0]:t[r];return"embed"===r&&(!0===i?i="@last":!1===i?i="@never":"@always"!==i&&"@never"!==i&&"@link"!==i&&(i="@last")),i}function p(e){if(!o.isArray(e)||1!==e.length||!o.isObject(e[0]))throw new s("Invalid JSON-LD syntax; a JSON-LD frame must be a single object.","jsonld.SyntaxError",{frame:e})}function g(e,t,r,s){let u=!0,c=!1;for(const l in r){let h=!1;const f=a.getValues(t,l),d=0===a.getValues(r,l).length;if(n(l)){if("@id"!==l&&"@type"!==l)continue;if(u=!1,"@id"===l){if(r["@id"].length>=0&&!o.isEmptyObject(r["@id"][0]))return r["@id"].includes(f[0]);h=!0;continue}if("@type"in r)if(d){if(f.length>0)return!1;h=!0}else{if(1!==r["@type"].length||!o.isEmptyObject(r["@type"][0])){for(const e of r["@type"])if(f.some(t=>t===e))return!0;return!1}h=f.length>0}}const g=a.getValues(r,l)[0];let y=!1;if(g&&(p([g]),y="@default"in g),u=!1,0!==f.length||!y){if(f.length>0&&d)return!1;if(void 0===g){if(f.length>0)return!1;h=!0}else if(o.isObject(g))h=f.length>0;else if(i.isValue(g))h=f.some(e=>b(g,e));else if(i.isSubject(g)||i.isSubjectReference(g))h=f.some(t=>v(e,g,t,s));else if(i.isList(g)){const t=g["@list"][0];if(i.isList(f[0])){const r=f[0]["@list"];i.isValue(t)?h=r.some(e=>b(t,e)):(i.isSubject(t)||i.isSubjectReference(t))&&(h=r.some(r=>v(e,t,r,s)))}else h=!1}if(!h&&s.requireAll)return!1;c=c||h}}return u||c}function y(e,t){const r=e.uniqueEmbeds[e.graph],n=r[t],i=n.parent,s=n.property,u={"@id":t};if(o.isArray(i)){for(let e=0;e<i.length;++e)if(a.compareValues(i[e],u)){i[e]=u;break}}else{const e=o.isArray(i[s]);a.removeValue(i,s,u,{propertyIsArray:e}),a.addValue(i,s,u,{propertyIsArray:e})}const c=e=>{const t=Object.keys(r);for(const n of t)n in r&&o.isObject(r[n].parent)&&r[n].parent["@id"]===e&&(delete r[n],c(n))};c(t)}function m(e,t,r){o.isObject(e)?a.addValue(e,t,r,{propertyIsArray:!0}):e.push(r)}function v(e,t,r,n){if(!("@id"in r))return!1;const i=e.subjects[r["@id"]];return i&&g(e,i,t,n)}function b(e,t){const r=t["@value"],n=t["@type"],i=t["@language"],a=e["@value"]?o.isArray(e["@value"])?e["@value"]:[e["@value"]]:[],s=e["@type"]?o.isArray(e["@type"])?e["@type"]:[e["@type"]]:[],u=e["@language"]?o.isArray(e["@language"])?e["@language"]:[e["@language"]]:[];return 0===a.length&&0===s.length&&0===u.length||!(!a.includes(r)&&!o.isEmptyObject(a[0]))&&(!!(!n&&0===s.length||s.includes(n)||n&&o.isEmptyObject(s[0]))&&!!(!i&&0===u.length||u.includes(i)||i&&o.isEmptyObject(u[0])))}e.exports=l,l.frameMergedOrDefault=(e,t,r)=>{const n={options:r,graph:"@default",graphMap:{"@default":{}},graphStack:[],subjectStack:[],link:{},bnodeMap:{}},i=new a.IdentifierIssuer("_:b");u(e,n.graphMap,"@default",i),r.merged&&(n.graphMap["@merged"]=c(n.graphMap),n.graph="@merged"),n.subjects=n.graphMap[n.graph];const o=[];return l.frame(n,Object.keys(n.subjects).sort(),t,o),r.pruneBlankNodeIdentifiers&&(r.bnodesToClear=Object.keys(n.bnodeMap).filter(e=>1===n.bnodeMap[e].length)),o},l.frame=(e,t,r,s,u=null)=>{p(r),r=r[0];const c=e.options,v={embed:d(r,c,"embed"),explicit:d(r,c,"explicit"),requireAll:d(r,c,"requireAll")},w=function(e,t,r,n){const i={};for(const o of t){const t=e.graphMap[e.graph][o];g(e,t,r,n)&&(i[o]=t)}return i}(e,t,r,v),x=Object.keys(w).sort();for(const t of x){const p=w[t];if("@link"===v.embed&&t in e.link){m(s,u,e.link[t]);continue}null===u?e.uniqueEmbeds={[e.graph]:{}}:e.uniqueEmbeds[e.graph]=e.uniqueEmbeds[e.graph]||{};const g={};if(g["@id"]=t,0===t.indexOf("_:")&&a.addValue(e.bnodeMap,t,g,{propertyIsArray:!0}),e.link[t]=g,"@never"===v.embed||f(p,e.graph,e.subjectStack))m(s,u,g);else{if("@last"===v.embed&&(t in e.uniqueEmbeds[e.graph]&&y(e,t),e.uniqueEmbeds[e.graph][t]={parent:s,property:u}),e.subjectStack.push({subject:p,graph:e.graph}),t in e.graphMap){let n=!1,i=null;"@graph"in r?(i=r["@graph"][0],o.isObject(i)||(i={}),n=!("@merged"===t||"@default"===t)):(n="@merged"!==e.graph,i={}),n&&(e.graphStack.push(e.graph),e.graph=t,l.frame(e,Object.keys(e.graphMap[t]).sort(),[i],g,"@graph"),e.graph=e.graphStack.pop)}for(const t of Object.keys(p).sort())if(n(t)){if(g[t]=a.clone(p[t]),"@type"===t)for(const t of p["@type"])0===t.indexOf("_:")&&a.addValue(e.bnodeMap,t,g,{propertyIsArray:!0})}else if(!v.explicit||t in r)for(let n of p[t]){const o=t in r?r[t]:h(v);if(i.isList(n)){const o={"@list":[]};m(g,t,o);const s=n["@list"];for(const u in s)if(n=s[u],i.isSubjectReference(n)){const i=t in r?r[t][0]["@list"]:h(v);l.frame(e,[n["@id"]],i,o,"@list")}else m(o,"@list",a.clone(n))}else i.isSubjectReference(n)?l.frame(e,[n["@id"]],o,g,t):b(o[0],n)&&m(g,t,a.clone(n))}for(const e of Object.keys(r).sort()){if(n(e))continue;const t=r[e][0]||{};if(!(d(t,c,"omitDefault")||e in g)){let r="@null";"@default"in t&&(r=a.clone(t["@default"])),o.isArray(r)||(r=[r]),g[e]=[{"@preserve":r}]}}if("@reverse"in r)for(const n of Object.keys(r["@reverse"]).sort()){const i=r["@reverse"][n];for(const r of Object.keys(e.subjects)){a.getValues(e.subjects[r],n).some(e=>e["@id"]===t)&&(g["@reverse"]=g["@reverse"]||{},a.addValue(g["@reverse"],n,[],{propertyIsArray:!0}),l.frame(e,[r],i,g["@reverse"][n],u))}}m(s,u,g),e.subjectStack.pop()}}}},function(e,t,r){"use strict";const n=r(5),{isArray:i,isObject:o,isString:a,isUndefined:s}=r(3),{isList:u,isValue:c,isGraph:l,isSimpleGraph:h,isSubjectReference:f}=r(4),{expandIri:d,getContextValue:p,isKeyword:g,process:y}=r(10),{removeBase:m}=r(18),{addValue:v,asArray:b,compareShortestLeast:w}=r(1),x={};function _(e,t,r){if("@nest"!==d(e,t,{vocab:!0},r))throw new n("JSON-LD compact error; nested property must have an @nest value resolving to @nest.","jsonld.SyntaxError",{code:"invalid @nest value"})}e.exports=x,x.compact=({activeCtx:e,activeProperty:t=null,element:r,options:a={},compactionMap:d=(()=>void 0)})=>{if(i(r)){let n=[];for(let i=0;i<r.length;++i){let o=x.compact({activeCtx:e,activeProperty:t,element:r[i],options:a,compactionMap:d});null===o&&void 0===(o=d({unmappedValue:r[i],activeCtx:e,activeProperty:t,parent:r,index:i,options:a}))||n.push(o)}if(a.compactArrays&&1===n.length){0===(p(e,t,"@container")||[]).length&&(n=n[0])}return n}const m=p(e,t,"@context");if(s(m)||(e=y({activeCtx:e,localCtx:m,isPropertyTermScopedContext:!0,options:a})),o(r)){if(a.link&&"@id"in r&&a.link.hasOwnProperty(r["@id"])){const e=a.link[r["@id"]];for(let t=0;t<e.length;++t)if(e[t].expanded===r)return e[t].compacted}if(c(r)||f(r)){const n=x.compactValue({activeCtx:e,activeProperty:t,value:r,options:a});return a.link&&f(r)&&(a.link.hasOwnProperty(r["@id"])||(a.link[r["@id"]]=[]),a.link[r["@id"]].push({expanded:r,compacted:n})),n}const m="@reverse"===t,w={};e=e.revertTypeScopedContext(),a.link&&"@id"in r&&(a.link.hasOwnProperty(r["@id"])||(a.link[r["@id"]]=[]),a.link[r["@id"]].push({expanded:r,compacted:w}));let I=r["@type"]||[];I.length>1&&(I=Array.from(I).sort());const N=e;for(const t of I){const r=x.compactIri({activeCtx:N,iri:t,relativeTo:{vocab:!0}}),n=p(N,r,"@context");s(n)||(e=y({activeCtx:e,localCtx:n,options:a,isTypeScopedContext:!0}))}const T=Object.keys(r).sort();for(const s of T){const f=r[s];if("@id"!==s&&"@type"!==s)if("@reverse"!==s)if("@preserve"!==s)if("@index"!==s)if("@graph"!==s&&"@list"!==s&&g(s)){const t=x.compactIri({activeCtx:e,iri:s,relativeTo:{vocab:!0}});v(w,t,f)}else{if(!i(f))throw new n("JSON-LD expansion error; expanded value must be an array.","jsonld.SyntaxError");if(0===f.length){const t=x.compactIri({activeCtx:e,iri:s,value:f,relativeTo:{vocab:!0},reverse:m}),r=e.mappings.has(t)?e.mappings.get(t)["@nest"]:null;let n=w;r&&(_(e,r,a),o(w[r])||(w[r]={}),n=w[r]),v(n,t,f,{propertyIsArray:!0})}for(const t of f){const r=x.compactIri({activeCtx:e,iri:s,value:t,relativeTo:{vocab:!0},reverse:m}),f=e.mappings.has(r)?e.mappings.get(r)["@nest"]:null;let g=w;f&&(_(e,f,a),o(w[f])||(w[f]={}),g=w[f]);const y=p(e,r,"@container")||[],I=l(t),N=u(t);let T;N?T=t["@list"]:I&&(T=t["@graph"]);let S=x.compact({activeCtx:e,activeProperty:r,element:N||I?T:t,options:a,compactionMap:d});if(N)if(i(S)||(S=[S]),y.includes("@list")){if(g.hasOwnProperty(r))throw new n('JSON-LD compact error; property has a "@list" @container rule but there is more than a single @list that matches the compacted term in the document. Compaction might mix unwanted items into the list.',"jsonld.SyntaxError",{code:"compaction to list of lists"})}else S={[x.compactIri({activeCtx:e,iri:"@list",relativeTo:{vocab:!0}})]:S},"@index"in t&&(S[x.compactIri({activeCtx:e,iri:"@index",relativeTo:{vocab:!0}})]=t["@index"]);if(I)if(y.includes("@graph")&&(y.includes("@id")||y.includes("@index")&&h(t))){let n;g.hasOwnProperty(r)?n=g[r]:g[r]=n={};const i=(y.includes("@id")?t["@id"]:t["@index"])||x.compactIri({activeCtx:e,iri:"@none",vocab:!0});v(n,i,S,{propertyIsArray:!a.compactArrays||y.includes("@set")})}else y.includes("@graph")&&h(t)?v(g,r,S,{propertyIsArray:!a.compactArrays||y.includes("@set")}):(i(S)&&1===S.length&&a.compactArrays&&(S=S[0]),S={[x.compactIri({activeCtx:e,iri:"@graph",relativeTo:{vocab:!0}})]:S},"@id"in t&&(S[x.compactIri({activeCtx:e,iri:"@id",relativeTo:{vocab:!0}})]=t["@id"]),"@index"in t&&(S[x.compactIri({activeCtx:e,iri:"@index",relativeTo:{vocab:!0}})]=t["@index"]),v(g,r,S,{propertyIsArray:!a.compactArrays||y.includes("@set")}));else if(y.includes("@language")||y.includes("@index")||y.includes("@id")||y.includes("@type")){let n,i;if(g.hasOwnProperty(r)?n=g[r]:g[r]=n={},y.includes("@language"))c(S)&&(S=S["@value"]),i=t["@language"];else if(y.includes("@index"))i=t["@index"];else if(y.includes("@id")){const t=x.compactIri({activeCtx:e,iri:"@id",vocab:!0});i=S[t],delete S[t]}else if(y.includes("@type")){const t=x.compactIri({activeCtx:e,iri:"@type",vocab:!0});let r;switch([i,...r]=b(S[t]||[]),r.length){case 0:delete S[t];break;case 1:S[t]=r[0];break;default:S[t]=r}}i||(i=x.compactIri({activeCtx:e,iri:"@none",vocab:!0})),v(n,i,S,{propertyIsArray:y.includes("@set")})}else{const e=!a.compactArrays||y.includes("@set")||y.includes("@list")||i(S)&&0===S.length||"@list"===s||"@graph"===s;v(g,r,S,{propertyIsArray:e})}}}else{if((p(e,t,"@container")||[]).includes("@index"))continue;const r=x.compactIri({activeCtx:e,iri:s,relativeTo:{vocab:!0}});v(w,r,f)}else{const r=x.compact({activeCtx:e,activeProperty:t,element:f,options:a,compactionMap:d});i(r)&&0===r.length||v(w,s,r)}else{const t=x.compact({activeCtx:e,activeProperty:"@reverse",element:f,options:a,compactionMap:d});for(const r in t)if(e.mappings.has(r)&&e.mappings.get(r).reverse){const n=t[r],i=(p(e,r,"@container")||[]).includes("@set")||!a.compactArrays;v(w,r,n,{propertyIsArray:i}),delete t[r]}if(Object.keys(t).length>0){const r=x.compactIri({activeCtx:e,iri:s,relativeTo:{vocab:!0}});v(w,r,t)}}else{const t="@type"===s,r=t&&e.previousContext||e;let n=b(f).map(e=>x.compactIri({activeCtx:r,iri:e,relativeTo:{vocab:t}}));1===n.length&&(n=n[0]);const o=x.compactIri({activeCtx:e,iri:s,relativeTo:{vocab:!0}}),a=i(n)&&0===f.length;v(w,o,n,{propertyIsArray:a})}}return w}return r},x.compactIri=({activeCtx:e,iri:t,value:r=null,relativeTo:n={vocab:!1},reverse:i=!1})=>{if(null===t)return t;e.isPropertyTermScoped&&e.previousContext&&(e=e.previousContext);const a=e.getInverse();if(g(t)&&t in a&&"@none"in a[t]&&"@type"in a[t]["@none"]&&"@none"in a[t]["@none"]["@type"])return a[t]["@none"]["@type"]["@none"];if(n.vocab&&t in a){const n=e["@language"]||"@none",a=[];o(r)&&"@index"in r&&!("@graph"in r)&&a.push("@index","@index@set"),o(r)&&"@preserve"in r&&(r=r["@preserve"][0]),l(r)?("@index"in r&&a.push("@graph@index","@graph@index@set","@index","@index@set"),"@id"in r&&a.push("@graph@id","@graph@id@set"),a.push("@graph","@graph@set","@set"),"@index"in r||a.push("@graph@index","@graph@index@set","@index","@index@set"),"@id"in r||a.push("@graph@id","@graph@id@set")):o(r)&&!c(r)&&a.push("@id","@id@set","@type","@set@type");let s="@language",h="@null";if(i)s="@type",h="@reverse",a.push("@set");else if(u(r)){"@index"in r||a.push("@list");const e=r["@list"];if(0===e.length)s="@any",h="@none";else{let t=0===e.length?n:null,r=null;for(let n=0;n<e.length;++n){const i=e[n];let o="@none",a="@none";if(c(i)?"@language"in i?o=i["@language"]:"@type"in i?a=i["@type"]:o="@null":a="@id",null===t?t=o:o!==t&&c(i)&&(t="@none"),null===r?r=a:a!==r&&(r="@none"),"@none"===t&&"@none"===r)break}t=t||"@none","@none"!==(r=r||"@none")?(s="@type",h=r):h=t}}else c(r)?"@language"in r&&!("@index"in r)?(a.push("@language","@language@set"),h=r["@language"]):"@type"in r&&(s="@type",h=r["@type"]):(s="@type",h="@id"),a.push("@set");a.push("@none"),!o(r)||"@index"in r||a.push("@index","@index@set"),c(r)&&1===Object.keys(r).length&&a.push("@language","@language@set");const d=function(e,t,r,n,i,o){null===o&&(o="@null");const a=[];if("@id"!==o&&"@reverse"!==o||!f(r))a.push(o);else{"@reverse"===o&&a.push("@reverse");const t=x.compactIri({activeCtx:e,iri:r["@id"],relativeTo:{vocab:!0}});e.mappings.has(t)&&e.mappings.get(t)&&e.mappings.get(t)["@id"]===r["@id"]?a.push.apply(a,["@vocab","@id"]):a.push.apply(a,["@id","@vocab"])}a.push("@none");const s=e.inverse[t];for(let e=0;e<n.length;++e){const t=n[e];if(!(t in s))continue;const r=s[t][i];for(let e=0;e<a.length;++e){const t=a[e];if(t in r)return r[t]}}return null}(e,t,r,a,s,h);if(null!==d)return d}if(n.vocab&&"@vocab"in e){const r=e["@vocab"];if(0===t.indexOf(r)&&t!==r){const n=t.substr(r.length);if(!e.mappings.has(n))return n}}let s=null;const h=[];let d=e.fastCurieMap;const p=t.length-1;for(let e=0;e<p&&t[e]in d;++e)""in(d=d[t[e]])&&h.push(d[""][0]);for(let n=h.length-1;n>=0;--n){const i=h[n],o=i.terms;for(const n of o){const o=n+":"+t.substr(i.iri.length);e.mappings.get(n)._prefix&&(!e.mappings.has(o)||null===r&&e.mappings.get(o)["@id"]===t)&&(null===s||w(o,s)<0)&&(s=o)}}return null!==s?s:n.vocab?t:m(e["@base"],t)},x.compactValue=({activeCtx:e,activeProperty:t,value:r,options:n})=>{if(c(r)){const n=p(e,t,"@type"),i=p(e,t,"@language"),o=p(e,t,"@container")||[],s="@index"in r&&!o.includes("@index");if(!s&&(r["@type"]===n||r["@language"]===i))return r["@value"];const u=Object.keys(r).length,c=1===u||2===u&&"@index"in r&&!s,l="@language"in e,h=a(r["@value"]),f=e.mappings.has(t)&&null===e.mappings.get(t)["@language"];if(c&&(!l||!h||f))return r["@value"];const d={};return s&&(d[x.compactIri({activeCtx:e,iri:"@index",relativeTo:{vocab:!0}})]=r["@index"]),"@type"in r?d[x.compactIri({activeCtx:e,iri:"@type",relativeTo:{vocab:!0}})]=x.compactIri({activeCtx:e,iri:r["@type"],relativeTo:{vocab:!0}}):"@language"in r&&(d[x.compactIri({activeCtx:e,iri:"@language",relativeTo:{vocab:!0}})]=r["@language"]),d[x.compactIri({activeCtx:e,iri:"@value",relativeTo:{vocab:!0}})]=r["@value"],d}const i=d(e,t,{vocab:!0},n),o=p(e,t,"@type"),s=x.compactIri({activeCtx:e,iri:r["@id"],relativeTo:{vocab:"@vocab"===o}});return"@id"===o||"@vocab"===o||"@graph"===i?s:{[x.compactIri({activeCtx:e,iri:"@id",relativeTo:{vocab:!0}})]:s}},
/**
 * Removes the @preserve keywords as the last step of the compaction
 * algorithm when it is running on framed output.
 *
 * @param ctx the active context used to compact the input.
 * @param input the framed, compacted output.
 * @param options the compaction options used.
 *
 * @return the resulting output.
 */
x.removePreserve=(e,t,r)=>{if(i(t)){const n=[];for(let i=0;i<t.length;++i){const o=x.removePreserve(e,t[i],r);null!==o&&n.push(o)}t=n}else if(o(t)){
// remove @preserve
if("@preserve"in t)return"@null"===t["@preserve"]?null:t["@preserve"];if(c(t))return t;if(u(t))return t["@list"]=x.removePreserve(e,t["@list"],r),t;const n=x.compactIri({activeCtx:e,iri:"@id",relativeTo:{vocab:!0}});if(t.hasOwnProperty(n)){const e=t[n];if(r.link.hasOwnProperty(e)){const n=r.link[e].indexOf(t);if(-1!==n)return r.link[e][n];r.link[e].push(t)}else r.link[e]=[t]}const o=x.compactIri({activeCtx:e,iri:"@graph",relativeTo:{vocab:!0}});for(const a in t){if(a===n&&r.bnodesToClear.includes(t[a])){delete t[n];continue}let s=x.removePreserve(e,t[a],r);const u=p(e,a,"@container")||[];r.compactArrays&&i(s)&&1===s.length&&0===u.length&&a!==o&&(s=s[0]),t[a]=s}}return t}},function(e,t,r){"use strict";const{parseLinkHeader:n,buildHeaders:i}=r(1),{LINK_HEADER_REL:o}=r(17),a=r(5),s=r(31);e.exports=({secure:e,strictSSL:t=!0,maxRedirects:u=-1,request:c,headers:l={}}={strictSSL:!0,maxRedirects:-1,headers:{}})=>{l=i(l),c=c||r(112);const h=r(113);return(new s).wrapLoader(function(r){return async function r(i,s){if(0!==i.indexOf("http:")&&0!==i.indexOf("https:"))throw new a('URL could not be dereferenced; only "http" and "https" URLs are supported.',"jsonld.InvalidUrl",{code:"loading document failed",url:i});if(e&&0!==i.indexOf("https"))throw new a('URL could not be dereferenced; secure mode is enabled and the URL\'s scheme is not "https".',"jsonld.InvalidUrl",{code:"loading document failed",url:i});let f=null;if(null!==f)return f;let d;try{d=await function(e,t){return new Promise((r,n)=>{e(t,(e,t,i)=>{e?n(e):r({res:t,body:i})})})}(c,{url:i,headers:l,strictSSL:t,followRedirect:!1})}catch(e){throw new a("URL could not be dereferenced, an error occurred.","jsonld.LoadDocumentError",{code:"loading document failed",url:i,cause:e})}const{res:p,body:g}=d;f={contextUrl:null,documentUrl:i,document:g||null};const y=h.STATUS_CODES[p.statusCode];if(p.statusCode>=400)throw new a("URL could not be dereferenced: "+y,"jsonld.InvalidUrl",{code:"loading document failed",url:i,httpStatusCode:p.statusCode});if(p.headers.link&&"application/ld+json"!==p.headers["content-type"]){const e=n(p.headers.link)[o];if(Array.isArray(e))throw new a("URL could not be dereferenced, it has more than one associated HTTP Link Header.","jsonld.InvalidUrl",{code:"multiple context link headers",url:i});e&&(f.contextUrl=e.target)}if(p.statusCode>=300&&p.statusCode<400&&p.headers.location){if(s.length===u)throw new a("URL could not be dereferenced; there were too many redirects.","jsonld.TooManyRedirects",{code:"loading document failed",url:i,httpStatusCode:p.statusCode,redirects:s});if(-1!==s.indexOf(i))throw new a("URL could not be dereferenced; infinite redirection was detected.","jsonld.InfiniteRedirectDetected",{code:"recursive context inclusion",url:i,httpStatusCode:p.statusCode,redirects:s});return s.push(i),r(p.headers.location,s)}s.push(i);return f}(r,[])})}},function(e,t){},function(e,t){},function(e,t,r){"use strict";const{parseLinkHeader:n,buildHeaders:i}=r(1),{LINK_HEADER_REL:o}=r(17),a=r(5),s=r(31),u=/(^|(\r\n))link:/i;e.exports=({secure:e,headers:t={},xhr:r}={headers:{}})=>{return t=i(t),(new s).wrapLoader(async function(i){if(0!==i.indexOf("http:")&&0!==i.indexOf("https:"))throw new a('URL could not be dereferenced; only "http" and "https" URLs are supported.',"jsonld.InvalidUrl",{code:"loading document failed",url:i});if(e&&0!==i.indexOf("https"))throw new a('URL could not be dereferenced; secure mode is enabled and the URL\'s scheme is not "https".',"jsonld.InvalidUrl",{code:"loading document failed",url:i});let s;try{s=await function(e,t,r){const n=new(e=e||XMLHttpRequest);return new Promise((e,i)=>{n.onload=()=>e(n),n.onerror=e=>i(e),n.open("GET",t,!0);for(const e in r)n.setRequestHeader(e,r[e]);n.send()})}(r,i,t)}catch(e){throw new a("URL could not be dereferenced, an error occurred.","jsonld.LoadDocumentError",{code:"loading document failed",url:i,cause:e})}if(s.status>=400)throw new a("URL could not be dereferenced: "+s.statusText,"jsonld.LoadDocumentError",{code:"loading document failed",url:i,httpStatusCode:s.status});const c={contextUrl:null,documentUrl:i,document:s.response},l=s.getResponseHeader("Content-Type");let h;u.test(s.getAllResponseHeaders())&&(h=s.getResponseHeader("Link"));if(h&&"application/ld+json"!==l){if(h=n(h)[o],Array.isArray(h))throw new a("URL could not be dereferenced, it has more than one associated HTTP Link Header.","jsonld.InvalidUrl",{code:"multiple context link headers",url:i});h&&(c.contextUrl=h.target)}return c})}},function(e,t,r){"use strict";e.exports=e=>{class t{toString(){return"[object JsonLdProcessor]"}}return Object.defineProperty(t,"prototype",{writable:!1,enumerable:!1}),Object.defineProperty(t.prototype,"constructor",{writable:!0,enumerable:!1,configurable:!0,value:t}),t.compact=function(t,r){return arguments.length<2?Promise.reject(new TypeError("Could not compact, too few arguments.")):e.compact(t,r)},t.expand=function(t){return arguments.length<1?Promise.reject(new TypeError("Could not expand, too few arguments.")):e.expand(t)},t.flatten=function(t){return arguments.length<1?Promise.reject(new TypeError("Could not flatten, too few arguments.")):e.flatten(t)},t}},function(e,t,r){var n=r(117),i=r(55),o=r(118),a=r(56),s=r(119),u=r(120);function c(){}c.namedNode=function(e){return new a(e)},c.blankNode=function(e){return new n(e)},c.literal=function(e,t){return"string"==typeof t?-1===t.indexOf(":")?new o(e,t):new o(e,null,c.namedNode(t)):new o(e,null,t)},c.defaultGraph=function(){return c.defaultGraphInstance},c.variable=function(e){return new u(e)},c.triple=function(e,t,r){return c.quad(e,t,r)},c.quad=function(e,t,r,n){return new s(e,t,r,n||c.defaultGraphInstance)},c.defaultGraphInstance=new i,e.exports=c},function(e,t){function r(e){this.value=e||"b"+ ++r.nextId}r.prototype.equals=function(e){return!!e&&e.termType===this.termType&&e.value===this.value},r.prototype.termType="BlankNode",r.nextId=0,e.exports=r},function(e,t,r){var n=r(56);function i(e,t,r){this.value=e,this.datatype=i.stringDatatype,this.language="",t?(this.language=t,this.datatype=i.langStringDatatype):r&&(this.datatype=r)}i.prototype.equals=function(e){return!!e&&e.termType===this.termType&&e.value===this.value&&e.language===this.language&&e.datatype.equals(this.datatype)},i.prototype.termType="Literal",i.langStringDatatype=new n("http://www.w3.org/1999/02/22-rdf-syntax-ns#langString"),i.stringDatatype=new n("http://www.w3.org/2001/XMLSchema#string"),e.exports=i},function(e,t,r){var n=r(55);function i(e,t,r,i){this.subject=e,this.predicate=t,this.object=r,this.graph=i||new n}i.prototype.equals=function(e){return!!e&&e.subject.equals(this.subject)&&e.predicate.equals(this.predicate)&&e.object.equals(this.object)&&e.graph.equals(this.graph)},e.exports=i},function(e,t){function r(e){this.value=e}r.prototype.equals=function(e){return!!e&&e.termType===this.termType&&e.value===this.value},r.prototype.termType="Variable",e.exports=r},function(e,t,r){var n=r(122).RDFaProcessor;const i=r(32);e.exports=class{constructor(e){this.documentIRI=e.documentIRI,this.factory=e.factory||i}parse(e,t){try{var r=new n(null,this.factory);r.onTriple=function(e){t(null,e)},r.process(e,{baseURI:this.documentIRI})}catch(e){t(e)}}}},function(e,t,r){e.exports={RDFaProcessor:r(123)}},function(e,t,r){var n=r(124);const{DataFactory:i}=r(25);e.exports=class{constructor(e,t){this.uriresolver=new n,this.factory=t||i,this.XMLLiteralURI="http://www.w3.org/1999/02/22-rdf-syntax-ns#XMLLiteral",this.HTMLLiteralURI="http://www.w3.org/1999/02/22-rdf-syntax-ns#HTML",this.PlainLiteralURI="http://www.w3.org/1999/02/22-rdf-syntax-ns#PlainLiteral",this.objectURI="http://www.w3.org/1999/02/22-rdf-syntax-ns#object",this.typeURI="http://www.w3.org/1999/02/22-rdf-syntax-ns#type",this.nameChar="[-A-Z_a-z-----------0-F.0-9--]",this.nameStartChar="[A-Za-z------------------------------------------------------------------------------------------------------------------------------------------------------_]",this.NCNAME=new RegExp("^"+this.nameStartChar+this.nameChar+"*$"),this.target=e||{graph:{subjects:{},prefixes:{},terms:{}}},this.theOne="_:"+(new Date).getTime(),this.language=null,this.vocabulary=null,this.blankCounter=0,this.langAttributes=[{namespaceURI:"http://www.w3.org/XML/1998/namespace",localName:"lang"}],this.inXHTMLMode=!1,this.absURIRE=/[\w\_\-]+:\S+/,this.finishedHandlers=[],this.init()}newBlankNode(){return this.blankCounter++,"_:"+this.blankCounter}trim(e){return e.replace(/^\s\s*/,"").replace(/\s\s*$/,"")}tokenize(e){return this.trim(e).split(/\s+/)}parseSafeCURIEOrCURIEOrURI(e,t,r){return"["==(e=this.trim(e)).charAt(0)&&"]"==e.charAt(e.length-1)?0==(e=(e=e.substring(1,e.length-1)).trim(e)).length?null:"_:"==e?this.theOne:this.parseCURIE(e,t,r):this.parseCURIEOrURI(e,t,r)}parseCURIE(e,t,r){var n=e.indexOf(":");if(n>=0){var i,o=e.substring(0,n);if(""==o)return(i=t[""])?i+e.substring(n+1):null;if("_"==o)return"_:"+e.substring(n+1);if(this.NCNAME.test(o)&&(i=t[o]))return i+e.substring(n+1)}return null}parseCURIEOrURI(e,t,r){var n=this.parseCURIE(e,t,r);return n||this.resolveAndNormalize(r,e)}parsePredicate(e,t,r,n,i,o){if(""==e)return null;var a=this.parseTermOrCURIEOrAbsURI(e,t,o?null:r,n,i);return a&&0==a.indexOf("_:")?null:a}parseTermOrCURIEOrURI(e,t,r,n,i){e=this.trim(e);var o=this.parseCURIE(e,n,i);if(o)return o;var a=r[e];return a||((a=r[e.toLowerCase()])?a:t&&!this.absURIRE.exec(e)?t+e:this.resolveAndNormalize(i,e))}parseTermOrCURIEOrAbsURI(e,t,r,n,i){e=this.trim(e);var o=this.parseCURIE(e,n,i);if(o)return o;if(r){if(t&&!this.absURIRE.exec(e))return t+e;var a=r[e];if(a)return a;if(a=r[e.toLowerCase()])return a}return this.absURIRE.exec(e)?this.resolveAndNormalize(i,e):null}resolveAndNormalize(e,t){var r=e.resolve(t),n=this.uriresolver.parseURI(r);return n.normalize(),n.spec}parsePrefixMappings(e,t){for(var r=this.tokenize(e),n=null,i=0;i<r.length;i++)":"==r[i][r[i].length-1]?n=r[i].substring(0,r[i].length-1):n&&(t[n]=this.target.baseURI?this.target.baseURI.resolve(r[i]):r[i],n=null)}copyMappings(e){var t={};for(var r in e)t[r]=e[r];return t}ancestorPath(e){for(var t="";e&&9!=e.nodeType;)t="/"+e.localName+t,e=e.parentNode;return t}setContext(e){if("html"==e.localName&&"XHTML+RDFa 1.1"==e.getAttribute("version"))this.setXHTMLContext();else if("html"==e.localName||"http://www.w3.org/1999/xhtml"==e.namespaceURI)if(e.ownerDocument.doctype){var t=e.ownerDocument;"-//W3C//DTD XHTML+RDFa 1.0//EN"==t.doctype.publicId&&"http://www.w3.org/MarkUp/DTD/xhtml-rdfa-1.dtd"==t.doctype.systemId?this.setHTMLContext():"-//W3C//DTD XHTML+RDFa 1.1//EN"==t.doctype.publicId&&"http://www.w3.org/MarkUp/DTD/xhtml-rdfa-2.dtd"==t.doctype.systemId?this.setXHTMLContext():this.setHTMLContext()}else this.setHTMLContext();else this.setXMLContext()}setInitialContext(){this.vocabulary=null,this.langAttributes=[{namespaceURI:"http://www.w3.org/XML/1998/namespace",localName:"lang"}],this.target.graph.prefixes.as="https://www.w3.org/ns/activitystreams#",this.target.graph.prefixes.dqv="http://www.w3.org/ns/dqv#",this.target.graph.prefixes.duv="https://www.w3.org/TR/vocab-duv#",this.target.graph.prefixes.cat="http://www.w3.org/ns/dcat#",this.target.graph.prefixes.qb="http://purl.org/linked-data/cube#",this.target.graph.prefixes.grddl="http://www.w3.org/2003/g/data-view#",this.target.graph.prefixes.ldp="http://www.w3.org/ns/ldp#",this.target.graph.prefixes.oa="http://www.w3.org/ns/oa#",this.target.graph.prefixes.ma="http://www.w3.org/ns/ma-ont#",this.target.graph.prefixes.owl="http://www.w3.org/2002/07/owl#",this.target.graph.prefixes.rdf="http://www.w3.org/1999/02/22-rdf-syntax-ns#",this.target.graph.prefixes.rdfa="http://www.w3.org/ns/rdfa#",this.target.graph.prefixes.rdfs="http://www.w3.org/2000/01/rdf-schema#",this.target.graph.prefixes.rif="http://www.w3.org/2007/rif#",this.target.graph.prefixes.rr="http://www.w3.org/ns/r2rml#",this.target.graph.prefixes.skos="http://www.w3.org/2004/02/skos/core#",this.target.graph.prefixes.skosxl="http://www.w3.org/2008/05/skos-xl#",this.target.graph.prefixes.wdr="http://www.w3.org/2007/05/powder#",this.target.graph.prefixes.void="http://rdfs.org/ns/void#",this.target.graph.prefixes.wdrs="http://www.w3.org/2007/05/powder-s#",this.target.graph.prefixes.xhv="http://www.w3.org/1999/xhtml/vocab#",this.target.graph.prefixes.xml="http://www.w3.org/XML/1998/namespace",this.target.graph.prefixes.xsd="http://www.w3.org/2001/XMLSchema#",this.target.graph.prefixes.prov="http://www.w3.org/ns/prov#",this.target.graph.prefixes.sd="http://www.w3.org/ns/sparql-service-description#",this.target.graph.prefixes.org="http://www.w3.org/ns/org#",this.target.graph.prefixes.gldp="http://www.w3.org/ns/people#",this.target.graph.prefixes.cnt="http://www.w3.org/2008/content#",this.target.graph.prefixes.dcat="http://www.w3.org/ns/dcat#",this.target.graph.prefixes.earl="http://www.w3.org/ns/earl#",this.target.graph.prefixes.ht="http://www.w3.org/2006/http#",this.target.graph.prefixes.ptr="http://www.w3.org/2009/pointers#",this.target.graph.prefixes.cc="http://creativecommons.org/ns#",this.target.graph.prefixes.ctag="http://commontag.org/ns#",this.target.graph.prefixes.dc="http://purl.org/dc/terms/",this.target.graph.prefixes.dc11="http://purl.org/dc/elements/1.1/",this.target.graph.prefixes.dcterms="http://purl.org/dc/terms/",this.target.graph.prefixes.foaf="http://xmlns.com/foaf/0.1/",this.target.graph.prefixes.gr="http://purl.org/goodrelations/v1#",this.target.graph.prefixes.ical="http://www.w3.org/2002/12/cal/icaltzd#",this.target.graph.prefixes.og="http://ogp.me/ns#",this.target.graph.prefixes.rev="http://purl.org/stuff/rev#",this.target.graph.prefixes.sioc="http://rdfs.org/sioc/ns#",this.target.graph.prefixes.v="http://rdf.data-vocabulary.org/#",this.target.graph.prefixes.vcard="http://www.w3.org/2006/vcard/ns#",this.target.graph.prefixes.schema="http://schema.org/",this.target.graph.prefixes.describedby="http://www.w3.org/2007/05/powder-s#describedby",this.target.graph.prefixes.license="http://www.w3.org/1999/xhtml/vocab#license",this.target.graph.prefixes.role="http://www.w3.org/1999/xhtml/vocab#role",this.target.graph.prefixes.ssn="http://www.w3.org/ns/ssn/",this.target.graph.prefixes.sosa="http://www.w3.org/ns/sosa/",this.target.graph.prefixes.time="http://www.w3.org/2006/time#"}setXMLContext(){this.setInitialContext(),this.inXHTMLMode=!1,this.inHTMLMode=!1}setHTMLContext(){this.setInitialContext(),this.langAttributes=[{namespaceURI:"http://www.w3.org/XML/1998/namespace",localName:"lang"},{namespaceURI:null,localName:"lang"}],this.inXHTMLMode=!1,this.inHTMLMode=!0}setXHTMLContext(){this.setInitialContext(),this.inXHTMLMode=!0,this.inHTMLMode=!1,this.langAttributes=[{namespaceURI:"http://www.w3.org/XML/1998/namespace",localName:"lang"},{namespaceURI:null,localName:"lang"}],this.target.graph.terms.alternate="http://www.w3.org/1999/xhtml/vocab#alternate",this.target.graph.terms.appendix="http://www.w3.org/1999/xhtml/vocab#appendix",this.target.graph.terms.bookmark="http://www.w3.org/1999/xhtml/vocab#bookmark",this.target.graph.terms.cite="http://www.w3.org/1999/xhtml/vocab#cite",this.target.graph.terms.chapter="http://www.w3.org/1999/xhtml/vocab#chapter",this.target.graph.terms.contents="http://www.w3.org/1999/xhtml/vocab#contents",this.target.graph.terms.copyright="http://www.w3.org/1999/xhtml/vocab#copyright",this.target.graph.terms.first="http://www.w3.org/1999/xhtml/vocab#first",this.target.graph.terms.glossary="http://www.w3.org/1999/xhtml/vocab#glossary",this.target.graph.terms.help="http://www.w3.org/1999/xhtml/vocab#help",this.target.graph.terms.icon="http://www.w3.org/1999/xhtml/vocab#icon",this.target.graph.terms.index="http://www.w3.org/1999/xhtml/vocab#index",this.target.graph.terms.last="http://www.w3.org/1999/xhtml/vocab#last",this.target.graph.terms.license="http://www.w3.org/1999/xhtml/vocab#license",this.target.graph.terms.meta="http://www.w3.org/1999/xhtml/vocab#meta",this.target.graph.terms.next="http://www.w3.org/1999/xhtml/vocab#next",this.target.graph.terms.prev="http://www.w3.org/1999/xhtml/vocab#prev",this.target.graph.terms.previous="http://www.w3.org/1999/xhtml/vocab#previous",this.target.graph.terms.section="http://www.w3.org/1999/xhtml/vocab#section",this.target.graph.terms.stylesheet="http://www.w3.org/1999/xhtml/vocab#stylesheet",this.target.graph.terms.subsection="http://www.w3.org/1999/xhtml/vocab#subsection",this.target.graph.terms.start="http://www.w3.org/1999/xhtml/vocab#start",this.target.graph.terms.top="http://www.w3.org/1999/xhtml/vocab#top",this.target.graph.terms.up="http://www.w3.org/1999/xhtml/vocab#up",this.target.graph.terms.p3pv1="http://www.w3.org/1999/xhtml/vocab#p3pv1",this.target.graph.terms.related="http://www.w3.org/1999/xhtml/vocab#related",this.target.graph.terms.role="http://www.w3.org/1999/xhtml/vocab#role",this.target.graph.terms.transformation="http://www.w3.org/1999/xhtml/vocab#transformation",this.dateTimeTypes=[{pattern:/-?P(?:[0-9]+Y)?(?:[0-9]+M)?(?:[0-9]+D)?(?:T(?:[0-9]+H)?(?:[0-9]+M)?(?:[0-9]+(?:\.[0-9]+)?S)?)?/,type:"http://www.w3.org/2001/XMLSchema#duration"},{pattern:/-?(?:[1-9][0-9][0-9][0-9]|0[1-9][0-9][0-9]|00[1-9][0-9]|000[1-9])-[0-9][0-9]-[0-9][0-9]T(?:[0-1][0-9]|2[0-4]):[0-5][0-9]:[0-5][0-9](?:\.[0-9]+)?(?:Z|[+\-][0-9][0-9]:[0-9][0-9])?/,type:"http://www.w3.org/2001/XMLSchema#dateTime"},{pattern:/-?(?:[1-9][0-9][0-9][0-9]|0[1-9][0-9][0-9]|00[1-9][0-9]|000[1-9])-[0-9][0-9]-[0-9][0-9](?:Z|[+\-][0-9][0-9]:[0-9][0-9])?/,type:"http://www.w3.org/2001/XMLSchema#date"},{pattern:/(?:[0-1][0-9]|2[0-4]):[0-5][0-9]:[0-5][0-9](?:\.[0-9]+)?(?:Z|[+\-][0-9][0-9]:[0-9][0-9])?/,type:"http://www.w3.org/2001/XMLSchema#time"},{pattern:/-?(?:[1-9][0-9][0-9][0-9]|0[1-9][0-9][0-9]|00[1-9][0-9]|000[1-9])-[0-9][0-9]/,type:"http://www.w3.org/2001/XMLSchema#gYearMonth"},{pattern:/-?[1-9][0-9][0-9][0-9]|0[1-9][0-9][0-9]|00[1-9][0-9]|000[1-9]/,type:"http://www.w3.org/2001/XMLSchema#gYear"}]}init(){}newSubjectOrigin(e,t){}addTriple(e,t,r,n){var i=this.factory.namedNode(this.options.baseURI)||this.factory.defaultGraph();t="_:"===t.substr(0,2)?this.factory.blankNode(t.substr(2)):this.factory.namedNode(t),r="_:"===r.substr(0,2)?this.factory.blankNode(r.substr(2)):this.factory.namedNode(r),n="http://www.w3.org/1999/02/22-rdf-syntax-ns#object"===n.type?"_:"===n.value.substr(0,2)?this.factory.blankNode(n.value.substr(2)):this.factory.namedNode(n.value):n.language?this.factory.literal(n.value,n.language):this.factory.literal(n.value,this.factory.namedNode(n.type));var o=this.factory.quad(t,r,n,i);this.onTriple(o)}onTriple(e){}deriveDateTimeType(e){for(var t=0;t<this.dateTimeTypes.length;t++){var r=this.dateTimeTypes[t].pattern.exec(e);if(r&&r[0].length==e.length)return this.dateTimeTypes[t].type}return null}process(e,t){this.options=t,9==e.nodeType?(e=e.documentElement,this.setContext(e)):9==e.parentNode.nodeType&&this.setContext(e);var r=[],n=function(e){if(!e&&t&&t.baseURI)return t.baseURI;var r=e.indexOf("#");return r>=0&&(e=e.substring(0,r)),t&&t.baseURIMap&&(e=t.baseURIMap(e)),e};for(r.push({current:e,context:this.push(null,n(e.baseURI))});r.length>0;){var i=r.shift();if(i.parent){if(i.context.parent&&i.context.parent.listMapping==i.listMapping)continue;for(var o in i.listMapping)if(0!=(W=i.listMapping[o]).length){for(var a=[],s=0;s<W.length;s++)a.push(this.newBlankNode());for(s=0;s<a.length;s++)this.addTriple(i.parent,a[s],"http://www.w3.org/1999/02/22-rdf-syntax-ns#first",W[s]),this.addTriple(i.parent,a[s],"http://www.w3.org/1999/02/22-rdf-syntax-ns#rest",{type:this.objectURI,value:s+1<a.length?a[s+1]:"http://www.w3.org/1999/02/22-rdf-syntax-ns#nil"});this.addTriple(i.parent,i.subject,o,{type:this.objectURI,value:a[0]})}else this.addTriple(i.parent,i.subject,o,{type:this.objectURI,value:"http://www.w3.org/1999/02/22-rdf-syntax-ns#nil"})}else{var u=i.current,c=i.context,l=!1,h=null,f=null,d=null,p=c.prefixes,g=!1,y=[],m=c.listMapping,v=!c.parent,b=c.language,w=c.vocabulary,x=this.uriresolver.parseURI(n(u.baseURI));u.item=null;var _=u.getAttributeNode("vocab");if(_)if((E=this.trim(_.value)).length>0){w=E;var I=x.spec;this.addTriple(u,I,"http://www.w3.org/ns/rdfa#usesVocabulary",{type:this.objectURI,value:w})}else w=this.vocabulary;for(s=0;s<u.attributes.length;s++){var N=u.attributes[s];if("x"==N.nodeName.charAt(0)&&0==N.nodeName.indexOf("xmlns:")){g||(p=this.copyMappings(p),g=!0);var T=N.nodeName.substring(6),S=this.trim(N.value);p[T]=this.target.baseURI?this.target.baseURI.resolve(S):S}}var j=u.getAttributeNode("prefix");j&&(g||(p=this.copyMappings(p),g=!0),this.parsePrefixMappings(j.value,p));var E,R=null;for(s=0;!R&&s<this.langAttributes.length;s++)R=u.getAttributeNodeNS(this.langAttributes[s].namespaceURI,this.langAttributes[s].localName);R&&(b=(E=this.trim(R.value)).length>0?E:null);var C=u.getAttributeNode("rel"),A=u.getAttributeNode("rev"),k=u.getAttributeNode("typeof"),O=u.getAttributeNode("property"),D=u.getAttributeNode("datatype"),L=this.inHTMLMode?u.getAttributeNode("datetime"):null,M=u.getAttributeNode("content"),B=u.getAttributeNode("about"),P=u.getAttributeNode("src"),U=u.getAttributeNode("resource"),F=u.getAttributeNode("href"),q=u.getAttributeNode("inlist"),z=[];if(C){var H=this.tokenize(C.value);for(s=0;s<H.length;s++)(o=this.parsePredicate(H[s],w,c.terms,p,x,this.inHTMLMode&&null!=O))&&z.push(o)}var G=[];if(A)for(H=this.tokenize(A.value),s=0;s<H.length;s++)(o=this.parsePredicate(H[s],w,c.terms,p,x,this.inHTMLMode&&null!=O))&&G.push(o);if(!this.inHTMLMode||null==C&&null==A||null==O||(0==z.length&&(C=null),0==G.length&&(A=null)),C||A?(B&&(h=this.parseSafeCURIEOrCURIEOrURI(B.value,p,x)),k&&(d=h),h||(9==u.parentNode.nodeType?h=n(u.baseURI):c.parentObject&&(h=n(u.parentNode.baseURI)==c.parentObject?n(u.baseURI):c.parentObject)),U&&(f=this.parseSafeCURIEOrCURIEOrURI(U.value,p,x)),f||(F?f=this.resolveAndNormalize(x,encodeURI(F.value)):P?f=this.resolveAndNormalize(x,encodeURI(P.value)):!k||B||this.inXHTMLMode&&("head"==u.localName||"body"==u.localName)||(f=this.newBlankNode())),!k||B||!this.inXHTMLMode||"head"!=u.localName&&"body"!=u.localName?k&&!B&&(d=f):d=h):!O||M||D?(B&&(h=this.parseSafeCURIEOrCURIEOrURI(B.value,p,x)),!h&&U&&(h=this.parseSafeCURIEOrCURIEOrURI(U.value,p,x)),!h&&F&&(h=this.resolveAndNormalize(x,encodeURI(F.value))),!h&&P&&(h=this.resolveAndNormalize(x,encodeURI(P.value))),h||(9==u.parentNode.nodeType?h=n(u.baseURI):!this.inXHTMLMode&&!this.inHTMLMode||"head"!=u.localName&&"body"!=u.localName?k?h=this.newBlankNode():c.parentObject&&(h=n(u.parentNode.baseURI)==c.parentObject?n(u.baseURI):c.parentObject,O||(l=!0)):h=n(u.parentNode.baseURI)==c.parentObject?n(u.baseURI):c.parentObject),k&&(d=h)):(B&&(h=this.parseSafeCURIEOrCURIEOrURI(B.value,p,x),k&&(d=h)),h||9!=u.parentNode.nodeType?!h&&c.parentObject&&(h=n(u.parentNode.baseURI)==c.parentObject?n(u.baseURI):c.parentObject):(h=n(u.baseURI),k&&(d=h)),k&&!d&&(U&&(d=this.parseSafeCURIEOrCURIEOrURI(U.value,p,x)),!d&&F&&(d=this.resolveAndNormalize(x,encodeURI(F.value))),!d&&P&&(d=this.resolveAndNormalize(x,encodeURI(P.value))),d||!this.inXHTMLMode&&!this.inHTMLMode||"head"!=u.localName&&"body"!=u.localName||(d=h),d||(d=this.newBlankNode()),f=d)),h&&(B||U||d)){var V=h;k&&!B&&!U&&f&&(V=f),this.newSubjectOrigin(u,V)}if(d)for(H=this.tokenize(k.value),s=0;s<H.length;s++){var X=this.parseTermOrCURIEOrAbsURI(H[s],w,c.terms,p,x);X&&this.addTriple(u,d,this.typeURI,{type:this.objectURI,value:X})}if(h&&h!=c.parentObject&&(m={},v=!0),f){if(C&&q)for(s=0;s<z.length;s++)(W=m[z[s]])||(W=[],m[z[s]]=W),W.push({type:this.objectURI,value:f});else if(C)for(s=0;s<z.length;s++)this.addTriple(u,h,z[s],{type:this.objectURI,value:f});if(A)for(s=0;s<G.length;s++)this.addTriple(u,f,G[s],{type:this.objectURI,value:h})}else{if(h&&!f&&(C||A)&&(f=this.newBlankNode()),C&&q)for(s=0;s<z.length;s++)(W=m[z[s]])||(W=[],m[o]=W),y.push({predicate:z[s],list:W});else if(C)for(s=0;s<z.length;s++)y.push({predicate:z[s],forward:!0});if(A)for(s=0;s<G.length;s++)y.push({predicate:G[s],forward:!1})}if(O){var J=null,Q=null;for(D?(J=""==D.value?this.PlainLiteralURI:this.parseTermOrCURIEOrAbsURI(D.value,w,c.terms,p,x),Q=L&&!M?L.value:J==this.XMLLiteralURI||J==this.HTMLLiteralURI?null:M?M.value:u.textContent):M?(J=this.PlainLiteralURI,Q=M.value):L?(Q=L.value,(J=this.deriveDateTimeType(Q))||(J=this.PlainLiteralURI)):C||A||(U&&(Q=this.parseSafeCURIEOrCURIEOrURI(U.value,p,x)),!Q&&F?Q=this.resolveAndNormalize(x,encodeURI(F.value)):!Q&&P&&(Q=this.resolveAndNormalize(x,encodeURI(P.value))),Q&&(J=this.objectURI)),J||(k&&!B?(J=this.objectURI,Q=d):(Q=u.textContent,this.inHTMLMode&&"time"==u.localName&&(J=this.deriveDateTimeType(Q)),J||(J=this.PlainLiteralURI))),H=this.tokenize(O.value),s=0;s<H.length;s++){var W;(o=this.parsePredicate(H[s],w,c.terms,p,x))&&(q?((W=m[o])||(W=[],m[o]=W),W.push(J==this.XMLLiteralURI||J==this.HTMLLiteralURI?{type:J,value:u.innerHTML}:{type:J||this.PlainLiteralURI,value:Q,language:b})):J==this.XMLLiteralURI||J==this.HTMLLiteralURI?this.addTriple(u,h,o,{type:J,value:u.innerHTML}):this.addTriple(u,h,o,{type:J||this.PlainLiteralURI,value:Q,language:b}))}}if(h&&!l)for(s=0;s<c.incomplete.length;s++)c.incomplete[s].list?c.incomplete[s].list.push({type:this.objectURI,value:h}):c.incomplete[s].forward?this.addTriple(u,c.subject,c.incomplete[s].predicate,{type:this.objectURI,value:h}):this.addTriple(u,h,c.incomplete[s].predicate,{type:this.objectURI,value:c.subject});var Y=null,$=h;l?((Y=this.push(c,c.subject)).parentObject=n(u.parentNode.baseURI)==c.parentObject?n(u.baseURI):c.parentObject,Y.incomplete=c.incomplete,Y.language=b,Y.prefixes=p,Y.vocabulary=w):((Y=this.push(c,h)).parentObject=f||h||c.subject,Y.prefixes=p,Y.incomplete=y,f&&($=f,m={},v=!0),Y.listMapping=m,Y.language=b,Y.vocabulary=w),v&&r.unshift({parent:u,context:c,subject:$,listMapping:m});for(var Z=u.lastChild;Z;Z=Z.previousSibling)1==Z.nodeType&&r.unshift({current:Z,context:Y})}}for(this.inHTMLMode&&this.copyProperties(),s=0;s<this.finishedHandlers.length;s++)this.finishedHandlers[s](e);this.onTriple(null)}copyProperties(){}push(e,t){return{parent:e,subject:t||(e?e.subject:null),parentObject:null,incomplete:[],listMapping:e?e.listMapping:{},language:e?e.language:this.language,prefixes:e?e.prefixes:this.target.graph.prefixes,terms:e?e.terms:this.target.graph.terms,vocabulary:e?e.vocabulary:this.vocabulary}}}},function(e,t){const r=/^[A-Za-z][A-Za-z0-9\+\-\.]*\:/;e.exports=class{parseURI(e){var t=r.exec(e);if(!t)throw"Bad URI value, no scheme: "+e;var n={spec:e};return n.scheme=t[0].substring(0,t[0].length-1),n.schemeSpecificPart=n.spec.substring(t[0].length),"/"==n.schemeSpecificPart.charAt(0)&&"/"==n.schemeSpecificPart.charAt(1)?this.parseGeneric(n):n.isGeneric=!1,n.normalize=function(){if(this.isGeneric&&0!=this.segments.length){if(this.path.length>1&&"/."==this.path.substring(this.path.length-2))return this.path=this.path.substring(0,this.path.length-1),this.segments.splice(this.segments.length-1,1),this.schemeSpecificPart="//"+this.authority+this.path,void 0!==this.query&&(this.schemeSpecificPart+="?"+this.query),void 0!==this.fragment&&(this.schemeSpecificPart+="#"+this.fragment),void(this.spec=this.scheme+":"+this.schemeSpecificPart);var e=this.path.charAt(this.path.length-1);"/"!=e&&(e="");for(var t=0;t<this.segments.length;t++)t>0&&".."==this.segments[t]&&(this.segments.splice(t-1,2),t-=2),"."==this.segments[t]&&(this.segments.splice(t,1),t--);this.path=0==this.segments.length?"/":"/"+this.segments.join("/")+e,this.schemeSpecificPart="//"+this.authority+this.path,void 0!==this.query&&(this.schemeSpecificPart+="?"+this.query),void 0!==this.fragment&&(this.schemeSpecificPart+="#"+this.fragment),this.spec=this.scheme+":"+this.schemeSpecificPart}},n.resolve=function(e){if(!e)return this.spec;if("#"==e.charAt(0)){var t=this.spec.lastIndexOf("#");return t<0?this.spec+e:this.spec.substring(0,t)+e}if(!this.isGeneric)throw"Cannot resolve uri against non-generic URI: "+this.spec;if(e.indexOf(":"),"/"==e.charAt(0))return this.scheme+"://"+this.authority+e;if("."==e.charAt(0)&&"/"==e.charAt(1)){if("/"==this.path.charAt(this.path.length-1))return this.scheme+"://"+this.authority+this.path+e.substring(2);var n=this.path.lastIndexOf("/");return this.scheme+"://"+this.authority+this.path.substring(0,n)+e.substring(1)}return r.test(e)?e:"?"==e.charAt(0)?this.scheme+"://"+this.authority+this.path+e:"/"==this.path.charAt(this.path.length-1)?this.scheme+"://"+this.authority+this.path+e:(n=this.path.lastIndexOf("/"),this.scheme+"://"+this.authority+this.path.substring(0,n+1)+e)},n.relativeTo=function(e){if(e.scheme!=this.scheme)return this.spec;if(!this.isGeneric)throw"A non generic URI cannot be made relative: "+this.spec;if(!e.isGeneric)throw"Cannot make a relative URI against a non-generic URI: "+e.spec;if(e.authority!=this.authority)return this.spec;for(var t=0;t<this.segments.length&&t<e.segments.length;t++)if(this.segments[t]!=e.segments[t]){for(var r="/"==e.path.charAt(e.path.length-1)?0:-1,n="",i=t;i<e.segments.length+r;i++)n+="../";for(i=t;i<this.segments.length;i++)n+=this.segments[i],i+1<this.segments.length&&(n+="/");return"/"==this.path.charAt(this.path.length-1)&&(n+="/"),n}if(this.segments.length==e.segments.length)return this.hash?this.hash:this.query?this.query:"";if(t<this.segments.length){for(n="",i=t;i<this.segments.length;i++)n+=this.segments[i],i+1<this.segments.length&&(n+="/");return"/"==this.path.charAt(this.path.length-1)&&(n+="/"),n}throw"Cannot calculate a relative URI for "+this.spec+" against "+e.spec},n}parseGeneric(e){if("/"!=e.schemeSpecificPart.charAt(0)||"/"!=e.schemeSpecificPart.charAt(1))throw"Generic URI values should start with '//':"+e.spec;var t=e.schemeSpecificPart.substring(2),r=t.indexOf("/");e.authority=r<0?t:t.substring(0,r),e.path=r<0?"":t.substring(r);var n=e.path.indexOf("#");n>=0&&(e.fragment=e.path.substring(n+1),e.path=e.path.substring(0,n));var i=e.path.indexOf("?");if(i>=0&&(e.query=e.path.substring(i+1),e.path=e.path.substring(0,i)),"/"==e.path||""==e.path)e.segments=[];else{e.segments=e.path.split(/\//),e.segments.length>0&&""==e.segments[0]&&e.path.length>1&&"/"!=e.path.charAt(1)&&e.segments.shift(),e.segments.length>0&&e.path.length>0&&"/"==e.path.charAt(e.path.length-1)&&""==e.segments[e.segments.length-1]&&e.path.length>1&&"/"!=e.path.charAt(e.path.length-2)&&e.segments.pop();for(var o=0;o<e.segments.length;o++)for(var a=e.segments[o].split(/%[A-Za-z0-9][A-Za-z0-9]|[\ud800-\udfff][\ud800-\udfff]|[A-Za-z0-9\-\._~!$&'()*+,;=@:\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF]+/),s=0;s<a.length;s++)if(a[s].length>0)throw"Unecaped character "+a[s].charAt(0)+" ("+a[s].charCodeAt(0)+") in URI "+e.spec}e.isGeneric=!0}}},function(e,t){e.exports=function(e,t){var r=(new DOMParser).parseFromString(e,"text/html");return r.URL=t,r.documentURI=t,r}}]);